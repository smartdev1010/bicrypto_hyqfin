import{d as l}from"./pinia-72e453fe.js";let s,c=(async()=>{s=l("market",{state:()=>({markets:[],favs:[],ecos:[],bestAsk:null,bestBid:null,exchange:null,widget:null,market:null,walSym:null,walCur:null,wallet_type:null}),actions:{async fetch_markets(){const t=await axios.get("/data/markets/markets.json");this.markets=t[provider]},async fetch_favs(){await axios.post("/user/watchlist/data").then(t=>{this.favs=t.favs.sort((e,a)=>e.currency.localeCompare(a.currency))})},async fetch_ecos(){await axios.get("/user/eco/data").then(t=>{this.ecos=t.ecos})},async fetchWallet(t,e){await axios.post("/user/fetch/wallet",{type:this.wallet_type,symbol:t}).then(a=>{e==1?this.walSym=a.balance:e==2&&(this.walCur=a.balance)})},async createWallet(t,e){this.loading=!0,await axios.post("/user/wallet/j/create",{type:this.wallet_type,symbol:t}).then(a=>{this.fetchWallet(t,e),$toast[a.type](a.message)}).catch(a=>{$toast.error(a.response.data.message)}).finally(()=>{this.loading=!1})}},persist:!0})})();export{c as __tla,s as u};
