import{v as yh,x as wh,y as bh,z as Mh,B as Wi,__tla as Eh}from"./index-49b55558.js";import{c as kh,p as xh,s as Sh,a as Ih,d as Ch,b as be,I as Ah,f as zi,J as Fi,H as Rh}from"./index-47d1cea2.js";import{c as Nh,g as Hi}from"./_commonjsHelpers-87174ba5.js";import{d as Th}from"./dijkstra-59d11638.js";import"./preload-helper-6f27e6cf.js";import"./tslib-4d46970e.js";let $i,Oh=Promise.all([(()=>{try{return Eh}catch{}})()]).then(async()=>{var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});var ar=Ye.getWindowMetadata=void 0;const ur=kh;function Yi(){let e,t;try{e=ur.getDocumentOrThrow(),t=ur.getLocationOrThrow()}catch{return null}function n(){const M=e.getElementsByTagName("link"),T=[];for(let U=0;U<M.length;U++){const O=M[U],j=O.getAttribute("rel");if(j&&j.toLowerCase().indexOf("icon")>-1){const B=O.getAttribute("href");if(B)if(B.toLowerCase().indexOf("https:")===-1&&B.toLowerCase().indexOf("http:")===-1&&B.indexOf("//")!==0){let k=t.protocol+"//"+t.host;if(B.indexOf("/")===0)k+=B;else{const x=t.pathname.split("/");x.pop();const A=x.join("/");k+=A+"/"+B}T.push(k)}else if(B.indexOf("//")===0){const k=t.protocol+B;T.push(k)}else T.push(B)}}return T}function r(...M){const T=e.getElementsByTagName("meta");for(let U=0;U<T.length;U++){const O=T[U],j=["itemprop","property","name"].map(B=>O.getAttribute(B)).filter(B=>B?M.includes(B):!1);if(j.length&&j){const B=O.getAttribute("content");if(B)return B}}return""}function l(){let M=r("name","og:site_name","og:title","twitter:title");return M||(M=e.title),M}function s(){return r("description","og:description","twitter:description","keywords")}const v=l(),c=s(),E=t.origin,I=n();return{description:c,url:E,icons:I,name:v}}ar=Ye.getWindowMetadata=Yi;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});var lr=rt.getLocalStorage=wr=rt.getLocalStorageOrThrow=yr=rt.getCrypto=vr=rt.getCryptoOrThrow=_r=rt.getLocation=gr=rt.getLocationOrThrow=mr=rt.getNavigator=pr=rt.getNavigatorOrThrow=dr=rt.getDocument=fr=rt.getDocumentOrThrow=cr=rt.getFromWindowOrThrow=hr=rt.getFromWindow=void 0;function Jt(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}var hr=rt.getFromWindow=Jt;function Xt(e){const t=Jt(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var cr=rt.getFromWindowOrThrow=Xt;function Ji(){return Xt("document")}var fr=rt.getDocumentOrThrow=Ji;function Vi(){return Jt("document")}var dr=rt.getDocument=Vi;function Ki(){return Xt("navigator")}var pr=rt.getNavigatorOrThrow=Ki;function Zi(){return Jt("navigator")}var mr=rt.getNavigator=Zi;function Xi(){return Xt("location")}var gr=rt.getLocationOrThrow=Xi;function Qi(){return Jt("location")}var _r=rt.getLocation=Qi;function Gi(){return Xt("crypto")}var vr=rt.getCryptoOrThrow=Gi;function ts(){return Jt("crypto")}var yr=rt.getCrypto=ts;function es(){return Xt("localStorage")}var wr=rt.getLocalStorageOrThrow=es;function ns(){return Jt("localStorage")}lr=rt.getLocalStorage=ns;var rs=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),l=0,t=0;t<n;t++)for(var s=arguments[t],v=0,c=s.length;v<c;v++,l++)r[l]=s[v];return r},os=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),is=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),ss=function(){function e(t,n,r,l){this.name=t,this.version=n,this.os=r,this.bot=l,this.type="bot-device"}return e}(),as=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),us=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),ls=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hs=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,br=3,cs=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",ls]],Mr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function fs(e){return e?Er(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new us:typeof navigator<"u"?Er(navigator.userAgent):ms()}function ds(e){return e!==""&&cs.reduce(function(t,n){var r=n[0],l=n[1];if(t)return t;var s=l.exec(e);return!!s&&[r,s]},!1)}function Er(e){var t=ds(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new as;var l=r[1]&&r[1].split(/[._]/).slice(0,3);l?l.length<br&&(l=rs(l,gs(br-l.length))):l=[];var s=l.join("."),v=ps(e),c=hs.exec(e);return c&&c[1]?new ss(n,s,v,c[1]):new os(n,s,v)}function ps(e){for(var t=0,n=Mr.length;t<n;t++){var r=Mr[t],l=r[0],s=r[1],v=s.exec(e);if(v)return l}return null}function ms(){var e=typeof process<"u"&&process.version;return e?new is(process.version.slice(1)):null}function gs(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}function Me(e){return fs(e)}function Ee(){const e=Me();return e&&e.os?e.os:void 0}function kr(){const e=Ee();return e?e.toLowerCase().includes("android"):!1}function xr(){const e=Ee();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Sr(){return Ee()?kr()||xr():!1}function Ir(){const e=Me();return e&&e.name?e.name.toLowerCase()==="node":!1}function Cr(){return!Ir()&&!!Ar()}const _s=hr,vs=cr,ys=fr,ws=dr,bs=pr,Ar=mr,Ms=gr,Rr=_r,Es=vr,ks=yr,xs=wr,ke=lr;function Je(){return ar()}function Ss(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}function Is(e){return typeof e=="string"?e:JSON.stringify(e)}const Nr=Ss,Tr=Is;function Ve(e,t){const n=Tr(t),r=ke();r&&r.setItem(e,n)}function Ke(e){let t=null,n=null;const r=ke();return r&&(n=r.getItem(e)),t=n&&Nr(n),t}function Ze(e){const t=ke();t&&t.removeItem(e)}const xe="WALLETCONNECT_DEEPLINK_CHOICE";function Cs(e,t){const n=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${n}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function As(e){const t=e.href.split("?")[0];Ve(xe,Object.assign(Object.assign({},e),{href:t}))}function Or(e,t){return e.filter(n=>n.name.toLowerCase().includes(t.toLowerCase()))[0]}function Rs(e,t){let n=e;return t&&(n=t.map(r=>Or(e,r)).filter(Boolean)),n}const Lr="https://registry.walletconnect.com";function Ns(){return Lr+"/api/v2/wallets"}function Ts(){return Lr+"/api/v2/dapps"}function Br(e,t="mobile"){var n;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:(n=e.image_url.sm)!==null&&n!==void 0?n:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function Os(e,t="mobile"){return Object.values(e).filter(n=>!!n[t].universal||!!n[t].native).map(n=>Br(n,t))}const Ls=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Me,detectOS:Ee,isAndroid:kr,isIOS:xr,isMobile:Sr,isNode:Ir,isBrowser:Cr,getFromWindow:_s,getFromWindowOrThrow:vs,getDocumentOrThrow:ys,getDocument:ws,getNavigatorOrThrow:bs,getNavigator:Ar,getLocationOrThrow:Ms,getLocation:Rr,getCryptoOrThrow:Es,getCrypto:ks,getLocalStorageOrThrow:xs,getLocalStorage:ke,getClientMeta:Je,safeJsonParse:Nr,safeJsonStringify:Tr,setLocal:Ve,getLocal:Ke,removeLocal:Ze,mobileLinkChoiceKey:xe,formatIOSMobile:Cs,saveMobileLinkInfo:As,getMobileRegistryEntry:Or,getMobileLinkRegistry:Rs,getWalletRegistryUrl:Ns,getDappRegistryUrl:Ts,formatMobileRegistryEntry:Br,formatMobileRegistry:Os},Symbol.toStringTag,{value:"Module"})),Bs=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Xe=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Ps={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Qe={},Us={get exports(){return Qe},set exports(e){Qe=e}};(function(e){(function(t,n){function r(o,h){if(!o)throw new Error(h||"Assertion failed")}function l(o,h){o.super_=h;var f=function(){};f.prototype=h.prototype,o.prototype=new f,o.prototype.constructor=o}function s(o,h,f){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(f=h,h=10),this._init(o||0,h||10,f||"be"))}typeof t=="object"?t.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var v;try{v=yh.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,h){return o.cmp(h)>0?o:h},s.min=function(o,h){return o.cmp(h)<0?o:h},s.prototype._init=function(o,h,f){if(typeof o=="number")return this._initNumber(o,h,f);if(typeof o=="object")return this._initArray(o,h,f);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var p=0;o[0]==="-"&&p++,h===16?this._parseHex(o,p):this._parseBase(o,h,p),o[0]==="-"&&(this.negative=1),this.strip(),f==="le"&&this._initArray(this.toArray(),h,f)},s.prototype._initNumber=function(o,h,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),h,f)},s.prototype._initArray=function(o,h,f){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var _,w,b=0;if(f==="be")for(p=o.length-1,_=0;p>=0;p-=3)w=o[p]|o[p-1]<<8|o[p-2]<<16,this.words[_]|=w<<b&67108863,this.words[_+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,_++);else if(f==="le")for(p=0,_=0;p<o.length;p+=3)w=o[p]|o[p+1]<<8|o[p+2]<<16,this.words[_]|=w<<b&67108863,this.words[_+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,_++);return this.strip()};function c(o,h,f){for(var p=0,_=Math.min(o.length,f),w=h;w<_;w++){var b=o.charCodeAt(w)-48;p<<=4,b>=49&&b<=54?p|=b-49+10:b>=17&&b<=22?p|=b-17+10:p|=b&15}return p}s.prototype._parseHex=function(o,h){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var p,_,w=0;for(f=o.length-6,p=0;f>=h;f-=6)_=c(o,f,f+6),this.words[p]|=_<<w&67108863,this.words[p+1]|=_>>>26-w&4194303,w+=24,w>=26&&(w-=26,p++);f+6!==h&&(_=c(o,h,f+6),this.words[p]|=_<<w&67108863,this.words[p+1]|=_>>>26-w&4194303),this.strip()};function E(o,h,f,p){for(var _=0,w=Math.min(o.length,f),b=h;b<w;b++){var m=o.charCodeAt(b)-48;_*=p,m>=49?_+=m-49+10:m>=17?_+=m-17+10:_+=m}return _}s.prototype._parseBase=function(o,h,f){this.words=[0],this.length=1;for(var p=0,_=1;_<=67108863;_*=h)p++;p--,_=_/h|0;for(var w=o.length-f,b=w%p,m=Math.min(w,w-b)+f,a=0,g=f;g<m;g+=p)a=E(o,g,g+p,h),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(b!==0){var F=1;for(a=E(o,g,o.length,h),g=0;g<b;g++)F*=h;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},s.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,h){o=o||10,h=h|0||1;var f;if(o===16||o==="hex"){f="";for(var p=0,_=0,w=0;w<this.length;w++){var b=this.words[w],m=((b<<p|_)&16777215).toString(16);_=b>>>24-p&16777215,_!==0||w!==this.length-1?f=I[6-m.length]+m+f:f=m+f,p+=2,p>=26&&(p-=26,w--)}for(_!==0&&(f=_.toString(16)+f);f.length%h!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=M[o],g=T[o];f="";var F=this.clone();for(F.negative=0;!F.isZero();){var L=F.modn(g).toString(o);F=F.idivn(g),F.isZero()?f=L+f:f=I[a-L.length]+L+f}for(this.isZero()&&(f="0"+f);f.length%h!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(o,h){return r(typeof v<"u"),this.toArrayLike(v,o,h)},s.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)},s.prototype.toArrayLike=function(o,h,f){var p=this.byteLength(),_=f||Math.max(1,p);r(p<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var w=h==="le",b=new o(_),m,a,g=this.clone();if(w){for(a=0;!g.isZero();a++)m=g.andln(255),g.iushrn(8),b[a]=m;for(;a<_;a++)b[a]=0}else{for(a=0;a<_-p;a++)b[a]=0;for(a=0;!g.isZero();a++)m=g.andln(255),g.iushrn(8),b[_-a-1]=m}return b},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var h=o,f=0;return h>=4096&&(f+=13,h>>>=13),h>=64&&(f+=7,h>>>=7),h>=8&&(f+=4,h>>>=4),h>=2&&(f+=2,h>>>=2),f+h},s.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,f=0;return h&8191||(f+=13,h>>>=13),h&127||(f+=7,h>>>=7),h&15||(f+=4,h>>>=4),h&3||(f+=2,h>>>=2),h&1||f++,f},s.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function U(o){for(var h=new Array(o.bitLength()),f=0;f<h.length;f++){var p=f/26|0,_=f%26;h[f]=(o.words[p]&1<<_)>>>_}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var f=this._zeroBits(this.words[h]);if(o+=f,f!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this.strip()},s.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var f=0;f<h.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=h.length,this.strip()},s.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var h,f;this.length>o.length?(h=this,f=o):(h=o,f=this);for(var p=0;p<f.length;p++)this.words[p]=h.words[p]^f.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},s.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,f=o%26;this._expand(h),f>0&&h--;for(var p=0;p<h;p++)this.words[p]=~this.words[p]&67108863;return f>0&&(this.words[p]=~this.words[p]&67108863>>26-f),this.strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,h){r(typeof o=="number"&&o>=0);var f=o/26|0,p=o%26;return this._expand(f+1),h?this.words[f]=this.words[f]|1<<p:this.words[f]=this.words[f]&~(1<<p),this.strip()},s.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var f,p;this.length>o.length?(f=this,p=o):(f=o,p=this);for(var _=0,w=0;w<p.length;w++)h=(f.words[w]|0)+(p.words[w]|0)+_,this.words[w]=h&67108863,_=h>>>26;for(;_!==0&&w<f.length;w++)h=(f.words[w]|0)+_,this.words[w]=h&67108863,_=h>>>26;if(this.length=f.length,_!==0)this.words[this.length]=_,this.length++;else if(f!==this)for(;w<f.length;w++)this.words[w]=f.words[w];return this},s.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,_;f>0?(p=this,_=o):(p=o,_=this);for(var w=0,b=0;b<_.length;b++)h=(p.words[b]|0)-(_.words[b]|0)+w,w=h>>26,this.words[b]=h&67108863;for(;w!==0&&b<p.length;b++)h=(p.words[b]|0)+w,w=h>>26,this.words[b]=h&67108863;if(w===0&&b<p.length&&p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=Math.max(this.length,b),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function O(o,h,f){f.negative=h.negative^o.negative;var p=o.length+h.length|0;f.length=p,p=p-1|0;var _=o.words[0]|0,w=h.words[0]|0,b=_*w,m=b&67108863,a=b/67108864|0;f.words[0]=m;for(var g=1;g<p;g++){for(var F=a>>>26,L=a&67108863,W=Math.min(g,h.length-1),J=Math.max(0,g-o.length+1);J<=W;J++){var X=g-J|0;_=o.words[X]|0,w=h.words[J]|0,b=_*w+L,F+=b/67108864|0,L=b&67108863}f.words[g]=L|0,a=F|0}return a!==0?f.words[g]=a|0:f.length--,f.strip()}var j=function(o,h,f){var p=o.words,_=h.words,w=f.words,b=0,m,a,g,F=p[0]|0,L=F&8191,W=F>>>13,J=p[1]|0,X=J&8191,tt=J>>>13,Ut=p[2]|0,et=Ut&8191,nt=Ut>>>13,He=p[3]|0,ut=He&8191,st=He>>>13,Zt=p[4]|0,G=Zt&8191,it=Zt>>>13,$e=p[5]|0,i=$e&8191,u=$e>>>13,d=p[6]|0,y=d&8191,S=d>>>13,N=p[7]|0,P=N&8191,Y=N>>>13,ht=p[8]|0,V=ht&8191,Z=ht>>>13,Nt=p[9]|0,ot=Nt&8191,at=Nt>>>13,we=_[0]|0,ct=we&8191,ft=we>>>13,Ti=_[1]|0,dt=Ti&8191,pt=Ti>>>13,Oi=_[2]|0,mt=Oi&8191,gt=Oi>>>13,Li=_[3]|0,_t=Li&8191,vt=Li>>>13,Bi=_[4]|0,yt=Bi&8191,wt=Bi>>>13,Pi=_[5]|0,bt=Pi&8191,Mt=Pi>>>13,Ui=_[6]|0,Et=Ui&8191,kt=Ui>>>13,qi=_[7]|0,xt=qi&8191,St=qi>>>13,ji=_[8]|0,It=ji&8191,Ct=ji>>>13,Di=_[9]|0,At=Di&8191,Rt=Di>>>13;f.negative=o.negative^h.negative,f.length=19,m=Math.imul(L,ct),a=Math.imul(L,ft),a=a+Math.imul(W,ct)|0,g=Math.imul(W,ft);var zn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,m=Math.imul(X,ct),a=Math.imul(X,ft),a=a+Math.imul(tt,ct)|0,g=Math.imul(tt,ft),m=m+Math.imul(L,dt)|0,a=a+Math.imul(L,pt)|0,a=a+Math.imul(W,dt)|0,g=g+Math.imul(W,pt)|0;var Fn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,m=Math.imul(et,ct),a=Math.imul(et,ft),a=a+Math.imul(nt,ct)|0,g=Math.imul(nt,ft),m=m+Math.imul(X,dt)|0,a=a+Math.imul(X,pt)|0,a=a+Math.imul(tt,dt)|0,g=g+Math.imul(tt,pt)|0,m=m+Math.imul(L,mt)|0,a=a+Math.imul(L,gt)|0,a=a+Math.imul(W,mt)|0,g=g+Math.imul(W,gt)|0;var Hn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,m=Math.imul(ut,ct),a=Math.imul(ut,ft),a=a+Math.imul(st,ct)|0,g=Math.imul(st,ft),m=m+Math.imul(et,dt)|0,a=a+Math.imul(et,pt)|0,a=a+Math.imul(nt,dt)|0,g=g+Math.imul(nt,pt)|0,m=m+Math.imul(X,mt)|0,a=a+Math.imul(X,gt)|0,a=a+Math.imul(tt,mt)|0,g=g+Math.imul(tt,gt)|0,m=m+Math.imul(L,_t)|0,a=a+Math.imul(L,vt)|0,a=a+Math.imul(W,_t)|0,g=g+Math.imul(W,vt)|0;var $n=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+($n>>>26)|0,$n&=67108863,m=Math.imul(G,ct),a=Math.imul(G,ft),a=a+Math.imul(it,ct)|0,g=Math.imul(it,ft),m=m+Math.imul(ut,dt)|0,a=a+Math.imul(ut,pt)|0,a=a+Math.imul(st,dt)|0,g=g+Math.imul(st,pt)|0,m=m+Math.imul(et,mt)|0,a=a+Math.imul(et,gt)|0,a=a+Math.imul(nt,mt)|0,g=g+Math.imul(nt,gt)|0,m=m+Math.imul(X,_t)|0,a=a+Math.imul(X,vt)|0,a=a+Math.imul(tt,_t)|0,g=g+Math.imul(tt,vt)|0,m=m+Math.imul(L,yt)|0,a=a+Math.imul(L,wt)|0,a=a+Math.imul(W,yt)|0,g=g+Math.imul(W,wt)|0;var Yn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,m=Math.imul(i,ct),a=Math.imul(i,ft),a=a+Math.imul(u,ct)|0,g=Math.imul(u,ft),m=m+Math.imul(G,dt)|0,a=a+Math.imul(G,pt)|0,a=a+Math.imul(it,dt)|0,g=g+Math.imul(it,pt)|0,m=m+Math.imul(ut,mt)|0,a=a+Math.imul(ut,gt)|0,a=a+Math.imul(st,mt)|0,g=g+Math.imul(st,gt)|0,m=m+Math.imul(et,_t)|0,a=a+Math.imul(et,vt)|0,a=a+Math.imul(nt,_t)|0,g=g+Math.imul(nt,vt)|0,m=m+Math.imul(X,yt)|0,a=a+Math.imul(X,wt)|0,a=a+Math.imul(tt,yt)|0,g=g+Math.imul(tt,wt)|0,m=m+Math.imul(L,bt)|0,a=a+Math.imul(L,Mt)|0,a=a+Math.imul(W,bt)|0,g=g+Math.imul(W,Mt)|0;var Jn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,m=Math.imul(y,ct),a=Math.imul(y,ft),a=a+Math.imul(S,ct)|0,g=Math.imul(S,ft),m=m+Math.imul(i,dt)|0,a=a+Math.imul(i,pt)|0,a=a+Math.imul(u,dt)|0,g=g+Math.imul(u,pt)|0,m=m+Math.imul(G,mt)|0,a=a+Math.imul(G,gt)|0,a=a+Math.imul(it,mt)|0,g=g+Math.imul(it,gt)|0,m=m+Math.imul(ut,_t)|0,a=a+Math.imul(ut,vt)|0,a=a+Math.imul(st,_t)|0,g=g+Math.imul(st,vt)|0,m=m+Math.imul(et,yt)|0,a=a+Math.imul(et,wt)|0,a=a+Math.imul(nt,yt)|0,g=g+Math.imul(nt,wt)|0,m=m+Math.imul(X,bt)|0,a=a+Math.imul(X,Mt)|0,a=a+Math.imul(tt,bt)|0,g=g+Math.imul(tt,Mt)|0,m=m+Math.imul(L,Et)|0,a=a+Math.imul(L,kt)|0,a=a+Math.imul(W,Et)|0,g=g+Math.imul(W,kt)|0;var Vn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,m=Math.imul(P,ct),a=Math.imul(P,ft),a=a+Math.imul(Y,ct)|0,g=Math.imul(Y,ft),m=m+Math.imul(y,dt)|0,a=a+Math.imul(y,pt)|0,a=a+Math.imul(S,dt)|0,g=g+Math.imul(S,pt)|0,m=m+Math.imul(i,mt)|0,a=a+Math.imul(i,gt)|0,a=a+Math.imul(u,mt)|0,g=g+Math.imul(u,gt)|0,m=m+Math.imul(G,_t)|0,a=a+Math.imul(G,vt)|0,a=a+Math.imul(it,_t)|0,g=g+Math.imul(it,vt)|0,m=m+Math.imul(ut,yt)|0,a=a+Math.imul(ut,wt)|0,a=a+Math.imul(st,yt)|0,g=g+Math.imul(st,wt)|0,m=m+Math.imul(et,bt)|0,a=a+Math.imul(et,Mt)|0,a=a+Math.imul(nt,bt)|0,g=g+Math.imul(nt,Mt)|0,m=m+Math.imul(X,Et)|0,a=a+Math.imul(X,kt)|0,a=a+Math.imul(tt,Et)|0,g=g+Math.imul(tt,kt)|0,m=m+Math.imul(L,xt)|0,a=a+Math.imul(L,St)|0,a=a+Math.imul(W,xt)|0,g=g+Math.imul(W,St)|0;var Kn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,m=Math.imul(V,ct),a=Math.imul(V,ft),a=a+Math.imul(Z,ct)|0,g=Math.imul(Z,ft),m=m+Math.imul(P,dt)|0,a=a+Math.imul(P,pt)|0,a=a+Math.imul(Y,dt)|0,g=g+Math.imul(Y,pt)|0,m=m+Math.imul(y,mt)|0,a=a+Math.imul(y,gt)|0,a=a+Math.imul(S,mt)|0,g=g+Math.imul(S,gt)|0,m=m+Math.imul(i,_t)|0,a=a+Math.imul(i,vt)|0,a=a+Math.imul(u,_t)|0,g=g+Math.imul(u,vt)|0,m=m+Math.imul(G,yt)|0,a=a+Math.imul(G,wt)|0,a=a+Math.imul(it,yt)|0,g=g+Math.imul(it,wt)|0,m=m+Math.imul(ut,bt)|0,a=a+Math.imul(ut,Mt)|0,a=a+Math.imul(st,bt)|0,g=g+Math.imul(st,Mt)|0,m=m+Math.imul(et,Et)|0,a=a+Math.imul(et,kt)|0,a=a+Math.imul(nt,Et)|0,g=g+Math.imul(nt,kt)|0,m=m+Math.imul(X,xt)|0,a=a+Math.imul(X,St)|0,a=a+Math.imul(tt,xt)|0,g=g+Math.imul(tt,St)|0,m=m+Math.imul(L,It)|0,a=a+Math.imul(L,Ct)|0,a=a+Math.imul(W,It)|0,g=g+Math.imul(W,Ct)|0;var Zn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,m=Math.imul(ot,ct),a=Math.imul(ot,ft),a=a+Math.imul(at,ct)|0,g=Math.imul(at,ft),m=m+Math.imul(V,dt)|0,a=a+Math.imul(V,pt)|0,a=a+Math.imul(Z,dt)|0,g=g+Math.imul(Z,pt)|0,m=m+Math.imul(P,mt)|0,a=a+Math.imul(P,gt)|0,a=a+Math.imul(Y,mt)|0,g=g+Math.imul(Y,gt)|0,m=m+Math.imul(y,_t)|0,a=a+Math.imul(y,vt)|0,a=a+Math.imul(S,_t)|0,g=g+Math.imul(S,vt)|0,m=m+Math.imul(i,yt)|0,a=a+Math.imul(i,wt)|0,a=a+Math.imul(u,yt)|0,g=g+Math.imul(u,wt)|0,m=m+Math.imul(G,bt)|0,a=a+Math.imul(G,Mt)|0,a=a+Math.imul(it,bt)|0,g=g+Math.imul(it,Mt)|0,m=m+Math.imul(ut,Et)|0,a=a+Math.imul(ut,kt)|0,a=a+Math.imul(st,Et)|0,g=g+Math.imul(st,kt)|0,m=m+Math.imul(et,xt)|0,a=a+Math.imul(et,St)|0,a=a+Math.imul(nt,xt)|0,g=g+Math.imul(nt,St)|0,m=m+Math.imul(X,It)|0,a=a+Math.imul(X,Ct)|0,a=a+Math.imul(tt,It)|0,g=g+Math.imul(tt,Ct)|0,m=m+Math.imul(L,At)|0,a=a+Math.imul(L,Rt)|0,a=a+Math.imul(W,At)|0,g=g+Math.imul(W,Rt)|0;var Xn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,m=Math.imul(ot,dt),a=Math.imul(ot,pt),a=a+Math.imul(at,dt)|0,g=Math.imul(at,pt),m=m+Math.imul(V,mt)|0,a=a+Math.imul(V,gt)|0,a=a+Math.imul(Z,mt)|0,g=g+Math.imul(Z,gt)|0,m=m+Math.imul(P,_t)|0,a=a+Math.imul(P,vt)|0,a=a+Math.imul(Y,_t)|0,g=g+Math.imul(Y,vt)|0,m=m+Math.imul(y,yt)|0,a=a+Math.imul(y,wt)|0,a=a+Math.imul(S,yt)|0,g=g+Math.imul(S,wt)|0,m=m+Math.imul(i,bt)|0,a=a+Math.imul(i,Mt)|0,a=a+Math.imul(u,bt)|0,g=g+Math.imul(u,Mt)|0,m=m+Math.imul(G,Et)|0,a=a+Math.imul(G,kt)|0,a=a+Math.imul(it,Et)|0,g=g+Math.imul(it,kt)|0,m=m+Math.imul(ut,xt)|0,a=a+Math.imul(ut,St)|0,a=a+Math.imul(st,xt)|0,g=g+Math.imul(st,St)|0,m=m+Math.imul(et,It)|0,a=a+Math.imul(et,Ct)|0,a=a+Math.imul(nt,It)|0,g=g+Math.imul(nt,Ct)|0,m=m+Math.imul(X,At)|0,a=a+Math.imul(X,Rt)|0,a=a+Math.imul(tt,At)|0,g=g+Math.imul(tt,Rt)|0;var Qn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,m=Math.imul(ot,mt),a=Math.imul(ot,gt),a=a+Math.imul(at,mt)|0,g=Math.imul(at,gt),m=m+Math.imul(V,_t)|0,a=a+Math.imul(V,vt)|0,a=a+Math.imul(Z,_t)|0,g=g+Math.imul(Z,vt)|0,m=m+Math.imul(P,yt)|0,a=a+Math.imul(P,wt)|0,a=a+Math.imul(Y,yt)|0,g=g+Math.imul(Y,wt)|0,m=m+Math.imul(y,bt)|0,a=a+Math.imul(y,Mt)|0,a=a+Math.imul(S,bt)|0,g=g+Math.imul(S,Mt)|0,m=m+Math.imul(i,Et)|0,a=a+Math.imul(i,kt)|0,a=a+Math.imul(u,Et)|0,g=g+Math.imul(u,kt)|0,m=m+Math.imul(G,xt)|0,a=a+Math.imul(G,St)|0,a=a+Math.imul(it,xt)|0,g=g+Math.imul(it,St)|0,m=m+Math.imul(ut,It)|0,a=a+Math.imul(ut,Ct)|0,a=a+Math.imul(st,It)|0,g=g+Math.imul(st,Ct)|0,m=m+Math.imul(et,At)|0,a=a+Math.imul(et,Rt)|0,a=a+Math.imul(nt,At)|0,g=g+Math.imul(nt,Rt)|0;var Gn=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,m=Math.imul(ot,_t),a=Math.imul(ot,vt),a=a+Math.imul(at,_t)|0,g=Math.imul(at,vt),m=m+Math.imul(V,yt)|0,a=a+Math.imul(V,wt)|0,a=a+Math.imul(Z,yt)|0,g=g+Math.imul(Z,wt)|0,m=m+Math.imul(P,bt)|0,a=a+Math.imul(P,Mt)|0,a=a+Math.imul(Y,bt)|0,g=g+Math.imul(Y,Mt)|0,m=m+Math.imul(y,Et)|0,a=a+Math.imul(y,kt)|0,a=a+Math.imul(S,Et)|0,g=g+Math.imul(S,kt)|0,m=m+Math.imul(i,xt)|0,a=a+Math.imul(i,St)|0,a=a+Math.imul(u,xt)|0,g=g+Math.imul(u,St)|0,m=m+Math.imul(G,It)|0,a=a+Math.imul(G,Ct)|0,a=a+Math.imul(it,It)|0,g=g+Math.imul(it,Ct)|0,m=m+Math.imul(ut,At)|0,a=a+Math.imul(ut,Rt)|0,a=a+Math.imul(st,At)|0,g=g+Math.imul(st,Rt)|0;var tr=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(ot,yt),a=Math.imul(ot,wt),a=a+Math.imul(at,yt)|0,g=Math.imul(at,wt),m=m+Math.imul(V,bt)|0,a=a+Math.imul(V,Mt)|0,a=a+Math.imul(Z,bt)|0,g=g+Math.imul(Z,Mt)|0,m=m+Math.imul(P,Et)|0,a=a+Math.imul(P,kt)|0,a=a+Math.imul(Y,Et)|0,g=g+Math.imul(Y,kt)|0,m=m+Math.imul(y,xt)|0,a=a+Math.imul(y,St)|0,a=a+Math.imul(S,xt)|0,g=g+Math.imul(S,St)|0,m=m+Math.imul(i,It)|0,a=a+Math.imul(i,Ct)|0,a=a+Math.imul(u,It)|0,g=g+Math.imul(u,Ct)|0,m=m+Math.imul(G,At)|0,a=a+Math.imul(G,Rt)|0,a=a+Math.imul(it,At)|0,g=g+Math.imul(it,Rt)|0;var er=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(ot,bt),a=Math.imul(ot,Mt),a=a+Math.imul(at,bt)|0,g=Math.imul(at,Mt),m=m+Math.imul(V,Et)|0,a=a+Math.imul(V,kt)|0,a=a+Math.imul(Z,Et)|0,g=g+Math.imul(Z,kt)|0,m=m+Math.imul(P,xt)|0,a=a+Math.imul(P,St)|0,a=a+Math.imul(Y,xt)|0,g=g+Math.imul(Y,St)|0,m=m+Math.imul(y,It)|0,a=a+Math.imul(y,Ct)|0,a=a+Math.imul(S,It)|0,g=g+Math.imul(S,Ct)|0,m=m+Math.imul(i,At)|0,a=a+Math.imul(i,Rt)|0,a=a+Math.imul(u,At)|0,g=g+Math.imul(u,Rt)|0;var nr=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(ot,Et),a=Math.imul(ot,kt),a=a+Math.imul(at,Et)|0,g=Math.imul(at,kt),m=m+Math.imul(V,xt)|0,a=a+Math.imul(V,St)|0,a=a+Math.imul(Z,xt)|0,g=g+Math.imul(Z,St)|0,m=m+Math.imul(P,It)|0,a=a+Math.imul(P,Ct)|0,a=a+Math.imul(Y,It)|0,g=g+Math.imul(Y,Ct)|0,m=m+Math.imul(y,At)|0,a=a+Math.imul(y,Rt)|0,a=a+Math.imul(S,At)|0,g=g+Math.imul(S,Rt)|0;var rr=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(ot,xt),a=Math.imul(ot,St),a=a+Math.imul(at,xt)|0,g=Math.imul(at,St),m=m+Math.imul(V,It)|0,a=a+Math.imul(V,Ct)|0,a=a+Math.imul(Z,It)|0,g=g+Math.imul(Z,Ct)|0,m=m+Math.imul(P,At)|0,a=a+Math.imul(P,Rt)|0,a=a+Math.imul(Y,At)|0,g=g+Math.imul(Y,Rt)|0;var or=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(ot,It),a=Math.imul(ot,Ct),a=a+Math.imul(at,It)|0,g=Math.imul(at,Ct),m=m+Math.imul(V,At)|0,a=a+Math.imul(V,Rt)|0,a=a+Math.imul(Z,At)|0,g=g+Math.imul(Z,Rt)|0;var ir=(b+m|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(ot,At),a=Math.imul(ot,Rt),a=a+Math.imul(at,At)|0,g=Math.imul(at,Rt);var sr=(b+m|0)+((a&8191)<<13)|0;return b=(g+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,w[0]=zn,w[1]=Fn,w[2]=Hn,w[3]=$n,w[4]=Yn,w[5]=Jn,w[6]=Vn,w[7]=Kn,w[8]=Zn,w[9]=Xn,w[10]=Qn,w[11]=Gn,w[12]=tr,w[13]=er,w[14]=nr,w[15]=rr,w[16]=or,w[17]=ir,w[18]=sr,b!==0&&(w[19]=b,f.length++),f};Math.imul||(j=O);function B(o,h,f){f.negative=h.negative^o.negative,f.length=o.length+h.length;for(var p=0,_=0,w=0;w<f.length-1;w++){var b=_;_=0;for(var m=p&67108863,a=Math.min(w,h.length-1),g=Math.max(0,w-o.length+1);g<=a;g++){var F=w-g,L=o.words[F]|0,W=h.words[g]|0,J=L*W,X=J&67108863;b=b+(J/67108864|0)|0,X=X+m|0,m=X&67108863,b=b+(X>>>26)|0,_+=b>>>26,b&=67108863}f.words[w]=m,p=b,b=_}return p!==0?f.words[w]=p:f.length--,f.strip()}function k(o,h,f){var p=new x;return p.mulp(o,h,f)}s.prototype.mulTo=function(o,h){var f,p=this.length+o.length;return this.length===10&&o.length===10?f=j(this,o,h):p<63?f=O(this,o,h):p<1024?f=B(this,o,h):f=k(this,o,h),f};function x(o,h){this.x=o,this.y=h}x.prototype.makeRBT=function(o){for(var h=new Array(o),f=s.prototype._countBits(o)-1,p=0;p<o;p++)h[p]=this.revBin(p,f,o);return h},x.prototype.revBin=function(o,h,f){if(o===0||o===f-1)return o;for(var p=0,_=0;_<h;_++)p|=(o&1)<<h-_-1,o>>=1;return p},x.prototype.permute=function(o,h,f,p,_,w){for(var b=0;b<w;b++)p[b]=h[o[b]],_[b]=f[o[b]]},x.prototype.transform=function(o,h,f,p,_,w){this.permute(w,o,h,f,p,_);for(var b=1;b<_;b<<=1)for(var m=b<<1,a=Math.cos(2*Math.PI/m),g=Math.sin(2*Math.PI/m),F=0;F<_;F+=m)for(var L=a,W=g,J=0;J<b;J++){var X=f[F+J],tt=p[F+J],Ut=f[F+J+b],et=p[F+J+b],nt=L*Ut-W*et;et=L*et+W*Ut,Ut=nt,f[F+J]=X+Ut,p[F+J]=tt+et,f[F+J+b]=X-Ut,p[F+J+b]=tt-et,J!==m&&(nt=a*L-g*W,W=a*W+g*L,L=nt)}},x.prototype.guessLen13b=function(o,h){var f=Math.max(h,o)|1,p=f&1,_=0;for(f=f/2|0;f;f=f>>>1)_++;return 1<<_+1+p},x.prototype.conjugate=function(o,h,f){if(!(f<=1))for(var p=0;p<f/2;p++){var _=o[p];o[p]=o[f-p-1],o[f-p-1]=_,_=h[p],h[p]=-h[f-p-1],h[f-p-1]=-_}},x.prototype.normalize13b=function(o,h){for(var f=0,p=0;p<h/2;p++){var _=Math.round(o[2*p+1]/h)*8192+Math.round(o[2*p]/h)+f;o[p]=_&67108863,_<67108864?f=0:f=_/67108864|0}return o},x.prototype.convert13b=function(o,h,f,p){for(var _=0,w=0;w<h;w++)_=_+(o[w]|0),f[2*w]=_&8191,_=_>>>13,f[2*w+1]=_&8191,_=_>>>13;for(w=2*h;w<p;++w)f[w]=0;r(_===0),r((_&-8192)===0)},x.prototype.stub=function(o){for(var h=new Array(o),f=0;f<o;f++)h[f]=0;return h},x.prototype.mulp=function(o,h,f){var p=2*this.guessLen13b(o.length,h.length),_=this.makeRBT(p),w=this.stub(p),b=new Array(p),m=new Array(p),a=new Array(p),g=new Array(p),F=new Array(p),L=new Array(p),W=f.words;W.length=p,this.convert13b(o.words,o.length,b,p),this.convert13b(h.words,h.length,g,p),this.transform(b,w,m,a,p,_),this.transform(g,w,F,L,p,_);for(var J=0;J<p;J++){var X=m[J]*F[J]-a[J]*L[J];a[J]=m[J]*L[J]+a[J]*F[J],m[J]=X}return this.conjugate(m,a,p),this.transform(m,a,W,w,p,_),this.conjugate(W,w,p),this.normalize13b(W,p),f.negative=o.negative^h.negative,f.length=o.length+h.length,f.strip()},s.prototype.mul=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},s.prototype.mulf=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),k(this,o,h)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var h=0,f=0;f<this.length;f++){var p=(this.words[f]|0)*o,_=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=_>>>26,this.words[f]=_&67108863}return h!==0&&(this.words[f]=h,this.length++),this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var h=U(o);if(h.length===0)return new s(1);for(var f=this,p=0;p<h.length&&h[p]===0;p++,f=f.sqr());if(++p<h.length)for(var _=f.sqr();p<h.length;p++,_=_.sqr())h[p]!==0&&(f=f.mul(_));return f},s.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var h=o%26,f=(o-h)/26,p=67108863>>>26-h<<26-h,_;if(h!==0){var w=0;for(_=0;_<this.length;_++){var b=this.words[_]&p,m=(this.words[_]|0)-b<<h;this.words[_]=m|w,w=b>>>26-h}w&&(this.words[_]=w,this.length++)}if(f!==0){for(_=this.length-1;_>=0;_--)this.words[_+f]=this.words[_];for(_=0;_<f;_++)this.words[_]=0;this.length+=f}return this.strip()},s.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,h,f){r(typeof o=="number"&&o>=0);var p;h?p=(h-h%26)/26:p=0;var _=o%26,w=Math.min((o-_)/26,this.length),b=67108863^67108863>>>_<<_,m=f;if(p-=w,p=Math.max(0,p),m){for(var a=0;a<w;a++)m.words[a]=this.words[a];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=p);a--){var F=this.words[a]|0;this.words[a]=g<<26-_|F>>>_,g=F&b}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(o,h,f){return r(this.negative===0),this.iushrn(o,h,f)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var h=o%26,f=(o-h)/26,p=1<<h;if(this.length<=f)return!1;var _=this.words[f];return!!(_&p)},s.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var h=o%26,f=(o-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(h!==0&&f++,this.length=Math.min(f,this.length),h!==0){var p=67108863^67108863>>>h<<h;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,h,f){var p=o.length+f,_;this._expand(p);var w,b=0;for(_=0;_<o.length;_++){w=(this.words[_+f]|0)+b;var m=(o.words[_]|0)*h;w-=m&67108863,b=(w>>26)-(m/67108864|0),this.words[_+f]=w&67108863}for(;_<this.length-f;_++)w=(this.words[_+f]|0)+b,b=w>>26,this.words[_+f]=w&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,_=0;_<this.length;_++)w=-(this.words[_]|0)+b,b=w>>26,this.words[_]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(o,h){var f=this.length-o.length,p=this.clone(),_=o,w=_.words[_.length-1]|0,b=this._countBits(w);f=26-b,f!==0&&(_=_.ushln(f),p.iushln(f),w=_.words[_.length-1]|0);var m=p.length-_.length,a;if(h!=="mod"){a=new s(null),a.length=m+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var F=p.clone()._ishlnsubmul(_,1,m);F.negative===0&&(p=F,a&&(a.words[m]=1));for(var L=m-1;L>=0;L--){var W=(p.words[_.length+L]|0)*67108864+(p.words[_.length+L-1]|0);for(W=Math.min(W/w|0,67108863),p._ishlnsubmul(_,W,L);p.negative!==0;)W--,p.negative=0,p._ishlnsubmul(_,1,L),p.isZero()||(p.negative^=1);a&&(a.words[L]=W)}return a&&a.strip(),p.strip(),h!=="div"&&f!==0&&p.iushrn(f),{div:a||null,mod:p}},s.prototype.divmod=function(o,h,f){if(r(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,_,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,h),h!=="mod"&&(p=w.div.neg()),h!=="div"&&(_=w.mod.neg(),f&&_.negative!==0&&_.iadd(o)),{div:p,mod:_}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),h),h!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&o.negative?(w=this.neg().divmod(o.neg(),h),h!=="div"&&(_=w.mod.neg(),f&&_.negative!==0&&_.isub(o)),{div:w.div,mod:_}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modn(o.words[0]))}:this._wordDiv(o,h)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var f=h.div.negative!==0?h.mod.isub(o):h.mod,p=o.ushrn(1),_=o.andln(1),w=f.cmp(p);return w<0||_===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(o){r(o<=67108863);for(var h=(1<<26)%o,f=0,p=this.length-1;p>=0;p--)f=(h*f+(this.words[p]|0))%o;return f},s.prototype.idivn=function(o){r(o<=67108863);for(var h=0,f=this.length-1;f>=0;f--){var p=(this.words[f]|0)+h*67108864;this.words[f]=p/o|0,h=p%o}return this.strip()},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var h=this,f=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var p=new s(1),_=new s(0),w=new s(0),b=new s(1),m=0;h.isEven()&&f.isEven();)h.iushrn(1),f.iushrn(1),++m;for(var a=f.clone(),g=h.clone();!h.isZero();){for(var F=0,L=1;!(h.words[0]&L)&&F<26;++F,L<<=1);if(F>0)for(h.iushrn(F);F-- >0;)(p.isOdd()||_.isOdd())&&(p.iadd(a),_.isub(g)),p.iushrn(1),_.iushrn(1);for(var W=0,J=1;!(f.words[0]&J)&&W<26;++W,J<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(a),b.isub(g)),w.iushrn(1),b.iushrn(1);h.cmp(f)>=0?(h.isub(f),p.isub(w),_.isub(b)):(f.isub(h),w.isub(p),b.isub(_))}return{a:w,b,gcd:f.iushln(m)}},s.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var h=this,f=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var p=new s(1),_=new s(0),w=f.clone();h.cmpn(1)>0&&f.cmpn(1)>0;){for(var b=0,m=1;!(h.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(h.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var a=0,g=1;!(f.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(f.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(w),_.iushrn(1);h.cmp(f)>=0?(h.isub(f),p.isub(_)):(f.isub(h),_.isub(p))}var F;return h.cmpn(1)===0?F=p:F=_,F.cmpn(0)<0&&F.iadd(o),F},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),f=o.clone();h.negative=0,f.negative=0;for(var p=0;h.isEven()&&f.isEven();p++)h.iushrn(1),f.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;f.isEven();)f.iushrn(1);var _=h.cmp(f);if(_<0){var w=h;h=f,f=w}else if(_===0||f.cmpn(1)===0)break;h.isub(f)}while(!0);return f.iushln(p)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){r(typeof o=="number");var h=o%26,f=(o-h)/26,p=1<<h;if(this.length<=f)return this._expand(f+1),this.words[f]|=p,this;for(var _=p,w=f;_!==0&&w<this.length;w++){var b=this.words[w]|0;b+=_,_=b>>>26,b&=67108863,this.words[w]=b}return _!==0&&(this.words[w]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var f;if(this.length>1)f=1;else{h&&(o=-o),r(o<=67108863,"Number is too big");var p=this.words[0]|0;f=p===o?0:p<o?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,f=this.length-1;f>=0;f--){var p=this.words[f]|0,_=o.words[f]|0;if(p!==_){p<_?h=-1:p>_&&(h=1);break}}return h},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new $(o)},s.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var A={k256:null,p224:null,p192:null,p25519:null};function C(o,h){this.name=o,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},C.prototype.ireduce=function(o){var h=o,f;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),f=h.bitLength();while(f>this.n);var p=f<this.n?-1:h.ucmp(this.p);return p===0?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):h.strip(),h},C.prototype.split=function(o,h){o.iushrn(this.n,0,h)},C.prototype.imulK=function(o){return o.imul(this.k)};function R(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(R,C),R.prototype.split=function(o,h){for(var f=4194303,p=Math.min(o.length,9),_=0;_<p;_++)h.words[_]=o.words[_];if(h.length=p,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(h.words[h.length++]=w&f,_=10;_<o.length;_++){var b=o.words[_]|0;o.words[_-10]=(b&f)<<4|w>>>22,w=b}w>>>=22,o.words[_-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},R.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,f=0;f<o.length;f++){var p=o.words[f]|0;h+=p*977,o.words[f]=h&67108863,h=p*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function D(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(D,C);function z(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(z,C);function K(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(K,C),K.prototype.imulK=function(o){for(var h=0,f=0;f<o.length;f++){var p=(o.words[f]|0)*19+h,_=p&67108863;p>>>=26,o.words[f]=_,h=p}return h!==0&&(o.words[o.length++]=h),o},s._prime=function(o){if(A[o])return A[o];var h;if(o==="k256")h=new R;else if(o==="p224")h=new D;else if(o==="p192")h=new z;else if(o==="p25519")h=new K;else throw new Error("Unknown prime "+o);return A[o]=h,h};function $(o){if(typeof o=="string"){var h=s._prime(o);this.m=h.p,this.prime=h}else r(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}$.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},$.prototype._verify2=function(o,h){r((o.negative|h.negative)===0,"red works only with positives"),r(o.red&&o.red===h.red,"red works only with red numbers")},$.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},$.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},$.prototype.add=function(o,h){this._verify2(o,h);var f=o.add(h);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},$.prototype.iadd=function(o,h){this._verify2(o,h);var f=o.iadd(h);return f.cmp(this.m)>=0&&f.isub(this.m),f},$.prototype.sub=function(o,h){this._verify2(o,h);var f=o.sub(h);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},$.prototype.isub=function(o,h){this._verify2(o,h);var f=o.isub(h);return f.cmpn(0)<0&&f.iadd(this.m),f},$.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},$.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},$.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},$.prototype.isqr=function(o){return this.imul(o,o.clone())},$.prototype.sqr=function(o){return this.mul(o,o)},$.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(o,f)}for(var p=this.m.subn(1),_=0;!p.isZero()&&p.andln(1)===0;)_++,p.iushrn(1);r(!p.isZero());var w=new s(1).toRed(this),b=w.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new s(2*a*a).toRed(this);this.pow(a,m).cmp(b)!==0;)a.redIAdd(b);for(var g=this.pow(a,p),F=this.pow(o,p.addn(1).iushrn(1)),L=this.pow(o,p),W=_;L.cmp(w)!==0;){for(var J=L,X=0;J.cmp(w)!==0;X++)J=J.redSqr();r(X<W);var tt=this.pow(g,new s(1).iushln(W-X-1));F=F.redMul(tt),g=tt.redSqr(),L=L.redMul(g),W=X}return F},$.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},$.prototype.pow=function(o,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var f=4,p=new Array(1<<f);p[0]=new s(1).toRed(this),p[1]=o;for(var _=2;_<p.length;_++)p[_]=this.mul(p[_-1],o);var w=p[0],b=0,m=0,a=h.bitLength()%26;for(a===0&&(a=26),_=h.length-1;_>=0;_--){for(var g=h.words[_],F=a-1;F>=0;F--){var L=g>>F&1;if(w!==p[0]&&(w=this.sqr(w)),L===0&&b===0){m=0;continue}b<<=1,b|=L,m++,!(m!==f&&(_!==0||F!==0))&&(w=this.mul(w,p[b]),m=0,b=0)}a=26}return w},$.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},$.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},s.mont=function(o){return new lt(o)};function lt(o){$.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(lt,$),lt.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},lt.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},lt.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(h),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=f.isub(p).iushrn(this.shift),w=_;return _.cmp(this.m)>=0?w=_.isub(this.m):_.cmpn(0)<0&&(w=_.iadd(this.m)),w._forceRed(this)},lt.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new s(0)._forceRed(this);var f=o.mul(h),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=f.isub(p).iushrn(this.shift),w=_;return _.cmp(this.m)>=0?w=_.isub(this.m):_.cmpn(0)<0&&(w=_.iadd(this.m)),w._forceRed(this)},lt.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,Nh)})(Us);const qs=Qe;var js=Ge;Ge.strict=Pr,Ge.loose=Ur;var Ds=Object.prototype.toString,Ws={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Ge(e){return Pr(e)||Ur(e)}function Pr(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Ur(e){return Ws[Ds.call(e)]}var zs=js.strict,Fs=function(e){if(zs(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}else return Buffer.from(e)};const qr="hex",jr="utf8",Se="0";function Qt(e){return new Uint8Array(e)}function Dr(e,t=!1){const n=e.toString(qr);return t?ee(n):n}function Hs(e){return e.toString(jr)}function Ie(e){return Fs(e)}function Gt(e,t=!1){return Dr(Ie(e),t)}function $s(e){return Hs(Ie(e))}function Ys(e){return Buffer.from(Wt(e),qr)}function te(e){return Qt(Ys(e))}function tn(e){return Buffer.from(e,jr)}function Js(e){return Qt(tn(e))}function Vs(e,t=!1){return Dr(tn(e),t)}function Ks(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}function Wr(...e){let t=[];return e.forEach(n=>t=t.concat(Array.from(n))),new Uint8Array([...t])}function Zs(e,t=8){const n=e%t;return n?(e-n)/t*t+t:e}function Xs(e,t=8,n=Se){return Qs(e,Zs(e.length,t),n)}function Qs(e,t,n=Se){return ta(e,t,!0,n)}function Wt(e){return e.replace(/^0x/,"")}function ee(e){return e.startsWith("0x")?e:`0x${e}`}function zr(e){return e=Wt(e),e=Xs(e,2),e&&(e=ee(e)),e}function Gs(e){const t=e.startsWith("0x");return e=Wt(e),e=e.startsWith(Se)?e.substring(1):e,t?ee(e):e}function ta(e,t,n,r=Se){const l=t-e.length;let s=e;if(l>0){const v=r.repeat(l);s=n?v+e:e+v}return s}function en(e){return Ie(new Uint8Array(e))}function ea(e,t){return Gt(new Uint8Array(e),!t)}function na(e){return Qt(e).buffer}function ra(e){return tn(e)}function oa(e,t){return Vs(e,!t)}function ia(e){return te(e).buffer}function Fr(e,t){const n=Wt(zr(new qs(e).toString(16)));return t?n:ee(n)}function Ce(e){return zr(e)}function sa(e){return Gs(ee(e))}const aa=xh;function nn(){return((e,t)=>{for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t})()}function ua(e,t){let n;const r=Ps[e];return r&&(n=`https://${r}.infura.io/v3/${t}`),n}function la(e,t){let n;const r=ua(e,t.infuraId);return t.custom&&t.custom[e]?n=t.custom[e]:r&&(n=r),n}function ha(e){return e===""||typeof e=="string"&&e.trim()===""}function ca(e){return!(e&&e.length)}function Hr(e,t){return Ks(e,t)}function fa(e){return typeof e.method<"u"}function he(e){return typeof e.result<"u"}function Ae(e){return typeof e.error<"u"}function $r(e){return typeof e.event<"u"}function da(e){return Bs.includes(e)||e.startsWith("wc_")}function pa(e){return e.method.startsWith("wc_")?!0:!Xe.includes(e.method)}function ma(e){e=Wt(e.toLowerCase());const t=Wt(wh.keccak_256(ra(e)));let n="";for(let r=0;r<e.length;r++)parseInt(t[r],16)>7?n+=e[r].toUpperCase():n+=e[r];return ee(n)}const ga=e=>e?e.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x)?[0-9a-f]{40}$/.test(e)||/^(0x)?[0-9A-F]{40}$/.test(e)?!0:e===ma(e):!1:!1;function Yr(e){return!ca(e)&&!Hr(e[0])&&(e[0]=oa(e[0])),e}function rn(e){if(typeof e.type<"u"&&e.type!=="0")return e;if(typeof e.from>"u"||!ga(e.from))throw new Error("Transaction object must include a valid 'from' value.");function t(l){let s=l;return(typeof l=="number"||typeof l=="string"&&!ha(l))&&(Hr(l)?typeof l=="string"&&(s=Ce(l)):s=Fr(l)),typeof s=="string"&&(s=sa(s)),s}const n={from:Ce(e.from),to:typeof e.to>"u"?void 0:Ce(e.to),gasPrice:typeof e.gasPrice>"u"?"":t(e.gasPrice),gas:typeof e.gas>"u"?typeof e.gasLimit>"u"?"":t(e.gasLimit):t(e.gas),value:typeof e.value>"u"?"":t(e.value),nonce:typeof e.nonce>"u"?"":t(e.nonce),data:typeof e.data>"u"?"":Ce(e.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach(l=>{(typeof n[l]>"u"||typeof n[l]=="string"&&!n[l].trim().length)&&r.includes(l)&&delete n[l]}),n}function _a(e){const t=e.message||"Failed or Rejected Request";let n=-32e3;if(e&&!e.code)switch(t){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3;break}const r={code:n,message:t};return e.data&&(r.data=e.data),r}var on={};(function(e){const t=Ih,n=Ch,r=Sh,l=k=>k==null;function s(k){switch(k.arrayFormat){case"index":return x=>(A,C)=>{const R=A.length;return C===void 0||k.skipNull&&C===null||k.skipEmptyString&&C===""?A:C===null?[...A,[E(x,k),"[",R,"]"].join("")]:[...A,[E(x,k),"[",E(R,k),"]=",E(C,k)].join("")]};case"bracket":return x=>(A,C)=>C===void 0||k.skipNull&&C===null||k.skipEmptyString&&C===""?A:C===null?[...A,[E(x,k),"[]"].join("")]:[...A,[E(x,k),"[]=",E(C,k)].join("")];case"comma":case"separator":return x=>(A,C)=>C==null||C.length===0?A:A.length===0?[[E(x,k),"=",E(C,k)].join("")]:[[A,E(C,k)].join(k.arrayFormatSeparator)];default:return x=>(A,C)=>C===void 0||k.skipNull&&C===null||k.skipEmptyString&&C===""?A:C===null?[...A,E(x,k)]:[...A,[E(x,k),"=",E(C,k)].join("")]}}function v(k){let x;switch(k.arrayFormat){case"index":return(A,C,R)=>{if(x=/\[(\d*)\]$/.exec(A),A=A.replace(/\[\d*\]$/,""),!x){R[A]=C;return}R[A]===void 0&&(R[A]={}),R[A][x[1]]=C};case"bracket":return(A,C,R)=>{if(x=/(\[\])$/.exec(A),A=A.replace(/\[\]$/,""),!x){R[A]=C;return}if(R[A]===void 0){R[A]=[C];return}R[A]=[].concat(R[A],C)};case"comma":case"separator":return(A,C,R)=>{const D=typeof C=="string"&&C.split("").indexOf(k.arrayFormatSeparator)>-1?C.split(k.arrayFormatSeparator).map(z=>I(z,k)):C===null?C:I(C,k);R[A]=D};default:return(A,C,R)=>{if(R[A]===void 0){R[A]=C;return}R[A]=[].concat(R[A],C)}}}function c(k){if(typeof k!="string"||k.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function E(k,x){return x.encode?x.strict?t(k):encodeURIComponent(k):k}function I(k,x){return x.decode?n(k):k}function M(k){return Array.isArray(k)?k.sort():typeof k=="object"?M(Object.keys(k)).sort((x,A)=>Number(x)-Number(A)).map(x=>k[x]):k}function T(k){const x=k.indexOf("#");return x!==-1&&(k=k.slice(0,x)),k}function U(k){let x="";const A=k.indexOf("#");return A!==-1&&(x=k.slice(A)),x}function O(k){k=T(k);const x=k.indexOf("?");return x===-1?"":k.slice(x+1)}function j(k,x){return x.parseNumbers&&!Number.isNaN(Number(k))&&typeof k=="string"&&k.trim()!==""?k=Number(k):x.parseBooleans&&k!==null&&(k.toLowerCase()==="true"||k.toLowerCase()==="false")&&(k=k.toLowerCase()==="true"),k}function B(k,x){x=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},x),c(x.arrayFormatSeparator);const A=v(x),C=Object.create(null);if(typeof k!="string"||(k=k.trim().replace(/^[?#&]/,""),!k))return C;for(const R of k.split("&")){let[D,z]=r(x.decode?R.replace(/\+/g," "):R,"=");z=z===void 0?null:["comma","separator"].includes(x.arrayFormat)?z:I(z,x),A(I(D,x),z,C)}for(const R of Object.keys(C)){const D=C[R];if(typeof D=="object"&&D!==null)for(const z of Object.keys(D))D[z]=j(D[z],x);else C[R]=j(D,x)}return x.sort===!1?C:(x.sort===!0?Object.keys(C).sort():Object.keys(C).sort(x.sort)).reduce((R,D)=>{const z=C[D];return Boolean(z)&&typeof z=="object"&&!Array.isArray(z)?R[D]=M(z):R[D]=z,R},Object.create(null))}e.extract=O,e.parse=B,e.stringify=(k,x)=>{if(!k)return"";x=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},x),c(x.arrayFormatSeparator);const A=z=>x.skipNull&&l(k[z])||x.skipEmptyString&&k[z]==="",C=s(x),R={};for(const z of Object.keys(k))A(z)||(R[z]=k[z]);const D=Object.keys(R);return x.sort!==!1&&D.sort(x.sort),D.map(z=>{const K=k[z];return K===void 0?"":K===null?E(z,x):Array.isArray(K)?K.reduce(C(z),[]).join("&"):E(z,x)+"="+E(K,x)}).filter(z=>z.length>0).join("&")},e.parseUrl=(k,x)=>{x=Object.assign({decode:!0},x);const[A,C]=r(k,"#");return Object.assign({url:A.split("?")[0]||"",query:B(O(k),x)},x&&x.parseFragmentIdentifier&&C?{fragmentIdentifier:I(C,x)}:{})},e.stringifyUrl=(k,x)=>{x=Object.assign({encode:!0,strict:!0},x);const A=T(k.url).split("?")[0]||"",C=e.extract(k.url),R=e.parse(C,{sort:!1}),D=Object.assign(R,k.query);let z=e.stringify(D,x);z&&(z=`?${z}`);let K=U(k.url);return k.fragmentIdentifier&&(K=`#${E(k.fragmentIdentifier,x)}`),`${A}${z}${K}`}})(on);function va(e){const t=e.indexOf("?")!==-1?e.indexOf("?"):void 0;return typeof t<"u"?e.substr(t):""}function ya(e,t){let n=Jr(e);return n=Object.assign(Object.assign({},n),t),e=wa(n),e}function Jr(e){return on.parse(e)}function wa(e){return on.stringify(e)}function ba(e){return typeof e.bridge<"u"}function Ma(e){const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),l=e.substring(t+1,n);function s(M){const T="@",U=M.split(T);return{handshakeTopic:U[0],version:parseInt(U[1],10)}}const v=s(l),c=typeof n<"u"?e.substr(n):"";function E(M){const T=Jr(M);return{key:T.key||"",bridge:T.bridge||""}}const I=E(c);return Object.assign(Object.assign({protocol:r},v),I)}class Ea{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,n){this._eventEmitters.push({event:t,callback:n})}trigger(t){let n=[];t&&(n=this._eventEmitters.filter(r=>r.event===t)),n.forEach(r=>{r.callback()})}}const ka=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class xa{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new Ea,!t.url||typeof t.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return this.readyState===0}set connected(t){}get connected(){return this.readyState===1}set closing(t){}get closing(){return this.readyState===2}set closed(t){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(t,n,r){if(!n||typeof n!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:n,type:"pub",payload:t,silent:!!r})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,n){this._events.push({event:t,callback:n})}_socketCreate(){if(this._nextSocket)return;const t=Sa(this._url,this._protocol,this._version);if(this._nextSocket=new ka(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=n=>this._socketReceive(n),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=n=>this._socketError(n),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const n=JSON.stringify(t);this._socket&&this._socket.readyState===1?this._socket.send(n):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let n;try{n=JSON.parse(t.data)}catch{return}if(this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(l=>l.event==="message");r&&r.length&&r.forEach(l=>l.callback(n))}}_socketError(t){const n=this._events.filter(r=>r.event==="error");n&&n.length&&n.forEach(r=>r.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(t=>this._socketSend(t)),this._queue=[]}}function Sa(e,t,n){var r,l;const s=(e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e).split("?"),v=Cr()?{protocol:t,version:n,env:"browser",host:((r=Rr())===null||r===void 0?void 0:r.host)||""}:{protocol:t,version:n,env:((l=Me())===null||l===void 0?void 0:l.name)||""},c=ya(va(s[1]||""),v);return s[0]+"?"+c}const sn="Session currently connected",Vt="Session currently disconnected",Ia="Session Rejected",Ca="Missing JSON RPC response",Aa='JSON-RPC success response must include "result" field',Ra='JSON-RPC error response must include "error" field',Na='JSON RPC request must have valid "method" value',Ta='JSON RPC request must have valid "id" value',Oa="Missing one of the required parameters: bridge / uri / session",Vr="JSON RPC response format is invalid",La="URI format is invalid",Ba="QRCode Modal not provided",Kr="User close QRCode Modal";class Pa{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(n=>n.event!==t)}trigger(t){let n=[],r;fa(t)?r=t.method:he(t)||Ae(t)?r=`response:${t.id}`:$r(t)?r=t.event:r="",r&&(n=this._eventEmitters.filter(l=>l.event===r)),(!n||!n.length)&&!da(r)&&!$r(r)&&(n=this._eventEmitters.filter(l=>l.event==="call_request")),n.forEach(l=>{if(Ae(t)){const s=new Error(t.error.message);l.callback(s,null)}else l.callback(null,t)})}}class Ua{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const n=Ke(this.storageId);return n&&ba(n)&&(t=n),t}setSession(t){return Ve(this.storageId,t),t}removeSession(){Ze(this.storageId)}}const qa="walletconnect.org",ja="abcdefghijklmnopqrstuvwxyz0123456789",Zr=ja.split("").map(e=>`https://${e}.bridge.walletconnect.org`);function Da(e){let t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}function Wa(e){return Da(e).split(".").slice(-2).join(".")}function za(){return Math.floor(Math.random()*Zr.length)}function Fa(){return Zr[za()]}function Ha(e){return Wa(e)===qa}function $a(e){return Ha(e)?Fa():e}class Ya{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Pa,this._clientMeta=Je()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new Ua(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Xe,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error(Oa);t.connectorOpts.bridge&&(this.bridge=$a(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const n=t.connectorOpts.session||this._getStorageSession();n&&(this.session=n),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new xa({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const n=ia(t);this._key=n}get key(){return this._key?ea(this._key,!0):""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=nn()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=Je()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:n,bridge:r,key:l}=this._parseUri(t);this.handshakeTopic=n,this.bridge=r,this.key=l}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,n){const r={event:t,callback:n};this._eventManager.subscribe(r)}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();const n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=n.id,this.handshakeTopic=nn(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Kr)});const r=()=>{this.killSession()};try{const l=await this._sendCallRequest(n);return l&&r(),l}catch(l){throw r(),l}}async connect(t){if(!this._qrcodeModal)throw new Error(Ba);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(n,r)=>{this.on("modal_closed",()=>r(new Error(Kr))),this.on("connect",(l,s)=>{if(l)return r(l);n(s.params[0])})}))}async createSession(t){if(this._connected)throw new Error(sn);if(this.pending)return;this._key=await this._generateKey();const n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=n.id,this.handshakeTopic=nn(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw new Error(sn);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:n};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(sn);const n=t&&t.message?t.message:Ia,r=this._formatResponse({id:this.handshakeId,error:{message:n}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(Vt);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[n]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){const n=t?t.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},l=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(l),this._handleSessionDisconnect(n)}async sendTransaction(t){if(!this._connected)throw new Error(Vt);const n=rn(t),r=this._formatRequest({method:"eth_sendTransaction",params:[n]});return await this._sendCallRequest(r)}async signTransaction(t){if(!this._connected)throw new Error(Vt);const n=rn(t),r=this._formatRequest({method:"eth_signTransaction",params:[n]});return await this._sendCallRequest(r)}async signMessage(t){if(!this._connected)throw new Error(Vt);const n=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(n)}async signPersonalMessage(t){if(!this._connected)throw new Error(Vt);t=Yr(t);const n=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(n)}async signTypedData(t){if(!this._connected)throw new Error(Vt);const n=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(n)}async updateChain(t){if(!this._connected)throw new Error("Session currently disconnected");const n=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(n)}unsafeSend(t,n){return this._sendRequest(t,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:n}]}),new Promise((r,l)=>{this._subscribeToResponse(t.id,(s,v)=>{if(s){l(s);return}if(!v)throw new Error(Ca);r(v)})})}async sendCustomRequest(t,n){if(!this._connected)throw new Error(Vt);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Fr(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=rn(t.params[0]));break;case"personal_sign":t.params&&(t.params=Yr(t.params));break}const r=this._formatRequest(t);return await this._sendCallRequest(r,n)}approveRequest(t){if(he(t)){const n=this._formatResponse(t);this._sendResponse(n)}else throw new Error(Aa)}rejectRequest(t){if(Ae(t)){const n=this._formatResponse(t);this._sendResponse(n)}else throw new Error(Ra)}transportClose(){this._transport.close()}async _sendRequest(t,n){const r=this._formatRequest(t),l=await this._encrypt(r),s=typeof(n==null?void 0:n.topic)<"u"?n.topic:this.peerId,v=JSON.stringify(l),c=typeof(n==null?void 0:n.forcePushNotification)<"u"?!n.forcePushNotification:pa(r);this._transport.send(v,s,c)}async _sendResponse(t){const n=await this._encrypt(t),r=this.peerId,l=JSON.stringify(n),s=!0;this._transport.send(l,r,s)}async _sendSessionRequest(t,n,r){this._sendRequest(t,r),this._subscribeToSessionResponse(t.id,n)}_sendCallRequest(t,n){return this._sendRequest(t,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:n}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(typeof t.method>"u")throw new Error(Na);return{id:typeof t.id>"u"?aa():t.id,jsonrpc:"2.0",method:t.method,params:typeof t.params>"u"?[]:t.params}}_formatResponse(t){if(typeof t.id>"u")throw new Error(Ta);const n={id:t.id,jsonrpc:"2.0"};if(Ae(t)){const r=_a(t.error);return Object.assign(Object.assign(Object.assign({},n),t),{error:r})}else if(he(t))return Object.assign(Object.assign({},n),t);throw new Error(Vr)}_handleSessionDisconnect(t){const n=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Ze(xe)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,n){n?n.approved?(this._connected?(n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),n.peerId&&!this.peerId&&(this.peerId=n.peerId),n.peerMeta&&!this.peerMeta&&(this.peerMeta=n.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let n;try{n=JSON.parse(t.payload)}catch{return}const r=await this._decrypt(n);r&&this._eventManager.trigger(r)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,n){this.on(`response:${t}`,n)}_subscribeToSessionResponse(t,n){this._subscribeToResponse(t,(r,l)=>{if(r){this._handleSessionResponse(r.message);return}he(l)?this._handleSessionResponse(n,l.result):l.error&&l.error.message?this._handleSessionResponse(l.error.message):this._handleSessionResponse(n)})}_subscribeToCallResponse(t){return new Promise((n,r)=>{this._subscribeToResponse(t,(l,s)=>{if(l){r(l);return}he(s)?n(s.result):s.error&&s.error.message?r(s.error):r(new Error(Vr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,n)=>{const{request:r}=n.params[0];if(Sr()&&this._signingMethods.includes(r.method)){const l=Ke(xe);l&&(window.location.href=l.href)}}),this.on("wc_sessionRequest",(t,n)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=n.id,this.peerId=n.params[0].peerId,this.peerMeta=n.params[0].peerMeta;const r=Object.assign(Object.assign({},n),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(t,n)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",n.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const t=this.protocol,n=this.handshakeTopic,r=this.version,l=encodeURIComponent(this.bridge),s=this.key;return`${t}:${n}@${r}?bridge=${l}&key=${s}`}_parseUri(t){const n=Ma(t);if(n.protocol===this.protocol){if(!n.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=n.handshakeTopic;if(!n.bridge)throw Error("Invalid or missing bridge url parameter value");const l=decodeURIComponent(n.bridge);if(!n.key)throw Error("Invalid or missing key parameter value");const s=n.key;return{handshakeTopic:r,bridge:l,key:s}}else throw new Error(La)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(t){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.encrypt(t,n):null}async _decrypt(t){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.decrypt(t,n):null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||typeof t.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||typeof t.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||typeof t.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const n={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(r,l)=>{if(r)throw r;if(t.peerMeta){const s=l.params[0].peerMeta.name;n.peerName=s}try{if(!(await(await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Ja(e){return be.getBrowerCrypto().getRandomValues(new Uint8Array(e))}const Xr=256,Qr=Xr,Va=Xr,zt="AES-CBC",Ka=`SHA-${Qr}`,an="HMAC",Za="encrypt",Xa="decrypt",Qa="sign",Ga="verify";function tu(e){return e===zt?{length:Qr,name:zt}:{hash:{name:Ka},name:an}}function eu(e){return e===zt?[Za,Xa]:[Qa,Ga]}async function un(e,t=zt){return be.getSubtleCrypto().importKey("raw",e,tu(t),!0,eu(t))}async function nu(e,t,n){const r=be.getSubtleCrypto(),l=await un(t,zt),s=await r.encrypt({iv:e,name:zt},l,n);return new Uint8Array(s)}async function ru(e,t,n){const r=be.getSubtleCrypto(),l=await un(t,zt),s=await r.decrypt({iv:e,name:zt},l,n);return new Uint8Array(s)}async function ou(e,t){const n=be.getSubtleCrypto(),r=await un(e,an),l=await n.sign({length:Va,name:an},r,t);return new Uint8Array(l)}function iu(e,t,n){return nu(e,t,n)}function su(e,t,n){return ru(e,t,n)}async function Gr(e,t){return await ou(e,t)}async function to(e){const t=(e||256)/8,n=Ja(t);return na(Ie(n))}async function eo(e,t){const n=te(e.data),r=te(e.iv),l=te(e.hmac),s=Gt(l,!1),v=Wr(n,r),c=await Gr(t,v),E=Gt(c,!1);return Wt(s)===Wt(E)}async function au(e,t,n){const r=Qt(en(t)),l=n||await to(128),s=Qt(en(l)),v=Gt(s,!1),c=JSON.stringify(e),E=Js(c),I=await iu(s,r,E),M=Gt(I,!1),T=Wr(I,s),U=await Gr(r,T),O=Gt(U,!1);return{data:M,hmac:O,iv:v}}async function uu(e,t){const n=Qt(en(t));if(!n)throw new Error("Missing key: required for decryption");if(!await eo(e,n))return null;const r=te(e.data),l=te(e.iv),s=await su(l,n,r),v=$s(s);let c;try{c=JSON.parse(v)}catch{return null}return c}const lu=Object.freeze(Object.defineProperty({__proto__:null,generateKey:to,verifyHmac:eo,encrypt:au,decrypt:uu},Symbol.toStringTag,{value:"Module"}));class hu extends Ya{constructor(t,n){super({cryptoLib:lu,connectorOpts:t,pushServerOpts:n})}}const cu=Hi(Ls);var ce={},fu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},no={},Ft={},du={}.toString,ln=Array.isArray||function(e){return du.call(e)=="[object Array]"},pu=ln;function mu(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}}Q.TYPED_ARRAY_SUPPORT=mu();var ro=Q.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Q(e,t,n){return!Q.TYPED_ARRAY_SUPPORT&&!(this instanceof Q)?new Q(e,t,n):typeof e=="number"?oo(this,e):Mu(this,e,t,n)}Q.TYPED_ARRAY_SUPPORT&&(Q.prototype.__proto__=Uint8Array.prototype,Q.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Q[Symbol.species]===Q&&Object.defineProperty(Q,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function hn(e){if(e>=ro)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ro.toString(16)+" bytes");return e|0}function gu(e){return e!==e}function ne(e,t){var n;return Q.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t),n.__proto__=Q.prototype):(n=e,n===null&&(n=new Q(t)),n.length=t),n}function oo(e,t){var n=ne(e,t<0?0:hn(t)|0);if(!Q.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function _u(e,t){var n=so(t)|0,r=ne(e,n),l=r.write(t);return l!==n&&(r=r.slice(0,l)),r}function cn(e,t){for(var n=t.length<0?0:hn(t.length)|0,r=ne(e,n),l=0;l<n;l+=1)r[l]=t[l]&255;return r}function vu(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var l;return n===void 0&&r===void 0?l=new Uint8Array(t):r===void 0?l=new Uint8Array(t,n):l=new Uint8Array(t,n,r),Q.TYPED_ARRAY_SUPPORT?l.__proto__=Q.prototype:l=cn(e,l),l}function yu(e,t){if(Q.isBuffer(t)){var n=hn(t.length)|0,r=ne(e,n);return r.length===0||t.copy(r,0,0,n),r}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||gu(t.length)?ne(e,0):cn(e,t);if(t.type==="Buffer"&&Array.isArray(t.data))return cn(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function io(e,t){t=t||1/0;for(var n,r=e.length,l=null,s=[],v=0;v<r;++v){if(n=e.charCodeAt(v),n>55295&&n<57344){if(!l){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(v+1===r){(t-=3)>-1&&s.push(239,191,189);continue}l=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),l=n;continue}n=(l-55296<<10|n-56320)+65536}else l&&(t-=3)>-1&&s.push(239,191,189);if(l=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function so(e){if(Q.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;return t===0?0:io(e).length}function wu(e,t,n,r){for(var l=0;l<r&&!(l+n>=t.length||l>=e.length);++l)t[l+n]=e[l];return l}function bu(e,t,n,r){return wu(io(t,e.length-n),e,n,r)}function Mu(e,t,n,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?vu(e,t,n,r):typeof t=="string"?_u(e,t):yu(e,t)}Q.prototype.write=function(e,t,n){t===void 0?(n=this.length,t=0):n===void 0&&typeof t=="string"?(n=this.length,t=0):isFinite(t)&&(t=t|0,isFinite(n)?n=n|0:n=void 0);var r=this.length-t;if((n===void 0||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return bu(this,e,t,n)},Q.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(Q.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=Q.prototype;else{var l=t-e;r=new Q(l,void 0);for(var s=0;s<l;++s)r[s]=this[s+e]}return r},Q.prototype.copy=function(e,t,n,r){if(n||(n=0),!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var l=r-n,s;if(this===e&&n<t&&t<r)for(s=l-1;s>=0;--s)e[s+t]=this[s+n];else if(l<1e3||!Q.TYPED_ARRAY_SUPPORT)for(s=0;s<l;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+l),t);return l},Q.prototype.fill=function(e,t,n){if(typeof e=="string"){if(typeof t=="string"?(t=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var r=e.charCodeAt(0);r<256&&(e=r)}}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var l;if(typeof e=="number")for(l=t;l<n;++l)this[l]=e;else{var s=Q.isBuffer(e)?e:new Q(e),v=s.length;for(l=0;l<n-t;++l)this[l+t]=s[l%v]}return this},Q.concat=function(e,t){if(!pu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ne(null,0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=oo(null,t),l=0;for(n=0;n<e.length;++n){var s=e[n];if(!Q.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,l),l+=s.length}return r},Q.byteLength=so,Q.prototype._isBuffer=!0,Q.isBuffer=function(e){return!!(e!=null&&e._isBuffer)},Ft.alloc=function(e){var t=new Q(e);return t.fill(0),t},Ft.from=function(e){return new Q(e)};var Lt={},fn,Eu=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Lt.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},Lt.getSymbolTotalCodewords=function(e){return Eu[e]},Lt.getBCHDigit=function(e){for(var t=0;e!==0;)t++,e>>>=1;return t},Lt.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');fn=e},Lt.isKanjiModeEnabled=function(){return typeof fn<"u"},Lt.toSJIS=function(e){return fn(e)};var Re={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");var r=n.toLowerCase();switch(r){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,r){if(e.isValid(n))return n;try{return t(n)}catch{return r}}})(Re);function ao(){this.buffer=[],this.length=0}ao.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ku=ao,uo=Ft;function fe(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=uo.alloc(e*e),this.reservedBit=uo.alloc(e*e)}fe.prototype.set=function(e,t,n,r){var l=e*this.size+t;this.data[l]=n,r&&(this.reservedBit[l]=!0)},fe.prototype.get=function(e,t){return this.data[e*this.size+t]},fe.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},fe.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var xu=fe,lo={};(function(e){var t=Lt.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];for(var r=Math.floor(n/7)+2,l=t(n),s=l===145?26:Math.ceil((l-13)/(2*r-2))*2,v=[l-7],c=1;c<r-1;c++)v[c]=v[c-1]-s;return v.push(6),v.reverse()},e.getPositions=function(n){for(var r=[],l=e.getRowColCoords(n),s=l.length,v=0;v<s;v++)for(var c=0;c<s;c++)v===0&&c===0||v===0&&c===s-1||v===s-1&&c===0||r.push([l[v],l[c]]);return r}})(lo);var ho={},Su=Lt.getSymbolSize,co=7;ho.getPositions=function(e){var t=Su(e);return[[0,0],[t-co,0],[0,t-co]]};var fo={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){for(var l=r.size,s=0,v=0,c=0,E=null,I=null,M=0;M<l;M++){v=c=0,E=I=null;for(var T=0;T<l;T++){var U=r.get(M,T);U===E?v++:(v>=5&&(s+=t.N1+(v-5)),E=U,v=1),U=r.get(T,M),U===I?c++:(c>=5&&(s+=t.N1+(c-5)),I=U,c=1)}v>=5&&(s+=t.N1+(v-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(r){for(var l=r.size,s=0,v=0;v<l-1;v++)for(var c=0;c<l-1;c++){var E=r.get(v,c)+r.get(v,c+1)+r.get(v+1,c)+r.get(v+1,c+1);(E===4||E===0)&&s++}return s*t.N2},e.getPenaltyN3=function(r){for(var l=r.size,s=0,v=0,c=0,E=0;E<l;E++){v=c=0;for(var I=0;I<l;I++)v=v<<1&2047|r.get(E,I),I>=10&&(v===1488||v===93)&&s++,c=c<<1&2047|r.get(I,E),I>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(r){for(var l=0,s=r.data.length,v=0;v<s;v++)l+=r.data[v];var c=Math.abs(Math.ceil(l*100/s/5)-10);return c*t.N4};function n(r,l,s){switch(r){case e.Patterns.PATTERN000:return(l+s)%2===0;case e.Patterns.PATTERN001:return l%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(l+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return l*s%2+l*s%3===0;case e.Patterns.PATTERN110:return(l*s%2+l*s%3)%2===0;case e.Patterns.PATTERN111:return(l*s%3+(l+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(r,l){for(var s=l.size,v=0;v<s;v++)for(var c=0;c<s;c++)l.isReserved(c,v)||l.xor(c,v,n(r,c,v))},e.getBestMask=function(r,l){for(var s=Object.keys(e.Patterns).length,v=0,c=1/0,E=0;E<s;E++){l(E),e.applyMask(E,r);var I=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(E,r),I<c&&(c=I,v=E)}return v}})(fo);var Ne={},Ht=Re,Te=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Oe=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ne.getBlocksCount=function(e,t){switch(t){case Ht.L:return Te[(e-1)*4+0];case Ht.M:return Te[(e-1)*4+1];case Ht.Q:return Te[(e-1)*4+2];case Ht.H:return Te[(e-1)*4+3];default:return}},Ne.getTotalCodewordsCount=function(e,t){switch(t){case Ht.L:return Oe[(e-1)*4+0];case Ht.M:return Oe[(e-1)*4+1];case Ht.Q:return Oe[(e-1)*4+2];case Ht.H:return Oe[(e-1)*4+3];default:return}};var po={},Le={},mo=Ft,de=mo.alloc(512),Be=mo.alloc(256);(function(){for(var e=1,t=0;t<255;t++)de[t]=e,Be[e]=t,e<<=1,e&256&&(e^=285);for(t=255;t<512;t++)de[t]=de[t-255]})(),Le.log=function(e){if(e<1)throw new Error("log("+e+")");return Be[e]},Le.exp=function(e){return de[e]},Le.mul=function(e,t){return e===0||t===0?0:de[Be[e]+Be[t]]},function(e){var t=Ft,n=Le;e.mul=function(r,l){for(var s=t.alloc(r.length+l.length-1),v=0;v<r.length;v++)for(var c=0;c<l.length;c++)s[v+c]^=n.mul(r[v],l[c]);return s},e.mod=function(r,l){for(var s=t.from(r);s.length-l.length>=0;){for(var v=s[0],c=0;c<l.length;c++)s[c]^=n.mul(l[c],v);for(var E=0;E<s.length&&s[E]===0;)E++;s=s.slice(E)}return s},e.generateECPolynomial=function(r){for(var l=t.from([1]),s=0;s<r;s++)l=e.mul(l,[1,n.exp(s)]);return l}}(po);var go={};(function(e){var t=bh,n=Mh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;var l=2147483647;e.kMaxLength=l,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var i=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(i,u),i.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function v(i){if(i>l)throw new RangeError('The value "'+i+'" is invalid for option "size"');var u=new Uint8Array(i);return Object.setPrototypeOf(u,c.prototype),u}function c(i,u,d){if(typeof i=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(i)}return E(i,u,d)}c.poolSize=8192;function E(i,u,d){if(typeof i=="string")return U(i,u);if(ArrayBuffer.isView(i))return j(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(G(i,ArrayBuffer)||i&&G(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(G(i,SharedArrayBuffer)||i&&G(i.buffer,SharedArrayBuffer)))return B(i,u,d);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var y=i.valueOf&&i.valueOf();if(y!=null&&y!==i)return c.from(y,u,d);var S=k(i);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return c.from(i[Symbol.toPrimitive]("string"),u,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}c.from=function(i,u,d){return E(i,u,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function I(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function M(i,u,d){return I(i),i<=0?v(i):u!==void 0?typeof d=="string"?v(i).fill(u,d):v(i).fill(u):v(i)}c.alloc=function(i,u,d){return M(i,u,d)};function T(i){return I(i),v(i<0?0:x(i)|0)}c.allocUnsafe=function(i){return T(i)},c.allocUnsafeSlow=function(i){return T(i)};function U(i,u){if((typeof u!="string"||u==="")&&(u="utf8"),!c.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var d=C(i,u)|0,y=v(d),S=y.write(i,u);return S!==d&&(y=y.slice(0,S)),y}function O(i){for(var u=i.length<0?0:x(i.length)|0,d=v(u),y=0;y<u;y+=1)d[y]=i[y]&255;return d}function j(i){if(G(i,Uint8Array)){var u=new Uint8Array(i);return B(u.buffer,u.byteOffset,u.byteLength)}return O(i)}function B(i,u,d){if(u<0||i.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<u+(d||0))throw new RangeError('"length" is outside of buffer bounds');var y;return u===void 0&&d===void 0?y=new Uint8Array(i):d===void 0?y=new Uint8Array(i,u):y=new Uint8Array(i,u,d),Object.setPrototypeOf(y,c.prototype),y}function k(i){if(c.isBuffer(i)){var u=x(i.length)|0,d=v(u);return d.length===0||i.copy(d,0,0,u),d}if(i.length!==void 0)return typeof i.length!="number"||it(i.length)?v(0):O(i);if(i.type==="Buffer"&&Array.isArray(i.data))return O(i.data)}function x(i){if(i>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return i|0}function A(i){return+i!=i&&(i=0),c.alloc(+i)}c.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==c.prototype},c.compare=function(i,u){if(G(i,Uint8Array)&&(i=c.from(i,i.offset,i.byteLength)),G(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),!c.isBuffer(i)||!c.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===u)return 0;for(var d=i.length,y=u.length,S=0,N=Math.min(d,y);S<N;++S)if(i[S]!==u[S]){d=i[S],y=u[S];break}return d<y?-1:y<d?1:0},c.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(i,u){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return c.alloc(0);var d;if(u===void 0)for(u=0,d=0;d<i.length;++d)u+=i[d].length;var y=c.allocUnsafe(u),S=0;for(d=0;d<i.length;++d){var N=i[d];if(G(N,Uint8Array))S+N.length>y.length?c.from(N).copy(y,S):Uint8Array.prototype.set.call(y,N,S);else if(c.isBuffer(N))N.copy(y,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=N.length}return y};function C(i,u){if(c.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||G(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var d=i.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;for(var S=!1;;)switch(u){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return nt(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return st(i).length;default:if(S)return y?-1:nt(i).length;u=(""+u).toLowerCase(),S=!0}}c.byteLength=C;function R(i,u,d){var y=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,u>>>=0,d<=u))return"";for(i||(i="utf8");;)switch(i){case"hex":return g(this,u,d);case"utf8":case"utf-8":return _(this,u,d);case"ascii":return m(this,u,d);case"latin1":case"binary":return a(this,u,d);case"base64":return p(this,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,u,d);default:if(y)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),y=!0}}c.prototype._isBuffer=!0;function D(i,u,d){var y=i[u];i[u]=i[d],i[d]=y}c.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<i;u+=2)D(this,u,u+1);return this},c.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<i;u+=4)D(this,u,u+3),D(this,u+1,u+2);return this},c.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<i;u+=8)D(this,u,u+7),D(this,u+1,u+6),D(this,u+2,u+5),D(this,u+3,u+4);return this},c.prototype.toString=function(){var i=this.length;return i===0?"":arguments.length===0?_(this,0,i):R.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(i){if(!c.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:c.compare(this,i)===0},c.prototype.inspect=function(){var i="",u=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(i+=" ... "),"<Buffer "+i+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(i,u,d,y,S){if(G(i,Uint8Array)&&(i=c.from(i,i.offset,i.byteLength)),!c.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(u===void 0&&(u=0),d===void 0&&(d=i?i.length:0),y===void 0&&(y=0),S===void 0&&(S=this.length),u<0||d>i.length||y<0||S>this.length)throw new RangeError("out of range index");if(y>=S&&u>=d)return 0;if(y>=S)return-1;if(u>=d)return 1;if(u>>>=0,d>>>=0,y>>>=0,S>>>=0,this===i)return 0;for(var N=S-y,P=d-u,Y=Math.min(N,P),ht=this.slice(y,S),V=i.slice(u,d),Z=0;Z<Y;++Z)if(ht[Z]!==V[Z]){N=ht[Z],P=V[Z];break}return N<P?-1:P<N?1:0};function z(i,u,d,y,S){if(i.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,it(d)&&(d=S?0:i.length-1),d<0&&(d=i.length+d),d>=i.length){if(S)return-1;d=i.length-1}else if(d<0)if(S)d=0;else return-1;if(typeof u=="string"&&(u=c.from(u,y)),c.isBuffer(u))return u.length===0?-1:K(i,u,d,y,S);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(i,u,d):Uint8Array.prototype.lastIndexOf.call(i,u,d):K(i,[u],d,y,S);throw new TypeError("val must be string, number or Buffer")}function K(i,u,d,y,S){var N=1,P=i.length,Y=u.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(i.length<2||u.length<2)return-1;N=2,P/=2,Y/=2,d/=2}function ht(at,we){return N===1?at[we]:at.readUInt16BE(we*N)}var V;if(S){var Z=-1;for(V=d;V<P;V++)if(ht(i,V)===ht(u,Z===-1?0:V-Z)){if(Z===-1&&(Z=V),V-Z+1===Y)return Z*N}else Z!==-1&&(V-=V-Z),Z=-1}else for(d+Y>P&&(d=P-Y),V=d;V>=0;V--){for(var Nt=!0,ot=0;ot<Y;ot++)if(ht(i,V+ot)!==ht(u,ot)){Nt=!1;break}if(Nt)return V}return-1}c.prototype.includes=function(i,u,d){return this.indexOf(i,u,d)!==-1},c.prototype.indexOf=function(i,u,d){return z(this,i,u,d,!0)},c.prototype.lastIndexOf=function(i,u,d){return z(this,i,u,d,!1)};function $(i,u,d,y){d=Number(d)||0;var S=i.length-d;y?(y=Number(y),y>S&&(y=S)):y=S;var N=u.length;y>N/2&&(y=N/2);for(var P=0;P<y;++P){var Y=parseInt(u.substr(P*2,2),16);if(it(Y))return P;i[d+P]=Y}return P}function lt(i,u,d,y){return Zt(nt(u,i.length-d),i,d,y)}function o(i,u,d,y){return Zt(He(u),i,d,y)}function h(i,u,d,y){return Zt(st(u),i,d,y)}function f(i,u,d,y){return Zt(ut(u,i.length-d),i,d,y)}c.prototype.write=function(i,u,d,y){if(u===void 0)y="utf8",d=this.length,u=0;else if(d===void 0&&typeof u=="string")y=u,d=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(d)?(d=d>>>0,y===void 0&&(y="utf8")):(y=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var S=this.length-u;if((d===void 0||d>S)&&(d=S),i.length>0&&(d<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(var N=!1;;)switch(y){case"hex":return $(this,i,u,d);case"utf8":case"utf-8":return lt(this,i,u,d);case"ascii":case"latin1":case"binary":return o(this,i,u,d);case"base64":return h(this,i,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,i,u,d);default:if(N)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),N=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(i,u,d){return u===0&&d===i.length?t.fromByteArray(i):t.fromByteArray(i.slice(u,d))}function _(i,u,d){d=Math.min(i.length,d);for(var y=[],S=u;S<d;){var N=i[S],P=null,Y=N>239?4:N>223?3:N>191?2:1;if(S+Y<=d){var ht,V,Z,Nt;switch(Y){case 1:N<128&&(P=N);break;case 2:ht=i[S+1],(ht&192)===128&&(Nt=(N&31)<<6|ht&63,Nt>127&&(P=Nt));break;case 3:ht=i[S+1],V=i[S+2],(ht&192)===128&&(V&192)===128&&(Nt=(N&15)<<12|(ht&63)<<6|V&63,Nt>2047&&(Nt<55296||Nt>57343)&&(P=Nt));break;case 4:ht=i[S+1],V=i[S+2],Z=i[S+3],(ht&192)===128&&(V&192)===128&&(Z&192)===128&&(Nt=(N&15)<<18|(ht&63)<<12|(V&63)<<6|Z&63,Nt>65535&&Nt<1114112&&(P=Nt))}}P===null?(P=65533,Y=1):P>65535&&(P-=65536,y.push(P>>>10&1023|55296),P=56320|P&1023),y.push(P),S+=Y}return b(y)}var w=4096;function b(i){var u=i.length;if(u<=w)return String.fromCharCode.apply(String,i);for(var d="",y=0;y<u;)d+=String.fromCharCode.apply(String,i.slice(y,y+=w));return d}function m(i,u,d){var y="";d=Math.min(i.length,d);for(var S=u;S<d;++S)y+=String.fromCharCode(i[S]&127);return y}function a(i,u,d){var y="";d=Math.min(i.length,d);for(var S=u;S<d;++S)y+=String.fromCharCode(i[S]);return y}function g(i,u,d){var y=i.length;(!u||u<0)&&(u=0),(!d||d<0||d>y)&&(d=y);for(var S="",N=u;N<d;++N)S+=$e[i[N]];return S}function F(i,u,d){for(var y=i.slice(u,d),S="",N=0;N<y.length-1;N+=2)S+=String.fromCharCode(y[N]+y[N+1]*256);return S}c.prototype.slice=function(i,u){var d=this.length;i=~~i,u=u===void 0?d:~~u,i<0?(i+=d,i<0&&(i=0)):i>d&&(i=d),u<0?(u+=d,u<0&&(u=0)):u>d&&(u=d),u<i&&(u=i);var y=this.subarray(i,u);return Object.setPrototypeOf(y,c.prototype),y};function L(i,u,d){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+u>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(i,u,d){i=i>>>0,u=u>>>0,d||L(i,u,this.length);for(var y=this[i],S=1,N=0;++N<u&&(S*=256);)y+=this[i+N]*S;return y},c.prototype.readUintBE=c.prototype.readUIntBE=function(i,u,d){i=i>>>0,u=u>>>0,d||L(i,u,this.length);for(var y=this[i+--u],S=1;u>0&&(S*=256);)y+=this[i+--u]*S;return y},c.prototype.readUint8=c.prototype.readUInt8=function(i,u){return i=i>>>0,u||L(i,1,this.length),this[i]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(i,u){return i=i>>>0,u||L(i,2,this.length),this[i]|this[i+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(i,u){return i=i>>>0,u||L(i,2,this.length),this[i]<<8|this[i+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(i,u){return i=i>>>0,u||L(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(i,u){return i=i>>>0,u||L(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},c.prototype.readIntLE=function(i,u,d){i=i>>>0,u=u>>>0,d||L(i,u,this.length);for(var y=this[i],S=1,N=0;++N<u&&(S*=256);)y+=this[i+N]*S;return S*=128,y>=S&&(y-=Math.pow(2,8*u)),y},c.prototype.readIntBE=function(i,u,d){i=i>>>0,u=u>>>0,d||L(i,u,this.length);for(var y=u,S=1,N=this[i+--y];y>0&&(S*=256);)N+=this[i+--y]*S;return S*=128,N>=S&&(N-=Math.pow(2,8*u)),N},c.prototype.readInt8=function(i,u){return i=i>>>0,u||L(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},c.prototype.readInt16LE=function(i,u){i=i>>>0,u||L(i,2,this.length);var d=this[i]|this[i+1]<<8;return d&32768?d|4294901760:d},c.prototype.readInt16BE=function(i,u){i=i>>>0,u||L(i,2,this.length);var d=this[i+1]|this[i]<<8;return d&32768?d|4294901760:d},c.prototype.readInt32LE=function(i,u){return i=i>>>0,u||L(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},c.prototype.readInt32BE=function(i,u){return i=i>>>0,u||L(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},c.prototype.readFloatLE=function(i,u){return i=i>>>0,u||L(i,4,this.length),n.read(this,i,!0,23,4)},c.prototype.readFloatBE=function(i,u){return i=i>>>0,u||L(i,4,this.length),n.read(this,i,!1,23,4)},c.prototype.readDoubleLE=function(i,u){return i=i>>>0,u||L(i,8,this.length),n.read(this,i,!0,52,8)},c.prototype.readDoubleBE=function(i,u){return i=i>>>0,u||L(i,8,this.length),n.read(this,i,!1,52,8)};function W(i,u,d,y,S,N){if(!c.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>S||u<N)throw new RangeError('"value" argument is out of bounds');if(d+y>i.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(i,u,d,y){if(i=+i,u=u>>>0,d=d>>>0,!y){var S=Math.pow(2,8*d)-1;W(this,i,u,d,S,0)}var N=1,P=0;for(this[u]=i&255;++P<d&&(N*=256);)this[u+P]=i/N&255;return u+d},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(i,u,d,y){if(i=+i,u=u>>>0,d=d>>>0,!y){var S=Math.pow(2,8*d)-1;W(this,i,u,d,S,0)}var N=d-1,P=1;for(this[u+N]=i&255;--N>=0&&(P*=256);)this[u+N]=i/P&255;return u+d},c.prototype.writeUint8=c.prototype.writeUInt8=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,1,255,0),this[u]=i&255,u+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,2,65535,0),this[u]=i&255,this[u+1]=i>>>8,u+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,2,65535,0),this[u]=i>>>8,this[u+1]=i&255,u+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,4,4294967295,0),this[u+3]=i>>>24,this[u+2]=i>>>16,this[u+1]=i>>>8,this[u]=i&255,u+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,4,4294967295,0),this[u]=i>>>24,this[u+1]=i>>>16,this[u+2]=i>>>8,this[u+3]=i&255,u+4},c.prototype.writeIntLE=function(i,u,d,y){if(i=+i,u=u>>>0,!y){var S=Math.pow(2,8*d-1);W(this,i,u,d,S-1,-S)}var N=0,P=1,Y=0;for(this[u]=i&255;++N<d&&(P*=256);)i<0&&Y===0&&this[u+N-1]!==0&&(Y=1),this[u+N]=(i/P>>0)-Y&255;return u+d},c.prototype.writeIntBE=function(i,u,d,y){if(i=+i,u=u>>>0,!y){var S=Math.pow(2,8*d-1);W(this,i,u,d,S-1,-S)}var N=d-1,P=1,Y=0;for(this[u+N]=i&255;--N>=0&&(P*=256);)i<0&&Y===0&&this[u+N+1]!==0&&(Y=1),this[u+N]=(i/P>>0)-Y&255;return u+d},c.prototype.writeInt8=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,1,127,-128),i<0&&(i=255+i+1),this[u]=i&255,u+1},c.prototype.writeInt16LE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,2,32767,-32768),this[u]=i&255,this[u+1]=i>>>8,u+2},c.prototype.writeInt16BE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,2,32767,-32768),this[u]=i>>>8,this[u+1]=i&255,u+2},c.prototype.writeInt32LE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,4,2147483647,-2147483648),this[u]=i&255,this[u+1]=i>>>8,this[u+2]=i>>>16,this[u+3]=i>>>24,u+4},c.prototype.writeInt32BE=function(i,u,d){return i=+i,u=u>>>0,d||W(this,i,u,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[u]=i>>>24,this[u+1]=i>>>16,this[u+2]=i>>>8,this[u+3]=i&255,u+4};function J(i,u,d,y,S,N){if(d+y>i.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function X(i,u,d,y,S){return u=+u,d=d>>>0,S||J(i,u,d,4),n.write(i,u,d,y,23,4),d+4}c.prototype.writeFloatLE=function(i,u,d){return X(this,i,u,!0,d)},c.prototype.writeFloatBE=function(i,u,d){return X(this,i,u,!1,d)};function tt(i,u,d,y,S){return u=+u,d=d>>>0,S||J(i,u,d,8),n.write(i,u,d,y,52,8),d+8}c.prototype.writeDoubleLE=function(i,u,d){return tt(this,i,u,!0,d)},c.prototype.writeDoubleBE=function(i,u,d){return tt(this,i,u,!1,d)},c.prototype.copy=function(i,u,d,y){if(!c.isBuffer(i))throw new TypeError("argument should be a Buffer");if(d||(d=0),!y&&y!==0&&(y=this.length),u>=i.length&&(u=i.length),u||(u=0),y>0&&y<d&&(y=d),y===d||i.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),i.length-u<y-d&&(y=i.length-u+d);var S=y-d;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,d,y):Uint8Array.prototype.set.call(i,this.subarray(d,y),u),S},c.prototype.fill=function(i,u,d,y){if(typeof i=="string"){if(typeof u=="string"?(y=u,u=0,d=this.length):typeof d=="string"&&(y=d,d=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!c.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(i.length===1){var S=i.charCodeAt(0);(y==="utf8"&&S<128||y==="latin1")&&(i=S)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(u<0||this.length<u||this.length<d)throw new RangeError("Out of range index");if(d<=u)return this;u=u>>>0,d=d===void 0?this.length:d>>>0,i||(i=0);var N;if(typeof i=="number")for(N=u;N<d;++N)this[N]=i;else{var P=c.isBuffer(i)?i:c.from(i,y),Y=P.length;if(Y===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(N=0;N<d-u;++N)this[N+u]=P[N%Y]}return this};var Ut=/[^+/0-9A-Za-z-_]/g;function et(i){if(i=i.split("=")[0],i=i.trim().replace(Ut,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function nt(i,u){u=u||1/0;for(var d,y=i.length,S=null,N=[],P=0;P<y;++P){if(d=i.charCodeAt(P),d>55295&&d<57344){if(!S){if(d>56319){(u-=3)>-1&&N.push(239,191,189);continue}else if(P+1===y){(u-=3)>-1&&N.push(239,191,189);continue}S=d;continue}if(d<56320){(u-=3)>-1&&N.push(239,191,189),S=d;continue}d=(S-55296<<10|d-56320)+65536}else S&&(u-=3)>-1&&N.push(239,191,189);if(S=null,d<128){if((u-=1)<0)break;N.push(d)}else if(d<2048){if((u-=2)<0)break;N.push(d>>6|192,d&63|128)}else if(d<65536){if((u-=3)<0)break;N.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((u-=4)<0)break;N.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return N}function He(i){for(var u=[],d=0;d<i.length;++d)u.push(i.charCodeAt(d)&255);return u}function ut(i,u){for(var d,y,S,N=[],P=0;P<i.length&&!((u-=2)<0);++P)d=i.charCodeAt(P),y=d>>8,S=d%256,N.push(S),N.push(y);return N}function st(i){return t.toByteArray(et(i))}function Zt(i,u,d,y){for(var S=0;S<y&&!(S+d>=u.length||S>=i.length);++S)u[S+d]=i[S];return S}function G(i,u){return i instanceof u||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===u.name}function it(i){return i!==i}var $e=function(){for(var i="0123456789abcdef",u=new Array(256),d=0;d<16;++d)for(var y=d*16,S=0;S<16;++S)u[y+S]=i[d]+i[S];return u}()})(go);var _o=Ft,vo=po,Iu=go.Buffer;function dn(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}dn.prototype.initialize=function(e){this.degree=e,this.genPoly=vo.generateECPolynomial(this.degree)},dn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=_o.alloc(this.degree),n=Iu.concat([e,t],e.length+this.degree),r=vo.mod(n,this.genPoly),l=this.degree-r.length;if(l>0){var s=_o.alloc(this.degree);return r.copy(s,l),s}return r};var Cu=dn,yo={},$t={},pn={};pn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Pt={},wo="[0-9]+",Au="[A-Z $%*+\\-./:]+",pe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";pe=pe.replace(/u/g,"\\u");var Ru="(?:(?![A-Z0-9 $%*+\\-./:]|"+pe+`)(?:.|[\r
]))+`;Pt.KANJI=new RegExp(pe,"g"),Pt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Pt.BYTE=new RegExp(Ru,"g"),Pt.NUMERIC=new RegExp(wo,"g"),Pt.ALPHANUMERIC=new RegExp(Au,"g");var Nu=new RegExp("^"+pe+"$"),Tu=new RegExp("^"+wo+"$"),Ou=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pt.testKanji=function(e){return Nu.test(e)},Pt.testNumeric=function(e){return Tu.test(e)},Pt.testAlphanumeric=function(e){return Ou.test(e)},function(e){var t=pn,n=Pt;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(l,s){if(!l.ccBits)throw new Error("Invalid mode: "+l);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?l.ccBits[0]:s<27?l.ccBits[1]:l.ccBits[2]},e.getBestModeForData=function(l){return n.testNumeric(l)?e.NUMERIC:n.testAlphanumeric(l)?e.ALPHANUMERIC:n.testKanji(l)?e.KANJI:e.BYTE},e.toString=function(l){if(l&&l.id)return l.id;throw new Error("Invalid mode")},e.isValid=function(l){return l&&l.bit&&l.ccBits};function r(l){if(typeof l!="string")throw new Error("Param is not a string");var s=l.toLowerCase();switch(s){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+l)}}e.from=function(l,s){if(e.isValid(l))return l;try{return r(l)}catch{return s}}}($t),function(e){var t=Lt,n=Ne,r=Re,l=$t,s=pn,v=ln,c=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,E=t.getBCHDigit(c);function I(O,j,B){for(var k=1;k<=40;k++)if(j<=e.getCapacity(k,B,O))return k}function M(O,j){return l.getCharCountIndicator(O,j)+4}function T(O,j){var B=0;return O.forEach(function(k){var x=M(k.mode,j);B+=x+k.getBitsLength()}),B}function U(O,j){for(var B=1;B<=40;B++){var k=T(O,B);if(k<=e.getCapacity(B,j,l.MIXED))return B}}e.from=function(O,j){return s.isValid(O)?parseInt(O,10):j},e.getCapacity=function(O,j,B){if(!s.isValid(O))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=l.BYTE);var k=t.getSymbolTotalCodewords(O),x=n.getTotalCodewordsCount(O,j),A=(k-x)*8;if(B===l.MIXED)return A;var C=A-M(B,O);switch(B){case l.NUMERIC:return Math.floor(C/10*3);case l.ALPHANUMERIC:return Math.floor(C/11*2);case l.KANJI:return Math.floor(C/13);case l.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(O,j){var B,k=r.from(j,r.M);if(v(O)){if(O.length>1)return U(O,k);if(O.length===0)return 1;B=O[0]}else B=O;return I(B.mode,B.getLength(),k)},e.getEncodedBits=function(O){if(!s.isValid(O)||O<7)throw new Error("Invalid QR Code version");for(var j=O<<12;t.getBCHDigit(j)-E>=0;)j^=c<<t.getBCHDigit(j)-E;return O<<12|j}}(yo);var bo={},mn=Lt,Mo=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Lu=1<<14|1<<12|1<<10|1<<4|1<<1,Eo=mn.getBCHDigit(Mo);bo.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,r=n<<10;mn.getBCHDigit(r)-Eo>=0;)r^=Mo<<mn.getBCHDigit(r)-Eo;return(n<<10|r)^Lu};var ko={},Bu=$t;function re(e){this.mode=Bu.NUMERIC,this.data=e.toString()}re.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},re.prototype.getLength=function(){return this.data.length},re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)},re.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var l=this.data.length-t;l>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,l*3+1))};var Pu=re,Uu=$t,gn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function oe(e){this.mode=Uu.ALPHANUMERIC,this.data=e}oe.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},oe.prototype.getLength=function(){return this.data.length},oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)},oe.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=gn.indexOf(this.data[t])*45;n+=gn.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(gn.indexOf(this.data[t]),6)};var qu=oe,ju=Ft,Du=$t;function ie(e){this.mode=Du.BYTE,this.data=ju.from(e)}ie.getBitsLength=function(e){return e*8},ie.prototype.getLength=function(){return this.data.length},ie.prototype.getBitsLength=function(){return ie.getBitsLength(this.data.length)},ie.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Wu=ie,zu=$t,Fu=Lt;function se(e){this.mode=zu.KANJI,this.data=e}se.getBitsLength=function(e){return e*13},se.prototype.getLength=function(){return this.data.length},se.prototype.getBitsLength=function(){return se.getBitsLength(this.data.length)},se.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=Fu.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Hu=se;(function(e){var t=$t,n=Pu,r=qu,l=Wu,s=Hu,v=Pt,c=Lt,E=Th;function I(x){return unescape(encodeURIComponent(x)).length}function M(x,A,C){for(var R=[],D;(D=x.exec(C))!==null;)R.push({data:D[0],index:D.index,mode:A,length:D[0].length});return R}function T(x){var A=M(v.NUMERIC,t.NUMERIC,x),C=M(v.ALPHANUMERIC,t.ALPHANUMERIC,x),R,D;c.isKanjiModeEnabled()?(R=M(v.BYTE,t.BYTE,x),D=M(v.KANJI,t.KANJI,x)):(R=M(v.BYTE_KANJI,t.BYTE,x),D=[]);var z=A.concat(C,R,D);return z.sort(function(K,$){return K.index-$.index}).map(function(K){return{data:K.data,mode:K.mode,length:K.length}})}function U(x,A){switch(A){case t.NUMERIC:return n.getBitsLength(x);case t.ALPHANUMERIC:return r.getBitsLength(x);case t.KANJI:return s.getBitsLength(x);case t.BYTE:return l.getBitsLength(x)}}function O(x){return x.reduce(function(A,C){var R=A.length-1>=0?A[A.length-1]:null;return R&&R.mode===C.mode?(A[A.length-1].data+=C.data,A):(A.push(C),A)},[])}function j(x){for(var A=[],C=0;C<x.length;C++){var R=x[C];switch(R.mode){case t.NUMERIC:A.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:A.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:A.push([R,{data:R.data,mode:t.BYTE,length:I(R.data)}]);break;case t.BYTE:A.push([{data:R.data,mode:t.BYTE,length:I(R.data)}])}}return A}function B(x,A){for(var C={},R={start:{}},D=["start"],z=0;z<x.length;z++){for(var K=x[z],$=[],lt=0;lt<K.length;lt++){var o=K[lt],h=""+z+lt;$.push(h),C[h]={node:o,lastCount:0},R[h]={};for(var f=0;f<D.length;f++){var p=D[f];C[p]&&C[p].node.mode===o.mode?(R[p][h]=U(C[p].lastCount+o.length,o.mode)-U(C[p].lastCount,o.mode),C[p].lastCount+=o.length):(C[p]&&(C[p].lastCount=o.length),R[p][h]=U(o.length,o.mode)+4+t.getCharCountIndicator(o.mode,A))}}D=$}for(f=0;f<D.length;f++)R[D[f]].end=0;return{map:R,table:C}}function k(x,A){var C,R=t.getBestModeForData(x);if(C=t.from(A,R),C!==t.BYTE&&C.bit<R.bit)throw new Error('"'+x+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(R));switch(C===t.KANJI&&!c.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(x);case t.ALPHANUMERIC:return new r(x);case t.KANJI:return new s(x);case t.BYTE:return new l(x)}}e.fromArray=function(x){return x.reduce(function(A,C){return typeof C=="string"?A.push(k(C,null)):C.data&&A.push(k(C.data,C.mode)),A},[])},e.fromString=function(x,A){for(var C=T(x,c.isKanjiModeEnabled()),R=j(C),D=B(R,A),z=E.find_path(D.map,"start","end"),K=[],$=1;$<z.length-1;$++)K.push(D.table[z[$]].node);return e.fromArray(O(K))},e.rawSplit=function(x){return e.fromArray(T(x,c.isKanjiModeEnabled()))}})(ko);var xo=Ft,Pe=Lt,_n=Re,$u=ku,Yu=xu,Ju=lo,Vu=ho,vn=fo,yn=Ne,Ku=Cu,Ue=yo,Zu=bo,Xu=$t,wn=ko,Qu=ln;function Gu(e,t){for(var n=e.size,r=Vu.getPositions(t),l=0;l<r.length;l++)for(var s=r[l][0],v=r[l][1],c=-1;c<=7;c++)if(!(s+c<=-1||n<=s+c))for(var E=-1;E<=7;E++)v+E<=-1||n<=v+E||(c>=0&&c<=6&&(E===0||E===6)||E>=0&&E<=6&&(c===0||c===6)||c>=2&&c<=4&&E>=2&&E<=4?e.set(s+c,v+E,!0,!0):e.set(s+c,v+E,!1,!0))}function tl(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function el(e,t){for(var n=Ju.getPositions(t),r=0;r<n.length;r++)for(var l=n[r][0],s=n[r][1],v=-2;v<=2;v++)for(var c=-2;c<=2;c++)v===-2||v===2||c===-2||c===2||v===0&&c===0?e.set(l+v,s+c,!0,!0):e.set(l+v,s+c,!1,!0)}function nl(e,t){for(var n=e.size,r=Ue.getEncodedBits(t),l,s,v,c=0;c<18;c++)l=Math.floor(c/3),s=c%3+n-8-3,v=(r>>c&1)===1,e.set(l,s,v,!0),e.set(s,l,v,!0)}function bn(e,t,n){var r=e.size,l=Zu.getEncodedBits(t,n),s,v;for(s=0;s<15;s++)v=(l>>s&1)===1,s<6?e.set(s,8,v,!0):s<8?e.set(s+1,8,v,!0):e.set(r-15+s,8,v,!0),s<8?e.set(8,r-s-1,v,!0):s<9?e.set(8,15-s-1+1,v,!0):e.set(8,15-s-1,v,!0);e.set(r-8,8,1,!0)}function rl(e,t){for(var n=e.size,r=-1,l=n-1,s=7,v=0,c=n-1;c>0;c-=2)for(c===6&&c--;;){for(var E=0;E<2;E++)if(!e.isReserved(l,c-E)){var I=!1;v<t.length&&(I=(t[v]>>>s&1)===1),e.set(l,c-E,I),s--,s===-1&&(v++,s=7)}if(l+=r,l<0||n<=l){l-=r,r=-r;break}}}function ol(e,t,n){var r=new $u;n.forEach(function(I){r.put(I.mode.bit,4),r.put(I.getLength(),Xu.getCharCountIndicator(I.mode,e)),I.write(r)});var l=Pe.getSymbolTotalCodewords(e),s=yn.getTotalCodewordsCount(e,t),v=(l-s)*8;for(r.getLengthInBits()+4<=v&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var c=(v-r.getLengthInBits())/8,E=0;E<c;E++)r.put(E%2?17:236,8);return il(r,e,t)}function il(e,t,n){for(var r=Pe.getSymbolTotalCodewords(t),l=yn.getTotalCodewordsCount(t,n),s=r-l,v=yn.getBlocksCount(t,n),c=r%v,E=v-c,I=Math.floor(r/v),M=Math.floor(s/v),T=M+1,U=I-M,O=new Ku(U),j=0,B=new Array(v),k=new Array(v),x=0,A=xo.from(e.buffer),C=0;C<v;C++){var R=C<E?M:T;B[C]=A.slice(j,j+R),k[C]=O.encode(B[C]),j+=R,x=Math.max(x,R)}var D=xo.alloc(r),z=0,K,$;for(K=0;K<x;K++)for($=0;$<v;$++)K<B[$].length&&(D[z++]=B[$][K]);for(K=0;K<U;K++)for($=0;$<v;$++)D[z++]=k[$][K];return D}function sl(e,t,n,r){var l;if(Qu(e))l=wn.fromArray(e);else if(typeof e=="string"){var s=t;if(!s){var v=wn.rawSplit(e);s=Ue.getBestVersionForData(v,n)}l=wn.fromString(e,s||40)}else throw new Error("Invalid data");var c=Ue.getBestVersionForData(l,n);if(!c)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=c;else if(t<c)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+c+`.
`);var E=ol(t,n,l),I=Pe.getSymbolSize(t),M=new Yu(I);return Gu(M,t),tl(M),el(M,t),bn(M,n,0),t>=7&&nl(M,t),rl(M,E),isNaN(r)&&(r=vn.getBestMask(M,bn.bind(null,M,n))),vn.applyMask(r,M),bn(M,n,r),{modules:M,version:t,errorCorrectionLevel:n,maskPattern:r,segments:l}}no.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");var n=_n.M,r,l;return typeof t<"u"&&(n=_n.from(t.errorCorrectionLevel,_n.M),r=Ue.from(t.version),l=vn.from(t.maskPattern),t.toSJISFunc&&Pe.setToSJISFunction(t.toSJISFunc)),sl(e,r,n,l)};var So={},Mn={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");var r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");var l=parseInt(r.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});var r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,l=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:l,scale:l?4:s,margin:r,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},e.getImageWidth=function(n,r){var l=e.getScale(n,r);return Math.floor((n+r.margin*2)*l)},e.qrToImageData=function(n,r,l){for(var s=r.modules.size,v=r.modules.data,c=e.getScale(s,l),E=Math.floor((s+l.margin*2)*c),I=l.margin*c,M=[l.color.light,l.color.dark],T=0;T<E;T++)for(var U=0;U<E;U++){var O=(T*E+U)*4,j=l.color.light;if(T>=I&&U>=I&&T<E-I&&U<E-I){var B=Math.floor((T-I)/c),k=Math.floor((U-I)/c);j=M[v[B*s+k]?1:0]}n[O++]=j.r,n[O++]=j.g,n[O++]=j.b,n[O]=j.a}}})(Mn),function(e){var t=Mn;function n(l,s,v){l.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=v,s.width=v,s.style.height=v+"px",s.style.width=v+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(l,s,v){var c=v,E=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(E=r()),c=t.getOptions(c);var I=t.getImageWidth(l.modules.size,c),M=E.getContext("2d"),T=M.createImageData(I,I);return t.qrToImageData(T.data,l,c),n(M,E,I),M.putImageData(T,0,0),E},e.renderToDataURL=function(l,s,v){var c=v;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});var E=e.render(l,s,c),I=c.type||"image/png",M=c.rendererOpts||{};return E.toDataURL(I,M.quality)}}(So);var Io={},al=Mn;function Co(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function En(e,t,n){var r=e+t;return typeof n<"u"&&(r+=" "+n),r}function ul(e,t,n){for(var r="",l=0,s=!1,v=0,c=0;c<e.length;c++){var E=Math.floor(c%t),I=Math.floor(c/t);!E&&!s&&(s=!0),e[c]?(v++,c>0&&E>0&&e[c-1]||(r+=s?En("M",E+n,.5+I+n):En("m",l,0),l=0,s=!1),E+1<t&&e[c+1]||(r+=En("h",v),v=0)):l++}return r}Io.render=function(e,t,n){var r=al.getOptions(t),l=e.modules.size,s=e.modules.data,v=l+r.margin*2,c=r.color.light.a?"<path "+Co(r.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",E="<path "+Co(r.color.dark,"stroke")+' d="'+ul(s,l,r.margin)+'"/>',I='viewBox="0 0 '+v+" "+v+'"',M=r.width?'width="'+r.width+'" height="'+r.width+'" ':"",T='<svg xmlns="http://www.w3.org/2000/svg" '+M+I+' shape-rendering="crispEdges">'+c+E+`</svg>
`;return typeof n=="function"&&n(null,T),T};var ll=fu,kn=no,Ao=So,hl=Io;function xn(e,t,n,r,l){var s=[].slice.call(arguments,1),v=s.length,c=typeof s[v-1]=="function";if(!c&&!ll())throw new Error("Callback required as last argument");if(c){if(v<2)throw new Error("Too few arguments provided");v===2?(l=n,n=t,t=r=void 0):v===3&&(t.getContext&&typeof l>"u"?(l=r,r=void 0):(l=r,r=n,n=t,t=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(n=t,t=r=void 0):v===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(I,M){try{var T=kn.create(n,r);I(e(T,t,r))}catch(U){M(U)}})}try{var E=kn.create(n,r);l(null,e(E,t,r))}catch(I){l(I)}}ce.create=kn.create,ce.toCanvas=xn.bind(null,Ao.render),ce.toDataURL=xn.bind(null,Ao.renderToDataURL),ce.toString=xn.bind(null,function(e,t,n){return hl.render(e,n)});var cl=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(l){e.addRange(l)}),t&&t.focus()}},fl=cl,Ro={"text/plain":"Text","text/html":"Url",default:"Text"},dl="Copy to clipboard: #{key}, Enter";function pl(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function ml(e,t){var n,r,l,s,v,c,E=!1;t||(t={}),n=t.debug||!1;try{l=fl(),s=document.createRange(),v=document.getSelection(),c=document.createElement("span"),c.textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(M){if(M.stopPropagation(),t.format)if(M.preventDefault(),typeof M.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var T=Ro[t.format]||Ro.default;window.clipboardData.setData(T,e)}else M.clipboardData.clearData(),M.clipboardData.setData(t.format,e);t.onCopy&&(M.preventDefault(),t.onCopy(M.clipboardData))}),document.body.appendChild(c),s.selectNodeContents(c),v.addRange(s);var I=document.execCommand("copy");if(!I)throw new Error("copy command was unsuccessful");E=!0}catch(M){n&&console.error("unable to copy using execCommand: ",M),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),E=!0}catch(T){n&&console.error("unable to copy using clipboardData: ",T),n&&console.error("falling back to prompt"),r=pl("message"in t?t.message:dl),window.prompt(r,e)}}finally{v&&(typeof v.removeRange=="function"?v.removeRange(s):v.removeAllRanges()),c&&document.body.removeChild(c),l()}return E}var gl=ml,H,me,Sn,No,To,In,Oo,qt={},qe=[],_l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function jt(e,t){for(var n in t)e[n]=t[n];return e}function Lo(e){var t=e.parentNode;t&&t.removeChild(e)}function Dt(e,t,n){var r,l=arguments,s={};for(r in t)r!=="key"&&r!=="ref"&&(s[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(l[r]);if(n!=null&&(s.children=n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)s[r]===void 0&&(s[r]=e.defaultProps[r]);return je(e,s,t&&t.key,t&&t.ref,null)}function je(e,t,n,r,l){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:l};return l==null&&(s.__v=s),H.vnode&&H.vnode(s),s}function Bo(){return{}}function ge(e){return e.children}function Bt(e,t){this.props=e,this.context=t}function _e(e,t){if(t==null)return e.__?_e(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?_e(e):null}function Po(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Po(e)}}function De(e){(!e.__d&&(e.__d=!0)&&me.push(e)&&!Sn++||To!==H.debounceRendering)&&((To=H.debounceRendering)||No)(vl)}function vl(){for(var e;Sn=me.length;)e=me.sort(function(t,n){return t.__v.__b-n.__v.__b}),me=[],e.some(function(t){var n,r,l,s,v,c,E;t.__d&&(c=(v=(n=t).__v).__e,(E=n.__P)&&(r=[],(l=jt({},v)).__v=l,s=Cn(E,v,l,n.__n,E.ownerSVGElement!==void 0,null,r,c??_e(v)),Do(r,v),s!=c&&Po(v)))})}function Uo(e,t,n,r,l,s,v,c,E){var I,M,T,U,O,j,B,k=n&&n.__k||qe,x=k.length;if(c==qt&&(c=s!=null?s[0]:x?_e(n,0):null),I=0,t.__k=Yt(t.__k,function(A){if(A!=null){if(A.__=t,A.__b=t.__b+1,(T=k[I])===null||T&&A.key==T.key&&A.type===T.type)k[I]=void 0;else for(M=0;M<x;M++){if((T=k[M])&&A.key==T.key&&A.type===T.type){k[M]=void 0;break}T=null}if(U=Cn(e,A,T=T||qt,r,l,s,v,c,E),(M=A.ref)&&T.ref!=M&&(B||(B=[]),T.ref&&B.push(T.ref,null,A),B.push(M,A.__c||U,A)),U!=null){var C;if(j==null&&(j=U),A.__d!==void 0)C=A.__d,A.__d=void 0;else if(s==T||U!=c||U.parentNode==null){t:if(c==null||c.parentNode!==e)e.appendChild(U),C=null;else{for(O=c,M=0;(O=O.nextSibling)&&M<x;M+=2)if(O==U)break t;e.insertBefore(U,c),C=c}t.type=="option"&&(e.value="")}c=C!==void 0?C:U.nextSibling,typeof t.type=="function"&&(t.__d=c)}else c&&T.__e==c&&c.parentNode!=e&&(c=_e(T))}return I++,A}),t.__e=j,s!=null&&typeof t.type!="function")for(I=s.length;I--;)s[I]!=null&&Lo(s[I]);for(I=x;I--;)k[I]!=null&&ve(k[I],k[I]);if(B)for(I=0;I<B.length;I++)Wo(B[I],B[++I],B[++I])}function Yt(e,t,n){if(n==null&&(n=[]),e==null||typeof e=="boolean")t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)Yt(e[r],t,n);else n.push(t?t(typeof e=="string"||typeof e=="number"?je(null,e,null,null,e):e.__e!=null||e.__c!=null?je(e.type,e.props,e.key,null,e.__v):e):e);return n}function yl(e,t,n,r,l){var s;for(s in n)s==="children"||s==="key"||s in t||We(e,s,null,n[s],r);for(s in t)l&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===t[s]||We(e,s,t[s],n[s],r)}function qo(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=typeof n=="number"&&_l.test(t)===!1?n+"px":n??""}function We(e,t,n,r,l){var s,v,c,E,I;if(l?t==="className"&&(t="class"):t==="class"&&(t="className"),t==="style")if(s=e.style,typeof n=="string")s.cssText=n;else{if(typeof r=="string"&&(s.cssText="",r=null),r)for(E in r)n&&E in n||qo(s,E,"");if(n)for(I in n)r&&n[I]===r[I]||qo(s,I,n[I])}else t[0]==="o"&&t[1]==="n"?(v=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),n?(r||e.addEventListener(t,jo,v),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,jo,v)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&!l&&t in e?e[t]=n??"":typeof n!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?n==null||n===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):n==null||n===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function jo(e){this.l[e.type](H.event?H.event(e):e)}function Cn(e,t,n,r,l,s,v,c,E){var I,M,T,U,O,j,B,k,x,A,C=t.type;if(t.constructor!==void 0)return null;(I=H.__b)&&I(t);try{t:if(typeof C=="function"){if(k=t.props,x=(I=C.contextType)&&r[I.__c],A=I?x?x.props.value:I.__:r,n.__c?B=(M=t.__c=n.__c).__=M.__E:("prototype"in C&&C.prototype.render?t.__c=M=new C(k,A):(t.__c=M=new Bt(k,A),M.constructor=C,M.render=bl),x&&x.sub(M),M.props=k,M.state||(M.state={}),M.context=A,M.__n=r,T=M.__d=!0,M.__h=[]),M.__s==null&&(M.__s=M.state),C.getDerivedStateFromProps!=null&&(M.__s==M.state&&(M.__s=jt({},M.__s)),jt(M.__s,C.getDerivedStateFromProps(k,M.__s))),U=M.props,O=M.state,T)C.getDerivedStateFromProps==null&&M.componentWillMount!=null&&M.componentWillMount(),M.componentDidMount!=null&&M.__h.push(M.componentDidMount);else{if(C.getDerivedStateFromProps==null&&k!==U&&M.componentWillReceiveProps!=null&&M.componentWillReceiveProps(k,A),!M.__e&&M.shouldComponentUpdate!=null&&M.shouldComponentUpdate(k,M.__s,A)===!1||t.__v===n.__v&&!M.__){for(M.props=k,M.state=M.__s,t.__v!==n.__v&&(M.__d=!1),M.__v=t,t.__e=n.__e,t.__k=n.__k,M.__h.length&&v.push(M),I=0;I<t.__k.length;I++)t.__k[I]&&(t.__k[I].__=t);break t}M.componentWillUpdate!=null&&M.componentWillUpdate(k,M.__s,A),M.componentDidUpdate!=null&&M.__h.push(function(){M.componentDidUpdate(U,O,j)})}M.context=A,M.props=k,M.state=M.__s,(I=H.__r)&&I(t),M.__d=!1,M.__v=t,M.__P=e,I=M.render(M.props,M.state,M.context),t.__k=I!=null&&I.type==ge&&I.key==null?I.props.children:Array.isArray(I)?I:[I],M.getChildContext!=null&&(r=jt(jt({},r),M.getChildContext())),T||M.getSnapshotBeforeUpdate==null||(j=M.getSnapshotBeforeUpdate(U,O)),Uo(e,t,n,r,l,s,v,c,E),M.base=t.__e,M.__h.length&&v.push(M),B&&(M.__E=M.__=null),M.__e=!1}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=wl(n.__e,t,n,r,l,s,v,E);(I=H.diffed)&&I(t)}catch(R){t.__v=null,H.__e(R,t,n)}return t.__e}function Do(e,t){H.__c&&H.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){H.__e(r,n.__v)}})}function wl(e,t,n,r,l,s,v,c){var E,I,M,T,U,O=n.props,j=t.props;if(l=t.type==="svg"||l,s!=null){for(E=0;E<s.length;E++)if((I=s[E])!=null&&((t.type===null?I.nodeType===3:I.localName===t.type)||e==I)){e=I,s[E]=null;break}}if(e==null){if(t.type===null)return document.createTextNode(j);e=l?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,j.is&&{is:j.is}),s=null,c=!1}if(t.type===null)O!==j&&e.data!=j&&(e.data=j);else{if(s!=null&&(s=qe.slice.call(e.childNodes)),M=(O=n.props||qt).dangerouslySetInnerHTML,T=j.dangerouslySetInnerHTML,!c){if(O===qt)for(O={},U=0;U<e.attributes.length;U++)O[e.attributes[U].name]=e.attributes[U].value;(T||M)&&(T&&M&&T.__html==M.__html||(e.innerHTML=T&&T.__html||""))}yl(e,j,O,l,c),T?t.__k=[]:(t.__k=t.props.children,Uo(e,t,n,r,t.type!=="foreignObject"&&l,s,v,qt,c)),c||("value"in j&&(E=j.value)!==void 0&&E!==e.value&&We(e,"value",E,O.value,!1),"checked"in j&&(E=j.checked)!==void 0&&E!==e.checked&&We(e,"checked",E,O.checked,!1))}return e}function Wo(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){H.__e(r,n)}}function ve(e,t,n){var r,l,s;if(H.unmount&&H.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Wo(r,null,t)),n||typeof e.type=="function"||(n=(l=e.__e)!=null),e.__e=e.__d=void 0,(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(v){H.__e(v,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&ve(r[s],t,n);l!=null&&Lo(l)}function bl(e,t,n){return this.constructor(e,n)}function ye(e,t,n){var r,l,s;H.__&&H.__(e,t),l=(r=n===In)?null:n&&n.__k||t.__k,e=Dt(ge,null,[e]),s=[],Cn(t,(r?t:n||t).__k=e,l||qt,qt,t.ownerSVGElement!==void 0,n&&!r?[n]:l?null:qe.slice.call(t.childNodes),s,n||qt,r),Do(s,e)}function zo(e,t){ye(e,t,In)}function Ml(e,t){var n,r;for(r in t=jt(jt({},e.props),t),arguments.length>2&&(t.children=qe.slice.call(arguments,2)),n={},t)r!=="key"&&r!=="ref"&&(n[r]=t[r]);return je(e.type,n,t.key||e.key,t.ref||e.ref,null)}function Fo(e){var t={},n={__c:"__cC"+Oo++,__:e,Consumer:function(r,l){return r.children(l)},Provider:function(r){var l,s=this;return this.getChildContext||(l=[],this.getChildContext=function(){return t[n.__c]=s,t},this.shouldComponentUpdate=function(v){s.props.value!==v.value&&l.some(function(c){c.context=v.value,De(c)})},this.sub=function(v){l.push(v);var c=v.componentWillUnmount;v.componentWillUnmount=function(){l.splice(l.indexOf(v),1),c&&c.call(v)}}),r.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}H={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),n.componentDidCatch!=null&&(r=!0,n.componentDidCatch(e)),r)return De(n.__E=n)}catch(l){e=l}throw e}},Bt.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=jt({},this.state),typeof e=="function"&&(e=e(n,this.props)),e&&jt(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),De(this))},Bt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),De(this))},Bt.prototype.render=ge,me=[],Sn=0,No=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,In=qt,Oo=0;var Kt,Ot,Ho,ae=0,An=[],$o=H.__r,Yo=H.diffed,Jo=H.__c,Vo=H.unmount;function ue(e,t){H.__h&&H.__h(Ot,e,ae||t),ae=0;var n=Ot.__H||(Ot.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Rn(e){return ae=1,Nn(ei,e)}function Nn(e,t,n){var r=ue(Kt++,2);return r.__c||(r.__c=Ot,r.__=[n?n(t):ei(void 0,t),function(l){var s=e(r.__[0],l);r.__[0]!==s&&(r.__[0]=s,r.__c.setState({}))}]),r.__}function Ko(e,t){var n=ue(Kt++,3);!H.__s&&Bn(n.__H,t)&&(n.__=e,n.__H=t,Ot.__H.__h.push(n))}function Tn(e,t){var n=ue(Kt++,4);!H.__s&&Bn(n.__H,t)&&(n.__=e,n.__H=t,Ot.__h.push(n))}function Zo(e){return ae=5,ze(function(){return{current:e}},[])}function Xo(e,t,n){ae=6,Tn(function(){typeof e=="function"?e(t()):e&&(e.current=t())},n==null?n:n.concat(e))}function ze(e,t){var n=ue(Kt++,7);return Bn(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function Qo(e,t){return ae=8,ze(function(){return e},t)}function Go(e){var t=Ot.context[e.__c],n=ue(Kt++,9);return n.__c=e,t?(n.__==null&&(n.__=!0,t.sub(Ot)),t.props.value):e.__}function ti(e,t){H.useDebugValue&&H.useDebugValue(t?t(e):e)}function El(e){var t=ue(Kt++,10),n=Rn();return t.__=e,Ot.componentDidCatch||(Ot.componentDidCatch=function(r){t.__&&t.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function kl(){An.some(function(e){if(e.__P)try{e.__H.__h.forEach(On),e.__H.__h.forEach(Ln),e.__H.__h=[]}catch(t){return e.__H.__h=[],H.__e(t,e.__v),!0}}),An=[]}function On(e){e.t&&e.t()}function Ln(e){var t=e.__();typeof t=="function"&&(e.t=t)}function Bn(e,t){return!e||t.some(function(n,r){return n!==e[r]})}function ei(e,t){return typeof t=="function"?t(e):t}H.__r=function(e){$o&&$o(e),Kt=0,(Ot=e.__c).__H&&(Ot.__H.__h.forEach(On),Ot.__H.__h.forEach(Ln),Ot.__H.__h=[])},H.diffed=function(e){Yo&&Yo(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(An.push(t)!==1&&Ho===H.requestAnimationFrame||((Ho=H.requestAnimationFrame)||function(r){var l,s=function(){clearTimeout(v),cancelAnimationFrame(l),setTimeout(r)},v=setTimeout(s,100);typeof window<"u"&&(l=requestAnimationFrame(s))})(kl))}},H.__c=function(e,t){t.some(function(n){try{n.__h.forEach(On),n.__h=n.__h.filter(function(r){return!r.__||Ln(r)})}catch(r){t.some(function(l){l.__h&&(l.__h=[])}),t=[],H.__e(r,n.__v)}}),Jo&&Jo(e,t)},H.unmount=function(e){Vo&&Vo(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach(function(r){return r.t&&r.t()})}catch(r){H.__e(r,t.__v)}}};function Pn(e,t){for(var n in t)e[n]=t[n];return e}function Un(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}var ni=function(e){var t,n;function r(l){var s;return(s=e.call(this,l)||this).isPureReactComponent=!0,s}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(l,s){return Un(this.props,l)||Un(this.state,s)},r}(Bt);function ri(e,t){function n(l){var s=this.props.ref,v=s==l.ref;return!v&&s&&(s.call?s(null):s.current=null),t?!t(this.props,l)||!v:Un(this.props,l)}function r(l){return this.shouldComponentUpdate=n,Dt(e,Pn({},l))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r}var oi=H.__b;function ii(e){function t(n){var r=Pn({},n);return delete r.ref,e(r,n.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}H.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),oi&&oi(e)};var si=function(e,t){return e?Yt(e).reduce(function(n,r,l){return n.concat(t(r,l))},[]):null},ai={map:si,forEach:si,count:function(e){return e?Yt(e).length:0},only:function(e){if((e=Yt(e)).length!==1)throw new Error("Children.only() expects only one child.");return e[0]},toArray:Yt},xl=H.__e;function ui(e){return e&&((e=Pn({},e)).__c=null,e.__k=e.__k&&e.__k.map(ui)),e}function Fe(){this.__u=0,this.o=null,this.__b=null}function li(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function hi(e){var t,n,r;function l(s){if(t||(t=e()).then(function(v){n=v.default||v},function(v){r=v}),r)throw r;if(!n)throw t;return Dt(n,s)}return l.displayName="Lazy",l.t=!0,l}function le(){this.i=null,this.l=null}H.__e=function(e,t,n){if(e.then){for(var r,l=t;l=l.__;)if((r=l.__c)&&r.__c)return r.__c(e,t.__c)}xl(e,t,n)},(Fe.prototype=new Bt).__c=function(e,t){var n=this;n.o==null&&(n.o=[]),n.o.push(t);var r=li(n.__v),l=!1,s=function(){l||(l=!0,r?r(v):v())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){s(),t.__c&&t.__c()};var v=function(){var c;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});c=n.o.pop();)c.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(s,s)},Fe.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=ui(this.__b),this.__b=null),[Dt(Bt,null,t.u?null:e.children),t.u&&e.fallback]};var ci=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(le.prototype=new Bt).u=function(e){var t=this,n=li(t.__v),r=t.l.get(e);return r[0]++,function(l){var s=function(){t.props.revealOrder?(r.push(l),ci(t,e,r)):l()};n?n(s):s()}},le.prototype.render=function(e){this.i=null,this.l=new Map;var t=Yt(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},le.prototype.componentDidUpdate=le.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,n){ci(e,n,t)})};var Sl=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(n){return n.children},e}();function Il(e){var t=this,n=e.container,r=Dt(Sl,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),ve(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,ye(r,n),t.__k=n.__k):(t.v=document.createTextNode(""),zo("",n),n.appendChild(t.v),t.p=!0,t.s=n,ye(r,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),ve(t.h)),t.h=r,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),ve(t.h)},null}function fi(e,t){return Dt(Il,{vnode:e,container:t})}var di=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Bt.prototype.isReactComponent={};var pi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function qn(e,t,n){if(t.__k==null)for(;t.firstChild;)t.removeChild(t.firstChild);return ye(e,t),typeof n=="function"&&n(),e?e.__c:null}function Cl(e,t,n){return zo(e,t),typeof n=="function"&&n(),e?e.__c:null}var mi=H.event;function jn(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(n){this["UNSAFE_"+t]=n}})}H.event=function(e){mi&&(e=mi(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var l=e.preventDefault;return e.preventDefault=function(){l.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var gi={configurable:!0,get:function(){return this.class}},_i=H.vnode;H.vnode=function(e){e.$$typeof=pi;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(gi.enumerable="className"in n,n.className!=null&&(n.class=n.className),Object.defineProperty(n,"className",gi)),typeof t!="function"){var r,l,s;for(s in n.defaultValue&&n.value!==void 0&&(n.value||n.value===0||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&t==="select"&&(Yt(n.children).forEach(function(v){n.value.indexOf(v.props.value)!=-1&&(v.props.selected=!0)}),delete n.value),n)if(r=di.test(s))break;if(r)for(s in l=e.props={},n)l[di.test(s)?s.replace(/[A-Z0-9]/,"-$&").toLowerCase():s]=n[s]}(function(v){var c=e.type,E=e.props;if(E&&typeof c=="string"){var I={};for(var M in E)/^on(Ani|Tra|Tou)/.test(M)&&(E[M.toLowerCase()]=E[M],delete E[M]),I[M.toLowerCase()]=M;if(I.ondoubleclick&&(E.ondblclick=E[I.ondoubleclick],delete E[I.ondoubleclick]),I.onbeforeinput&&(E.onbeforeinput=E[I.onbeforeinput],delete E[I.onbeforeinput]),I.onchange&&(c==="textarea"||c.toLowerCase()==="input"&&!/^fil|che|ra/i.test(E.type))){var T=I.oninput||"oninput";E[T]||(E[T]=E[I.onchange],delete E[I.onchange])}}})(),typeof t=="function"&&!t.m&&t.prototype&&(jn(t.prototype,"componentWillMount"),jn(t.prototype,"componentWillReceiveProps"),jn(t.prototype,"componentWillUpdate"),t.m=!0)}_i&&_i(e)};var Al="16.8.0";function vi(e){return Dt.bind(null,e)}function Dn(e){return!!e&&e.$$typeof===pi}function yi(e){return Dn(e)?Ml.apply(null,arguments):e}function wi(e){return!!e.__k&&(ye(null,e),!0)}function bi(e){return e&&(e.base||e.nodeType===1&&e)||null}var Mi=function(e,t){return e(t)};const Rl={useState:Rn,useReducer:Nn,useEffect:Ko,useLayoutEffect:Tn,useRef:Zo,useImperativeHandle:Xo,useMemo:ze,useCallback:Qo,useContext:Go,useDebugValue:ti,version:"16.8.0",Children:ai,render:qn,hydrate:qn,unmountComponentAtNode:wi,createPortal:fi,createElement:Dt,createContext:Fo,createFactory:vi,cloneElement:yi,createRef:Bo,Fragment:ge,isValidElement:Dn,findDOMNode:bi,Component:Bt,PureComponent:ni,memo:ri,forwardRef:ii,unstable_batchedUpdates:Mi,Suspense:Fe,SuspenseList:le,lazy:hi},Nl=Object.freeze(Object.defineProperty({__proto__:null,default:Rl,version:Al,Children:ai,render:qn,hydrate:Cl,unmountComponentAtNode:wi,createPortal:fi,createFactory:vi,cloneElement:yi,isValidElement:Dn,findDOMNode:bi,PureComponent:ni,memo:ri,forwardRef:ii,unstable_batchedUpdates:Mi,Suspense:Fe,SuspenseList:le,lazy:hi,createElement:Dt,createContext:Fo,createRef:Bo,Fragment:ge,Component:Bt,useState:Rn,useReducer:Nn,useEffect:Ko,useLayoutEffect:Tn,useRef:Zo,useImperativeHandle:Xo,useMemo:ze,useCallback:Qo,useContext:Go,useDebugValue:ti,useErrorBoundary:El},Symbol.toStringTag,{value:"Module"})),Tl=Hi(Nl);function Ei(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Tt=cu,ki=Ei(ce),Ol=Ei(gl),q=Tl;function Ll(e){ki.toString(e,{type:"terminal"}).then(console.log)}var Bl=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Pl(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}var Ul="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",ql="WalletConnect",jl=300,Dl="rgb(64, 153, 255)",xi="walletconnect-wrapper",Si="walletconnect-style-sheet",Ii="walletconnect-qrcode-modal",Wl="walletconnect-qrcode-close",Ci="walletconnect-qrcode-text",zl="walletconnect-connect-button";function Fl(e){return q.createElement("div",{className:"walletconnect-modal__header"},q.createElement("img",{src:Ul,className:"walletconnect-modal__headerLogo"}),q.createElement("p",null,ql),q.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},q.createElement("div",{id:Wl,className:"walletconnect-modal__close__icon"},q.createElement("div",{className:"walletconnect-modal__close__line1"}),q.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Hl(e){return q.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:zl+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var $l="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Yl(e){var t=e.color,n=e.href,r=e.name,l=e.logo,s=e.onClick;return q.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:s,rel:"noopener noreferrer",target:"_blank"},q.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),q.createElement("div",{className:"walletconnect-modal__base__row__right"},q.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+l+"') "+t,backgroundSize:"100%"}}),q.createElement("img",{src:$l,className:"walletconnect-modal__base__row__right__caret"})))}function Jl(e){var t=e.color,n=e.href,r=e.name,l=e.logo,s=e.onClick,v=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return q.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:s,rel:"noopener noreferrer",target:"_blank"},q.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+l+"') "+t,backgroundSize:"100%"}}),q.createElement("div",{style:{fontSize:v},className:"walletconnect-connect__button__text"},r))}var Vl=5,Wn=12;function Kl(e){var t=Tt.isAndroid(),n=q.useState(""),r=n[0],l=n[1],s=q.useState(""),v=s[0],c=s[1],E=q.useState(1),I=E[0],M=E[1],T=v?e.links.filter(function(R){return R.name.toLowerCase().includes(v.toLowerCase())}):e.links,U=e.errorMessage,O=v||T.length>Vl,j=Math.ceil(T.length/Wn),B=[(I-1)*Wn+1,I*Wn],k=T.length?T.filter(function(R,D){return D+1>=B[0]&&D+1<=B[1]}):[],x=!t&&j>1,A=void 0;function C(R){l(R.target.value),clearTimeout(A),R.target.value?A=setTimeout(function(){c(R.target.value),M(1)},1e3):(l(""),c(""),M(1))}return q.createElement("div",null,q.createElement("p",{id:Ci,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&q.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:C}),q.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":O&&T.length?"__wrap":"")},t?q.createElement(Hl,{name:e.text.connect,color:Dl,href:e.uri,onClick:q.useCallback(function(){Tt.saveMobileLinkInfo({name:"Unknown",href:e.uri})},[])}):k.length?k.map(function(R){var D=R.color,z=R.name,K=R.shortName,$=R.logo,lt=Tt.formatIOSMobile(e.uri,R),o=q.useCallback(function(){Tt.saveMobileLinkInfo({name:z,href:lt})},[k]);return O?q.createElement(Jl,{color:D,href:lt,name:K||z,logo:$,onClick:o}):q.createElement(Yl,{color:D,href:lt,name:z,logo:$,onClick:o})}):q.createElement(q.Fragment,null,q.createElement("p",null,U.length?e.errorMessage:e.links.length&&!T.length?e.text.no_wallets_found:e.text.loading))),x&&q.createElement("div",{className:"walletconnect-modal__footer"},Array(j).fill(0).map(function(R,D){var z=D+1,K=I===z;return q.createElement("a",{style:{margin:"auto 10px",fontWeight:K?"bold":"normal"},onClick:function(){return M(z)}},z)})))}function Zl(e){var t=!!e.message.trim();return q.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var Xl=function(e){try{var t="";return Promise.resolve(ki.toString(e,{margin:0,type:"svg"})).then(function(n){return typeof n=="string"&&(t=n.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(n){return Promise.reject(n)}};function Ql(e){var t=q.useState(""),n=t[0],r=t[1],l=q.useState(""),s=l[0],v=l[1];q.useEffect(function(){try{return Promise.resolve(Xl(e.uri)).then(function(E){v(E)})}catch(E){Promise.reject(E)}},[]);var c=function(){var E=Ol(e.uri);E?(r(e.text.copied_to_clipboard),setInterval(function(){return r("")},1200)):(r("Error"),setInterval(function(){return r("")},1200))};return q.createElement("div",null,q.createElement("p",{id:Ci,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),q.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),q.createElement("div",{className:"walletconnect-modal__footer"},q.createElement("a",{onClick:c},e.text.copy_to_clipboard)),q.createElement(Zl,{message:n}))}function Gl(e){var t=Tt.isAndroid(),n=Tt.isMobile(),r=n?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,l=q.useState(!1),s=l[0],v=l[1],c=q.useState(!1),E=c[0],I=c[1],M=q.useState(!n),T=M[0],U=M[1],O={mobile:n,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},j=q.useState(""),B=j[0],k=j[1],x=q.useState(!1),A=x[0],C=x[1],R=q.useState([]),D=R[0],z=R[1],K=q.useState(""),$=K[0],lt=K[1],o=function(){E||s||r&&!r.length||D.length>0||q.useEffect(function(){var f=function(){try{if(t)return Promise.resolve();v(!0);var p=Pl(function(){var _=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:Tt.getWalletRegistryUrl();return Promise.resolve(fetch(_)).then(function(w){return Promise.resolve(w.json()).then(function(b){var m=b.listings,a=n?"mobile":"desktop",g=Tt.getMobileLinkRegistry(Tt.formatMobileRegistry(m,a),r);v(!1),I(!0),lt(g.length?"":e.text.no_supported_wallets),z(g);var F=g.length===1;F&&(k(Tt.formatIOSMobile(e.uri,g[0])),U(!0)),C(F)})})},function(_){v(!1),I(!0),lt(e.text.something_went_wrong),console.error(_)});return Promise.resolve(p&&p.then?p.then(function(){}):void 0)}catch(_){return Promise.reject(_)}};f()})};o();var h=n?T:!T;return q.createElement("div",{id:Ii,className:"walletconnect-qrcode__base animated fadeIn"},q.createElement("div",{className:"walletconnect-modal__base"},q.createElement(Fl,{onClose:e.onClose}),A&&T?q.createElement("div",{className:"walletconnect-modal__single_wallet"},q.createElement("a",{onClick:function(){return Tt.saveMobileLinkInfo({name:D[0].name,href:B})},href:B,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(A?D[0].name:"")+" \u203A")):t||s||!s&&D.length?q.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(h?" right__selected":"")},q.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?q.createElement(q.Fragment,null,q.createElement("a",{onClick:function(){return U(!1),o()}},e.text.mobile),q.createElement("a",{onClick:function(){return U(!0)}},e.text.qrcode)):q.createElement(q.Fragment,null,q.createElement("a",{onClick:function(){return U(!0)}},e.text.qrcode),q.createElement("a",{onClick:function(){return U(!1),o()}},e.text.desktop))):null,q.createElement("div",null,T||!t&&!s&&!D.length?q.createElement(Ql,Object.assign({},O)):q.createElement(Kl,Object.assign({},O,{links:D,errorMessage:$})))))}var th={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},eh={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},nh={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},rh={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},oh={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},ih={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},sh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},ah={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},Ai={de:th,en:eh,es:nh,fr:rh,ko:oh,pt:ih,zh:sh,fa:ah};function uh(){var e=Tt.getDocumentOrThrow(),t=e.getElementById(Si);t&&e.head.removeChild(t);var n=e.createElement("style");n.setAttribute("id",Si),n.innerText=Bl,e.head.appendChild(n)}function lh(){var e=Tt.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",xi),e.body.appendChild(t),t}function Ri(){var e=Tt.getDocumentOrThrow(),t=e.getElementById(Ii);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var n=e.getElementById(xi);n&&e.body.removeChild(n)},jl))}function hh(e){return function(){Ri(),e&&e()}}function ch(){var e=Tt.getNavigatorOrThrow().language.split("-")[0]||"en";return Ai[e]||Ai.en}function fh(e,t,n){uh();var r=lh();q.render(q.createElement(Gl,{text:ch(),uri:e,onClose:hh(t),qrcodeModalOptions:n}),r)}function dh(){Ri()}var Ni=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function ph(e,t,n){console.log(e),Ni()?Ll(e):fh(e,t,n)}function mh(){Ni()||dh()}var gh={open:ph,close:mh},_h=gh;class vh extends Ah{constructor(t){super(),this.events=new Wi,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=t,this.chainId=(t==null?void 0:t.chainId)||this.chainId,this.wc=this.register(t)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t){if(this.connected){this.onOpen();return}return new Promise((n,r)=>{this.on("error",l=>{r(l)}),this.on("open",()=>{n()}),this.create(t)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(t){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(t).then(n=>this.events.emit("payload",n)).catch(n=>this.events.emit("payload",zi(t.id,n.message)))}register(t){if(this.wc)return this.wc;this.opts=t||this.opts,this.bridge=t!=null&&t.connector?t.connector.bridge:(t==null?void 0:t.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(t==null?void 0:t.qrcode)>"u"||t.qrcode!==!1,this.chainId=typeof(t==null?void 0:t.chainId)<"u"?t.chainId:this.chainId,this.qrcodeModalOptions=t==null?void 0:t.qrcodeModalOptions;const n={bridge:this.bridge,qrcodeModal:this.qrcode?_h:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:t==null?void 0:t.storageId,signingMethods:t==null?void 0:t.signingMethods,clientMeta:t==null?void 0:t.clientMeta};if(this.wc=typeof(t==null?void 0:t.connector)<"u"?t.connector:new hu(n),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(t){this.pending=!1,t&&(this.wc=t),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(t,n="Failed or Rejected Request",r=-32e3,l){const s={id:t.id,jsonrpc:t.jsonrpc,error:{code:r,message:n}};return typeof l<"u"&&(s.error.data=l),this.events.emit("payload",s),s}create(t){this.wc=this.register(this.opts),this.chainId=t||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(n=>this.events.emit("error",n)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",t=>{var n,r;if(t){this.events.emit("error",t);return}this.accounts=((n=this.wc)===null||n===void 0?void 0:n.accounts)||[],this.chainId=((r=this.wc)===null||r===void 0?void 0:r.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",t=>{if(t){this.events.emit("error",t);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(t,n)=>{const{accounts:r,chainId:l}=n.params[0];(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.events.emit("accountsChanged",r)),(!this.chainId||l&&this.chainId!==l)&&(this.chainId=l,this.events.emit("chainChanged",l))})}async sendPayload(t){this.wc=this.register(this.opts);try{const n=await this.wc.unsafeSend(t);return this.sanitizeResponse(n)}catch(n){return this.onError(t,n.message)}}sanitizeResponse(t){return typeof t.error<"u"&&typeof t.error.code>"u"?zi(t.id,t.error.message,t.error.data):t}}$i=class{constructor(t){this.events=new Wi,this.rpc={infuraId:t==null?void 0:t.infuraId,custom:t==null?void 0:t.rpc},this.signer=new Fi(new vh(t));const n=this.signer.connection.chainId||(t==null?void 0:t.chainId)||1;this.http=this.setHttpProvider(n),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var t;return((t=this.http)===null||t===void 0?void 0:t.connection).url||""}async request(t){switch(t.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(Xe.includes(t.method))return this.signer.request(t);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${t.method}) without provided rpc url`);return this.http.request(t)}sendAsync(t,n){this.request(t).then(r=>n(null,r)).catch(r=>n(r,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",t=>{this.events.emit("accountsChanged",t)}),this.signer.connection.on("chainChanged",t=>{this.http=this.setHttpProvider(t),this.events.emit("chainChanged",t)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(t){const n=la(t,this.rpc);return typeof n>"u"?void 0:new Fi(new Rh(n))}}});export{Oh as __tla,$i as default};
