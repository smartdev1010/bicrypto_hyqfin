import{w as m,v as be,o as c,__tla as ge}from"./vue-qrcode.esm-9e0a6c12.js";import{_ as ye,o as n,c as d,a as e,n as k,h as g,j as o,F as ke,r as me,t as h,l as y}from"./_plugin-vue_export-helper-8676f0c8.js";import"./axios-c0bebe37.js";import"./_commonjsHelpers-87174ba5.js";import"./pinia-72e453fe.js";import"./browser-e552b3f6.js";import"./dijkstra-59d11638.js";let p,he=Promise.all([(()=>{try{return ge}catch{}})()]).then(async()=>{const f={data(){return{tokens:[],status:[],abilities:[],newabilities:[],edit:null,newAPI:!1,newApiTitle:null}},created(){this.fetch()},mounted(){},methods:{async fetch(){await axios.get("/user/fetch/api/tokens").then(s=>{this.tokens=s.tokens,this.tokens.forEach(a=>{this.status.push({id:a.id,token:!1,edit:!1})})})},async editApi(s,a){await axios.post("/user/api/tokens/edit",{token:s.id,abilities:this.abilities}).then(u=>{this.fetch(),this.$toast[u.type](u.message)}).catch(u=>{this.$toast.error(u.response.data.message)}).finally(()=>{this.status[a].edit=!1,this.abilities=[]})},async createApi(){await axios.post("/user/api/tokens/store",{name:this.newApiTitle,abilities:this.newabilities}).then(s=>{this.fetch(),this.$toast[s.type](s.message)}).catch(s=>{this.$toast.error(s.response.data.message)}).finally(()=>{this.newAPI=!1,this.newApiTitle=null,this.newabilities=[]})},async deleteApi(s){await axios.post("/user/api/tokens/delete",{id:s}).then(a=>{this.fetch(),this.$toast[a.type](a.message)}).catch(a=>{this.$toast.error(a.response.data.message)})},selectedToken(s,a){this.edit=this.edit==a?null:a,this.status[a].edit=!this.status[a].edit,this.abilities=s.abilities}}},x={class:"card"},w=e("div",{class:"card-title"},[e("div",{class:"title-gradient"},"API Management")],-1),v={key:0},A=e("i",{class:"bi bi-plus-lg"},null,-1),P=y("Create API"),T=[A,P],C={key:1},I=e("i",{class:"bi bi-x-lg"},null,-1),_=y("Close"),U=[I,_],V={class:"card-body"},$=e("ul",{class:"list-disc px-4 py-3"},[e("li",null,"Each account can create up to 30 API Keys."),e("li",null," Do not disclose your API Key to anyone to avoid asset losses. You should treat your API Key like your passwords. ")],-1),j=e("div",{class:"flex justify-between"},[e("div",{class:"text-medium mb-2 text-xl text-blue-500"}," Permissions "),e("div",null,[e("button",{type:"submit",class:"btn btn-outline-success btn-sm"}," Create ")])],-1),S={class:"my-5 max-w-sm"},E=e("label",{for:"newApiTitle"},"Token Title",-1),K={class:"grid gap-4 py-3 xs:grid-cols-2 md:grid-cols-4"},D={class:"flex items-center"},W=e("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Trading",-1),q={class:"flex items-center"},F=e("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Transfer",-1),M={class:"flex items-center"},Y=e("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Withdraw",-1),z={class:"space-y-5"},B={key:0},G=y("***************** "),H={class:"rounded border border-gray-300 p-1 dark:border-gray-600"},J=["onClick"],L={key:1},N={class:"ml-2 rounded border border-gray-300 p-1 dark:border-gray-600"},O=["onClick"],Q={class:"space-x-2"},R=["disabled","onClick"],X=["onClick"],Z=["onSubmit"],ee=e("div",{class:"flex justify-between"},[e("div",{class:"text-medium mb-2 text-xl text-blue-500"}," Permissions "),e("div",null,[e("button",{type:"submit",class:"btn btn-outline-success btn-sm"}," Save ")])],-1),te={class:"grid gap-4 py-3 xs:grid-cols-2 md:grid-cols-4"},ae={class:"flex items-center"},se=["checked"],ie=e("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Trading",-1),le={class:"flex items-center"},re=["checked"],ne=e("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Transfer",-1),de={class:"flex items-center"},oe=["checked"],ce=e("label",{for:"default-checkbox",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Withdraw",-1);function ue(s,a,u,pe,t,b){return n(),d("div",null,[e("div",x,[e("div",{class:k(["card-header",t.tokens.length<=10?"flex justify-between":""])},[w,e("div",null,[t.tokens.length<=10?(n(),d("button",{key:0,type:"submit",class:k(["btn",t.newAPI==!1?"btn-outline-primary":"btn-outline-danger"]),onClick:a[0]||(a[0]=i=>t.newAPI=!t.newAPI)},[t.newAPI==!1?(n(),d("span",v,T)):(n(),d("span",C,U))],2)):g("",!0)])],2),e("div",V,[$,t.newAPI==!0?(n(),d("div",{key:t.newAPI,class:"my-5 rounded border border-gray-300 p-5 dark:border-gray-600"},[e("form",{method:"post",onSubmit:a[5]||(a[5]=m(i=>b.createApi(),["prevent"]))},[j,e("div",S,[E,o(e("input",{"onUpdate:modelValue":a[1]||(a[1]=i=>t.newApiTitle=i),type:"text",class:"form-control",required:""},null,512),[[be,t.newApiTitle]])]),e("div",K,[e("div",D,[o(e("input",{id:"default-checkbox","onUpdate:modelValue":a[2]||(a[2]=i=>t.newabilities=i),type:"checkbox",value:"trading",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,512),[[c,t.newabilities]]),W]),e("div",q,[o(e("input",{id:"default-checkbox","onUpdate:modelValue":a[3]||(a[3]=i=>t.newabilities=i),type:"checkbox",value:"transfer",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,512),[[c,t.newabilities]]),F]),e("div",M,[o(e("input",{id:"default-checkbox","onUpdate:modelValue":a[4]||(a[4]=i=>t.newabilities=i),type:"checkbox",value:"withdraw",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,512),[[c,t.newabilities]]),Y])])],32)])):g("",!0),e("div",z,[t.tokens.length>0?(n(!0),d(ke,{key:0},me(t.tokens,(i,l)=>(n(),d("div",{key:l,class:"rounded border border-gray-300 dark:border-gray-600"},[e("div",{class:k(["flex items-center justify-between px-4 py-3",t.status[l].edit==!0?"border-b border-gray-300 dark:border-gray-600":""])},[e("div",null,h(i.name),1),(n(),d("div",{key:t.status[l].token},[t.status[l].token==!1?(n(),d("span",B,[G,e("a",H,[e("i",{class:"bi bi-eye px-1",style:{"margin-right":"0 !important"},onClick:r=>t.status[l].token=!t.status[l].token},null,8,J)])])):(n(),d("span",L,[y(h(i.token),1),e("a",N,[e("i",{class:"bi bi-eye-slash px-1 text-red-500",style:{"margin-right":"0 !important"},onClick:r=>t.status[l].token=!t.status[l].token},null,8,O)])]))])),e("div",Q,[e("button",{type:"button",class:"btn btn-outline-warning btn-sm",disabled:t.edit!==l&&t.edit!==null,onClick:r=>b.selectedToken(i,l)}," Edit ",8,R),e("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:r=>b.deleteApi(i.id)}," Delete ",8,X)])],2),t.status[l].edit==!0?(n(),d("div",{key:t.status[l].edit,class:"space-y-3 px-4 py-3"},[e("form",{method:"post",onSubmit:m(r=>b.editApi(i,l),["prevent"])},[ee,e("div",te,[e("div",ae,[o(e("input",{id:"default-checkbox","onUpdate:modelValue":a[6]||(a[6]=r=>t.abilities=r),type:"checkbox",checked:t.abilities.includes("trading"),value:"trading",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,8,se),[[c,t.abilities]]),ie]),e("div",le,[o(e("input",{id:"default-checkbox","onUpdate:modelValue":a[7]||(a[7]=r=>t.abilities=r),type:"checkbox",checked:t.abilities.includes("transfer"),value:"transfer",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,8,re),[[c,t.abilities]]),ne]),e("div",de,[o(e("input",{id:"default-checkbox","onUpdate:modelValue":a[8]||(a[8]=r=>t.abilities=r),type:"checkbox",checked:t.abilities.includes("withdraw"),value:"withdraw",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600",onClick:a[9]||(a[9]=r=>s.value=!s.value)},null,8,oe),[[c,t.abilities]]),ce])])],40,Z)])):g("",!0)]))),128)):g("",!0)])])])])}p=ye(f,[["render",ue]])});export{he as __tla,p as default};
