import{c as u,a as g,V as p,b as w,j as y,d as b,g as f,f as h,e as _,h as L,i as j,k as v,m as C,o as E,p as I,P as S,__tla as B}from"./index-49b55558.js";import"./_commonjsHelpers-87174ba5.js";import"./preload-helper-6f27e6cf.js";Promise.all([(()=>{try{return B}catch{}})()]).then(async()=>{const n=walletconnectid,t=[_,L,j,v,C,E,I],{provider:d}=u(t,[S({projectId:n})]),i=g({autoConnect:!0,connectors:[...p({appName:"web3Modal",chains:t})],provider:d,storage:w({storage:window.localStorage})}),c=new y(i,t);new b({projectId:n},c);let s=document.querySelector("button");const r=document.getElementById("connect-button");let a=document.getElementById("spinnerWeb3");r.addEventListener("click",async()=>{a.classList.remove("hidden"),s.disabled=!0;const o=f();if(o.isConnected==!0){const l=await axios.get("/_web3/signature").then(e=>e.data),m=await(await h()).signMessage(l);$.ajax({headers:{"X-CSRF-TOKEN":csrf},url:"/_web3/login",method:"POST",data:{address:o.address,signature:m},success:function(e){e.success==!0?(notify(e.type,e.message),window.location.href="/app"):notify(e.type,e.message),a.classList.add("hidden"),s.disabled=!1},error:function(e){console.log(e),a.classList.add("hidden"),s.disabled=!1}})}else notify("error","Connect your wallet firstly"),a.classList.add("hidden"),s.disabled=!1})});
