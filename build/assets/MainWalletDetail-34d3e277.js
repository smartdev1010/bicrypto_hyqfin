import{K as ba,__tla as ha}from"./flowbite-vue-d44f90c4.js";import{F as wa,C as ya}from"./Col-495fd683.js";import{a as ga,j as fa,v as $,w as xa,__tla as va}from"./vue-qrcode.esm-9e0a6c12.js";import{t as ka}from"./toMoney-899207f6.js";import{t as _a}from"./toDate-7f2bc02f.js";import{u as $a,__tla as Ma}from"./wallets-97f51468.js";import{_ as Ca,o as i,c as o,a as t,n as f,j as x,l as c,t as e,h as u,g as b,w as p,i as M,F as g,r as v,q as w,s as Sa}from"./_plugin-vue_export-helper-8676f0c8.js";import"./axios-c0bebe37.js";import"./_commonjsHelpers-87174ba5.js";import"./pinia-72e453fe.js";import"./browser-e552b3f6.js";import"./dijkstra-59d11638.js";let P,Pa=Promise.all([(()=>{try{return ha}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return Ma}catch{}})()]).then(async()=>{const T={components:{Modal:ba,Filter:wa,Col:ya,toMoney:ka,toDate:_a},props:["type","symbol","address"],setup(a){const n=ga();fa();const d=$a();return d.timer[a.address]=setInterval(()=>{d.fetchMainWalletLogs(a.symbol,a.address)},3e4),n.afterEach((k,s)=>{clearInterval(d.timer[s.params.address])}),{walletsStore:d}},data(){return{wal:[],addresses:[],gnl,loading:!1,api:1,pathname:"main",plat,network:null,withdraw_address:null,withdraw_amount:null,filters:{symbol:{value:"",keys:["symbol"]}},currentPage:1,totalPages:0,tab:{deposit:null,withdraw:null},isShowModal:{deposit:!1,withdraw:!1}}},created(){this.fetchData()},mounted(){},unmounted(){},methods:{fetchData(){axios.post("/user/fetch/eco/wallet/main/"+this.symbol+"/"+this.address).then(a=>{this.wal=a.wal,this.walletsStore.mianLogs=a.logs,this.addresses=a.addresses,this.walletsStore.fetch_main()})},Withdraw(a){this.withdraw_amount<=0?this.$toast.error("Invalid amount"):(this.loading=!0,axios.post("/user/eco/wallet/withdraw",{chain:a,symbol:this.symbol,withdraw_address:this.withdraw_address,memo:this.withdraw_memo,amount:this.withdraw_amount}).then(n=>{this.$toast[n.type](n.message)}).catch(n=>{this.$toast.error(n.response.data.message)}).finally(()=>{this.fetchData(),this.loading=!1,this.closeModal("withdraw")}))},closeModal(a){a=="deposit"?this.isShowModal.deposit=!1:a=="withdraw"&&(this.isShowModal.withdraw=!1)},showModal(a){a=="deposit"?this.isShowModal.deposit=!0:a=="withdraw"&&(this.isShowModal.withdraw=!0)}}},L={class:"card mb-5"},V={class:"card-body"},W={class:"avatar-content",height:"64",width:"64"},j={class:"if-sm font-medium"},D={key:0},U={key:0,class:"if-sm-col flex justify-start space-x-1 xs:space-y-3 sm:space-y-0"},z=t("i",{class:"bi bi-wallet2"},null,-1),F=t("i",{class:"bi bi-journal-arrow-down"},null,-1),I={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},A={class:"font-medium"},N={class:"card relative overflow-x-auto"},B={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},E={scope:"col",class:"py-3 px-6"},q={scope:"col",class:"py-3 px-6"},K={scope:"col",class:"py-3 px-6"},O={"data-label":"Type",class:"px-5 text-center"},R={class:"bg-dark w-8 rounded px-2 py-1 shadow"},H={key:0,title:"Deposit",class:"icon-bg text-success"},Y=t("i",{class:"bi bi-wallet2"},null,-1),G=[Y],J={key:1,title:"Withdraw",class:"icon-bg text-danger"},Q=t("i",{class:"bi bi-cash"},null,-1),X=[Q],Z={"data-label":"Info",class:"space-y-1 py-1"},tt={class:"text-warning"},at={key:0},et={key:0},st={class:"text-warning"},lt={key:0},rt={class:"text-warning"},nt={class:"text-warning"},it={"data-label":"Transaction"},ot=["href"],dt=["href"],ct=["href"],ut=["href"],mt=["href"],pt=["href"],bt={key:1,scope:"row",class:"whitespace-nowrap py-4 px-6 font-medium text-gray-900 dark:text-white"},ht={colspan:"100%",class:"py-4 px-6"},wt={class:"sr-only"},yt=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),gt={class:"sr-only"},ft=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),xt={class:"flex items-center text-lg"},vt={style:{margin:"-24px !important"}},kt={class:"bg-gray-200 dark:bg-gray-900"},_t={class:"-mb-px flex flex-wrap text-center text-sm font-medium",role:"tablist"},$t=["onClick"],Mt={class:"inline-block rounded-t-lg p-4",type:"button",role:"tab"},Ct={class:"p-4"},St={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-3"},Pt={class:"col-span-1"},Tt=t("div",null,[t("label",{class:"form-control-label h6"},"To")],-1),Lt={class:"space-y-3 xs:col-span-1 md:col-span-2"},Vt={class:"form-control-label h6",for:"recieving_address"},Wt=["value"],jt={class:"mt-1 flex justify-between border-b border-gray-200 dark:border-gray-600"},Dt={key:0,class:"flex justify-between border-b border-gray-200 dark:border-gray-600"},Ut={class:"text-warning"},zt={class:"mt-5"},Ft={class:"flex items-center text-lg"},It={style:{margin:"-24px !important"}},At={class:"bg-gray-200 dark:bg-gray-900"},Nt={class:"-mb-px flex flex-wrap text-center text-sm font-medium"},Bt=["onClick"],Et={class:"inline-block rounded-t-lg p-4",type:"button",role:"tab"},qt=["onSubmit"],Kt={class:"space-y-3 p-4"},Ot={class:"form-control-label h6",for:"wallet_balance"},Rt=["value"],Ht={for:"withdraw_address"},Yt={class:"my-1"},Gt={for:"amount"},Jt=["min","step","max"],Qt={class:"text-warning"},Xt={class:"text-warning"},Zt={key:0,class:"my-1"},ta={for:"memo"},aa=c(" > "),ea={for:"fees"},sa=["value"],la={class:"modal-footer mt-5"},ra={class:"flex justify-end"},na=["disabled"];function ia(a,n,d,k,s,y){const oa=w("Filter"),C=w("Col"),_=w("toMoney"),da=w("toDate"),ca=w("VTable"),ua=w("VTPagination"),ma=w("vue-qrcode"),S=w("Modal"),pa=Sa("lazy");return i(),o("div",null,[t("div",L,[t("div",V,[t("div",{class:f(["flex items-center",s.plat.trading.practice!=null&&s.plat.trading.practice!=1?"justify-between":" justify-start"])},[x(t("img",W,null,512),[[pa,d.symbol?"/assets/images/cryptoCurrency/"+d.symbol.toLowerCase()+".png":"/market/notification.png"]]),t("span",j,[c(e(d.symbol)+" ",1),s.api==1?(i(),o("span",D,e(d.type.toUpperCase()),1)):u("",!0),c(e(a.$t("Wallet")),1)]),s.plat.trading.practice!=null&&s.plat.trading.practice!=1?(i(),o("div",U,[t("button",{type:"button",class:"btn btn-success",onClick:n[0]||(n[0]=r=>y.showModal("deposit"))},[z,c(" "+e(a.$t("Deposit")),1)]),t("button",{type:"button",class:"btn btn-warning",onClick:n[1]||(n[1]=r=>y.showModal("withdraw"))},[F,c(" "+e(a.$t("Withdraw")),1)])])):u("",!0)],2)])]),t("div",null,[t("div",I,[t("div",A,e(a.$t("Wallet Transactions")),1),b(oa,null,{default:p(()=>[x(t("input",{"onUpdate:modelValue":n[2]||(n[2]=r=>s.filters.symbol.value=r),type:"text",class:"filter-input",placeholder:"Symbol"},null,512),[[$,s.filters.symbol.value]])]),_:1})]),t("div",N,[(i(),M(ca,{key:k.walletsStore.mianLogs.length,"current-page":s.currentPage,"onUpdate:current-page":n[3]||(n[3]=r=>s.currentPage=r),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:k.walletsStore.mianLogs,filters:s.filters,"page-size":5,"hide-sort-icons":!0,onTotalPagesChanged:n[4]||(n[4]=r=>s.totalPages=r)},{head:p(()=>[t("tr",B,[t("th",E,[b(C,{text:"Type"})]),t("th",q,[b(C,{text:"Info"})]),t("th",K,e(a.$t("Trx")),1)])]),body:p(({rows:r})=>[k.walletsStore.mianLogs.length>0?(i(!0),o(g,{key:0},v(r,l=>(i(),o("tr",{key:l.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[t("td",O,[t("div",R,[l.type==1?(i(),o("span",H,G)):l.type==2?(i(),o("span",J,X)):u("",!0)])]),t("td",Z,[t("div",null,[t("span",tt,e(a.$t("Amount"))+": ",1),t("span",null,[b(_,{num:l.amount,decimals:"4"},null,8,["num"]),d.symbol?(i(),o("span",at,e(d.symbol),1)):u("",!0)])]),l.type==2?(i(),o("div",et,[t("span",st,e(a.$t("Fee"))+": ",1),t("span",null,[b(_,{num:l.fee,decimals:"4"},null,8,["num"]),d.symbol?(i(),o("span",lt,e(d.symbol),1)):u("",!0)])])):u("",!0),t("div",null,[t("span",rt,e(a.$t("Reference ID"))+": ",1),c(" "+e(l.ref_id),1)]),t("div",null,[t("span",nt,e(a.$t("Date"))+": ",1),b(da,{time:l.created},null,8,["time"])])]),t("td",it,[l.chain=="ETH"?(i(),o("a",{key:0,href:"https://etherscan.io/tx/"+l.txid,class:"btn btn-outline-info btn-sm",target:"_blank"},e(a.$t("View")),9,ot)):l.chain=="BSC"?(i(),o("a",{key:1,href:"https://bscscan.com/tx/"+l.txid,class:"btn btn-outline-info btn-sm",target:"_blank"},e(a.$t("View")),9,dt)):l.chain=="TRON"?(i(),o("a",{key:2,href:"https://tronscan.org/#/transaction/"+l.txid,class:"btn btn-outline-info btn-sm",target:"_blank"},e(a.$t("View")),9,ct)):l.chain=="MATIC"?(i(),o("a",{key:3,href:"https://polygonscan.com/tx/"+l.txid,class:"btn btn-outline-info btn-sm",target:"_blank"},e(a.$t("View")),9,ut)):l.chain=="KLAY"?(i(),o("a",{key:4,href:"https://scope.klaytn.com/tx/"+l.txid,class:"btn btn-outline-info btn-sm",target:"_blank"},e(a.$t("View")),9,mt)):l.chain=="CELO"?(i(),o("a",{key:5,href:"https://celoscan.io/tx/"+l.txid,class:"btn btn-outline-info btn-sm",target:"_blank"},e(a.$t("View")),9,pt)):u("",!0)])]))),128)):(i(),o("tr",bt,[t("td",ht,e(a.$t("No transaction found!")),1)]))]),_:1},8,["current-page","data","filters"]))]),b(ua,{currentPage:s.currentPage,"onUpdate:currentPage":n[5]||(n[5]=r=>s.currentPage=r),class:"float-right flex items-center justify-between pt-4","aria-label":"Table navigation","total-pages":s.totalPages,"boundary-links":!0},{firstPage:p(()=>[c(e(a.$t("First")),1)]),lastPage:p(()=>[c(e(a.$t("Last")),1)]),next:p(()=>[t("span",wt,e(a.$t("Next")),1),yt]),previous:p(()=>[t("span",gt,e(a.$t("Previous")),1),ft]),_:1},8,["currentPage","total-pages"])]),s.isShowModal.deposit?(i(),M(S,{key:0,size:"2xl",onClose:n[6]||(n[6]=r=>y.closeModal("deposit"))},{header:p(()=>[t("div",xt,e(a.$t("Select Deposit Network")),1)]),body:p(()=>[t("div",vt,[t("div",kt,[t("ul",_t,[(i(!0),o(g,null,v(s.addresses,(r,l,m)=>(i(),o("li",{key:m,class:f(["mr-2",s.tab.deposit!=null?l==s.tab.deposit?"bg-white text-blue-600 dark:bg-gray-800 dark:text-blue-500":"":m==0?"bg-white text-blue-600 dark:bg-gray-800 dark:text-blue-500":""]),onClick:h=>s.tab.deposit=l},[t("button",Mt,e(l),1)],10,$t))),128))])]),t("div",null,[(i(!0),o(g,null,v(s.addresses,(r,l,m)=>(i(),o("div",{key:m,class:f(["dark:bg-gray-800",s.tab.deposit!=null?l==s.tab.deposit?"":"hidden":m==0?"":"hidden"])},[t("div",Ct,[t("div",St,[t("div",Pt,[Tt,b(ma,{options:{width:150},value:r.address?r.address:"non"},null,8,["value"])]),t("div",Lt,[t("div",null,[t("label",Vt,e(a.$t("Wallet Address")),1),t("input",{ref_for:!0,ref:"recieving_address",class:"form-control",type:"text",value:r.address?r.address:"",readonly:""},null,8,Wt)]),t("div",jt,[t("span",null,e(a.$t("Transfer Limit")),1),t("span",null,e(a.$t("Unlimited")),1)]),r.has_memo==1?(i(),o(g,{key:0},[r.memo!=""||r.memo!=null?(i(),o("div",Dt,[t("span",null,e(a.$t("Memo")),1),t("span",Ut,e(r.memo?r.memo:""),1)])):u("",!0)],64)):u("",!0)])]),t("div",zt,[c(e(a.$t("This is a"))+" ",1),t("span",{ref_for:!0,ref:l,class:"text-info"},e(l),513),c(" "+e(a.$t("Chain address. Do not send any other Chain to this address or your funds may be lost."))+". ",1)])])],2))),128))])])]),_:1})):u("",!0),s.isShowModal.withdraw?(i(),M(S,{key:1,size:"2xl",onClose:n[11]||(n[11]=r=>y.closeModal("withdraw"))},{header:p(()=>[t("div",Ft,e(a.$t("Select Withdraw Network")),1)]),body:p(()=>[t("div",It,[t("div",At,[t("ul",Nt,[(i(!0),o(g,null,v(s.addresses,(r,l,m)=>(i(),o("li",{key:m,class:f(["mr-2",s.tab.withdraw!=null?l==s.tab.withdraw?"bg-white text-blue-600 dark:bg-gray-800 dark:text-blue-500":"":m==0?"bg-white text-blue-600 dark:bg-gray-800 dark:text-blue-500":""]),onClick:h=>s.tab.withdraw=l},[t("button",Et,e(l),1)],10,Bt))),128))])]),t("div",null,[(i(!0),o(g,null,v(s.addresses,(r,l,m)=>(i(),o("div",{key:m,class:f(["dark:bg-gray-800",s.tab.withdraw!=null?l==s.tab.withdraw?"":"hidden":m==0?"":"hidden"])},[t("form",{onSubmit:xa(h=>y.Withdraw(l),["prevent"])},[t("div",Kt,[t("div",null,[t("label",Ot,e(a.$t("Wallet Balance")),1),t("input",{class:"form-control",type:"text",value:r.balance+" "+d.symbol,readonly:""},null,8,Rt)]),t("div",null,[t("label",Ht,e(a.$t("Wallet Address")),1),x(t("input",{"onUpdate:modelValue":n[7]||(n[7]=h=>s.withdraw_address=h),type:"text",class:"form-control"},null,512),[[$,s.withdraw_address]])]),t("div",Yt,[t("div",null,[t("label",Gt,e(a.$t("Amount")),1),x(t("input",{"onUpdate:modelValue":n[8]||(n[8]=h=>s.withdraw_amount=h),type:"number",class:"form-control",min:r.withdraw_min,step:r.withdraw_min,max:r.withdraw_max},null,8,Jt),[[$,s.withdraw_amount]])]),t("small",null,[c(e(a.$t("Min"))+": ",1),t("span",Qt,[b(_,{num:r.withdraw_min,decimals:"2"},null,8,["num"])]),c(" / "+e(a.$t("Max"))+": ",1),t("span",Xt,[b(_,{num:r.withdraw_max,decimals:"2"},null,8,["num"])])])]),r.has_memo==1?(i(),o("div",Zt,[t("div",null,[t("label",ta,e(a.$t("Memo")),1),x(t("input",{"onUpdate:modelValue":n[9]||(n[9]=h=>a.withdraw_memo=h),type:"text",class:"form-control"},null,512),[[$,a.withdraw_memo]])]),aa])):u("",!0),t("div",null,[t("label",ea,e(a.$t("Fees")),1),t("input",{type:"text",class:"form-control",value:r.withdraw_fee+" "+d.symbol,disabled:""},null,8,sa)])]),t("div",la,[t("div",ra,[t("button",{type:"submit",class:"btn btn-outline-success mr-3",disabled:s.loading},e(a.$t("Withdraw")),9,na),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[10]||(n[10]=h=>y.closeModal("withdraw"))},e(a.$t("Close")),1)])])],40,qt)],2))),128))])])]),_:1})):u("",!0)])}P=Ca(T,[["render",ia]])});export{Pa as __tla,P as default};
