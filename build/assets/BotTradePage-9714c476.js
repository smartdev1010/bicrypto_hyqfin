import{_ as $}from"./preload-helper-6f27e6cf.js";import{K as Wt,Y as Et,X as Lt,C as Nt,__tla as Pt}from"./flowbite-vue-d44f90c4.js";import{M as zt,O as Rt,__tla as Ft}from"./Orderbook-dfa75b3e.js";import{M as Vt,__tla as qt}from"./ListItem-d13f255d.js";import{w as h,u as Gt,v as Jt,__tla as Ut}from"./vue-qrcode.esm-9e0a6c12.js";import{_ as A,o,c as l,a as e,n as m,t as s,F as v,r as k,b as Ht,l as p,f as M,i as b,g as S,h as w,w as y,j as B,q as u,s as Kt}from"./_plugin-vue_export-helper-8676f0c8.js";import{u as Xt,__tla as Yt}from"./market-6d56493b.js";import{u as Qt,__tla as Zt}from"./bot-b554c642.js";import"./axios-c0bebe37.js";import"./_commonjsHelpers-87174ba5.js";import"./pinia-72e453fe.js";import"./browser-e552b3f6.js";import"./dijkstra-59d11638.js";let T,te=Promise.all([(()=>{try{return Pt}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return qt}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Yt}catch{}})(),(()=>{try{return Zt}catch{}})()]).then(async()=>{const C={components:{},props:["runningBots"],data(){return{activeItem:"tab-contracts"}},computed:{},created(){},mounted(){},unmounted(){},methods:{isActive(t){return this.activeItem===t},setActive(t){this.activeItem=t},time_left(t){var a=new Date(Date.parse(t.start_date)),g=new Date,d=Math.abs(g-a)/1e3;return Math.round(d/t.duration*100)>100?100:Math.round(d/t.duration*100)}}},I={class:"Trades border border-gray-100 bg-white shadow dark:border-gray-700 dark:bg-gray-900"},O={class:"w-full bg-gray-200 dark:bg-gray-800"},D={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden text-center",role:"tablist"},j={class:"mr-2 bg-gray-900"},W={id:"tabbContent",class:"px-3 py-3"},E={style:{"overflow-y":"auto","max-height":"250px"},class:"space-y-3 pr-3"},L={class:"mb-2 flex justify-between text-xs font-medium"},N={class:"w-full rounded bg-gray-200 dark:bg-gray-700"},P={key:1,class:"text-center"},z=e("div",{class:"flex w-full justify-center",colspan:"100%"},[e("img",{height:"128",width:"128",src:"https://assets.staticimg.com/pro/2.0.4/images/empty.svg",alt:""})],-1);function R(t,a,g,d,r,n){return o(),l("div",I,[e("div",O,[e("ul",D,[e("li",j,[e("a",{id:"tab-contracts-tab",class:m(["inline-block py-2 pl-3 pr-4 text-xs font-medium",n.isActive("tab-contracts")?"border-gray-300 bg-white text-gray-700 dark:bg-gray-900 dark:text-gray-300":"cursor-pointer border-transparent bg-gray-200 text-gray-400 hover:border-gray-300 hover:bg-gray-300 hover:text-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-300"]),type:"button",role:"tab","aria-controls":"tab-contracts","aria-selected":"false",onClick:a[0]||(a[0]=h(c=>n.setActive("tab-contracts"),["prevent"]))},s(t.$t("Active Contracts")),3)])])]),e("div",W,[e("div",{id:"tab-contracts",class:m(["",n.isActive("tab-contracts")?"":"hidden"])},[e("div",E,[g.runningBots.length!=0?(o(!0),l(v,{key:0},k(g.runningBots,(c,f)=>(o(),l("div",{key:f,class:"rounded-lg border border-gray-300 bg-white p-3 shadow-lg dark:border-gray-600 dark:bg-gray-800"},[e("div",L,[e("span",null,s(c.bot_name),1),e("span",null,"("+s(Number(c.amount).toFixed(2))+" "+s(c.pair)+")",1)]),e("div",N,[e("div",{class:m(["rounded text-center text-xs font-medium leading-none text-blue-100",n.time_left(c)==100?"bg-green-600":"bg-red-600"]),style:Ht("width:"+n.time_left(c)+"%")},s(n.time_left(c)==100?"Completed":n.time_left(c)+"%"),7)])]))),128)):(o(),l("div",P,[z,p(" "+s(t.$t("No Data Found")),1)]))])],2)])])}const F=A(C,[["render",R]]),V={props:["user"],setup(){const t=Gt(),a=Xt(),g=Qt();if(a.exchange==null){const d={proxy:gnl.cors,options:{tradesLimit:10},newUpdates:!0,timeout:2e4};a.exchange=new ccxt.pro[provider](d)}return{userStore:t,marketStore:a,botStore:g}},components:{Marketinfo:zt,Tradingview:M(()=>$(()=>import("./Tradingview-6f81ad6a.js"),["assets/Tradingview-6f81ad6a.js","assets/_plugin-vue_export-helper-8676f0c8.js"])),EcoTradingview:M(()=>$(()=>import("./Tradingview-7305876a.js").then(async t=>(await t.__tla,t)),["assets/Tradingview-7305876a.js","assets/datafeed-a8c86d1b.js","assets/_commonjsHelpers-87174ba5.js","assets/market-6d56493b.js","assets/pinia-72e453fe.js","assets/_plugin-vue_export-helper-8676f0c8.js"])),Orderbook:Rt,Markets:Vt,Trades:F,Modal:Wt,ListGroup:Et,ListGroupItem:Lt,Button:Nt},data(){return{symbol:this.$route.params.symbol,currency:this.$route.params.currency,activeItem:"bot-settings",provider:null,provide:null,gnl,runningBots:[],loading:!1,amount:null,balance:null,active_bot:[],active_duration:null,min_amount:null,max_amount:null,ext,plat,activeItemm:plat.mobile.charting==1?"pills-chart":"pills-orderbook",ordercard:!1,orderbtn:!0}},created(){this.fetchData(),this.fetchWallet()},mounted(){},unmounted(){},methods:{isActive(t){return this.activeItem===t},setActive(t){this.activeItem=t},isActivee(t){return this.activeItemm===t},setActivee(t){this.activeItemm=t},getRandomInt(t,a){return t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t))+t},Order(){this.loading=!0;const t=this.active_bot.timing.find(a=>a.id===Number(this.$refs.active_duration.value));t?this.marketStore.bestAsk>0?axios.post("/user/store/bot",{amount:this.amount,botTime:t.duration,bot_id:this.active_bot.id,currency:this.currency,symbol:this.symbol,type:t.type,price:this.marketStore.bestAsk}).then(a=>{this.$toast[a.type](a.message),this.fetchData(),this.fetchWallet()}).catch(a=>{this.$toast.error(a.response.data)}).finally(()=>{this.loading=!1}):(this.$toast.error("Please wait for orderbook to load"),this.loading=!1):(this.$toast.error("Duration not found"),this.loading=!1)},setBot(t){this.active_bot=t,this.active_duration=null,this.active_bot.min_amount=JSON.parse(t.limits).min_bot_amount,this.active_bot.max_amount=JSON.parse(t.limits).max_bot_amount,this.botStore.closeModal()},fetchWallet(){axios.post("/user/fetch/wallet",{type:"funding",symbol:this.currency}).then(t=>{this.balance=t.balance})},createWallet(){this.loading=!0,axios.post("/user/wallet/j/create",{type:"funding",symbol:this.symbol}).then(t=>{this.fetchWallet(),this.$toast[t.type](t.message)}).catch(t=>{this.$toast.error(t.response.data)}).finally(()=>{this.loading=!1})},fetchData(){axios.post("/user/fetch/bot/info",{symbol:this.$route.params.symbol,currency:this.$route.params.currency}).then(t=>{this.provider=t.provider,this.bot_type=t.bot_type,this.runningBots=t.runningBots,this.provide=t.provide})}}},q={style:{"font-family":"BinancePlex, Arial, sans-serif !important"}},G={class:"containered",style:{margin:"-20px","margin-bottom":"3px"}},J={id:"creatable",class:"Chart border border-gray-700"},U={class:"w-full bg-gray-200 dark:bg-gray-800"},H={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden text-center",role:"tablist"},K={class:"mr-2 bg-gray-900"},X={id:"orderContent",class:"px-3 py-5"},Y={class:"grid grid-cols-2 gap-5"},Q=["disabled"],Z={selected:""},tt=["value"],et={class:""},at={for:"Amount",class:"form-label text-1 text-dark flex justify-between"},rt={class:"flex"},st=["disabled","min","max","step"],ot={class:"inline-flex flex-shrink-0 items-center rounded-r-md border border-gray-300 bg-gray-100 p-2 text-center text-xs text-gray-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"},it={for:"botTimed",class:"form-label text-1 text-dark flex justify-between"},lt=e("i",{class:"bi bi-battery-charging"},null,-1),nt={class:""},dt={for:"basic-url",class:"form-label text-1 text-light flex justify-between"},ct={class:"text-light"},bt={class:"flex"},ut={key:0,class:"input-group"},gt=["value"],mt={type:"submit",class:"btn btn-success w-full"},yt={class:"flex items-center text-lg"},pt=["onClick"],ht={class:"mr-3"},vt={class:"w-full"},ft={class:"flex justify-between"},xt={class:"fw-bold fs-4 text-white"},_t={key:0,class:"badge bg-success text-white"},kt={class:"text-white"},wt=e("i",{class:"bi bi-app-indicator"},null,-1),$t={class:"row"},At={class:"text-warning"},Mt={class:"text-success"},St={class:"flex justify-end"};function Bt(t,a,g,d,r,n){const c=u("Marketinfo"),f=u("Orderbook"),Tt=u("Markets"),Ct=u("Trades"),It=u("EcoTradingview"),Ot=u("Tradingview"),x=u("Button"),Dt=u("Modal"),jt=Kt("lazy");return o(),l("div",q,[e("div",G,[(o(),b(c,{key:t.$route.params.symbol+t.$route.params.currency+"Marketinfo"})),(o(),b(f,{key:t.$route.params.symbol+t.$route.params.currency+"Orderbook"})),S(Tt,{style:{"overflow-y":"auto","overflow-x":"hidden"},type:"bot",subtype:"non"}),(o(),b(Ct,{key:t.$route.params.symbol+t.$route.params.currency+r.runningBots.length,"running-bots":r.runningBots},null,8,["running-bots"])),e("div",J,[r.ext.eco==1&&r.provider!="coinbasepro"?(o(),b(It,{key:t.$route.params.symbol+t.$route.params.currency+"EcoTradingview"})):(o(),l(v,{key:1},[r.provide!=null?(o(),b(Ot,{key:t.$route.params.symbol+t.$route.params.currency+"Tradingview",provide:r.provide},null,8,["provide"])):w("",!0)],64))]),(o(),l("div",{key:t.$route.params.symbol+t.$route.params.currency+"order",class:"Order border border-gray-100 bg-white shadow dark:border-gray-700 dark:bg-gray-900"},[e("div",U,[e("ul",H,[e("li",K,[e("a",{id:"bot-settings-tab",class:m(["inline-block py-2 pl-3 pr-4 text-xs font-medium",n.isActive("bot-settings")?"border-gray-300 bg-white text-gray-700 dark:bg-gray-900 dark:text-gray-300":"cursor-pointer border-transparent bg-gray-200 text-gray-400 hover:border-gray-300 hover:bg-gray-300 hover:text-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-300"]),type:"button",role:"tab","aria-controls":"bot-settings","aria-selected":"false",onClick:a[0]||(a[0]=h(i=>n.setActive("bot-settings"),["prevent"]))},s(t.$t("Bot Settings")),3)])])]),e("div",X,[e("div",{id:"bot-settings",class:m(n.isActive("bot-settings")?"":"hidden")},[e("form",{id:"Order",onSubmit:a[4]||(a[4]=h(i=>n.Order(),["prevent"]))},[e("div",Y,[S(x,{type:"button",size:"sm",class:"w-full",onClick:a[1]||(a[1]=i=>d.botStore.showModal())},{default:y(()=>[p(s(r.active_bot.length!=0?r.active_bot.title:t.$t("Select Bot")),1)]),_:1}),(o(),l("select",{id:"durations",key:r.active_bot.length,ref:"active_duration",disabled:r.active_bot.length==0,class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"},[e("option",Z,s(t.$t("Select Duration")),1),(o(!0),l(v,null,k(r.active_bot.timing,(i,_)=>(o(),l("option",{key:_,value:i.id},s(i.duration)+" "+s(i.type)+"s ",9,tt))),128))],8,Q)),e("div",et,[e("label",at,[e("span",null,s(t.$t("Amount")),1)]),e("div",rt,[B((o(),l("input",{key:r.active_bot.length,"onUpdate:modelValue":a[2]||(a[2]=i=>r.amount=i),disabled:r.active_bot.length==0,class:m([{"opacity-50":r.active_bot.length==0},"block w-full rounded-l-md border border-gray-300 bg-gray-50 p-2 text-xs text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"]),type:"number",min:r.active_bot?r.active_bot.min_amount:1e-5,max:r.active_bot?r.active_bot.max_amount:1e5,step:r.active_bot?r.active_bot.min_amount:1e-5,required:"",placeholder:"Amount","aria-label":"Amount (to the nearest dollar)"},null,10,st)),[[Jt,r.amount]]),e("span",ot,s(r.currency),1)])]),(o(),l("div",{key:d.marketStore.bestAsk},[e("label",it,[e("span",null,s(t.$t("Launch")),1)]),d.marketStore.bestAsk==null?(o(),b(x,{key:0,size:"sm",class:"w-full",color:"alternative",disabled:""},{default:y(()=>[p(s(t.$t("Loading Orderbook"))+"... ",1)]),_:1})):(o(),b(x,{key:1,size:"sm",class:"flex w-full items-center justify-between",color:"green",loading:r.loading,disabled:r.loading},{prefix:y(()=>[lt]),default:y(()=>[e("span",null,s(t.$t("Start Bot")),1)]),_:1},8,["loading","disabled"]))])),e("div",nt,[e("label",dt,[e("a",ct,s(t.$t("Wallet")),1)]),e("div",bt,[r.balance!==null?(o(),l("div",ut,[(o(),l("input",{key:r.balance,type:"number",value:r.balance,readonly:"","aria-label":"Amount (to the nearest dollar)"},null,8,gt)),e("span",null,s(r.currency),1)])):(o(),l("form",{key:1,onSubmit:a[3]||(a[3]=h(i=>n.createWallet(),["prevent"]))},[e("button",mt,s(t.$t("Create Wallet")),1)],32))])])])],32)],2)])]))]),d.botStore.isShowModal?(o(),b(Dt,{key:0,size:"3xl",onClose:a[6]||(a[6]=i=>d.botStore.closeModal())},{header:y(()=>[e("div",yt,s(t.$t("Top Ranking Bots")),1)]),body:y(()=>[(o(!0),l(v,null,k(t.bot_type,(i,_)=>(o(),l("div",{key:_,class:m(["mb-3 flex w-full cursor-pointer items-center rounded-lg p-3 shadow-lg",i.id==r.active_bot.id?"bg-gray-300 dark:bg-gray-800":"bg-white hover:bg-gray-300 dark:bg-gray-600 hover:dark:bg-gray-700"]),onClick:ee=>n.setBot(i)},[e("div",ht,[B(e("img",null,null,512),[[jt,i.image?"/assets/images/bot/"+i.image:"/market/notification.png"]])]),e("div",vt,[e("div",ft,[e("div",xt,[p(s(i.title)+" ",1),i.is_new==1?(o(),l("span",_t,s(t.$t("New")),1)):w("",!0)]),e("div",kt,[wt,p(" "+s(i.uses),1)])]),e("div",$t,[e("small",At,s(i.desc),1),e("div",null,[p(s(t.$t("Highest APR Today"))+": ",1),e("span",Mt,s(i.perc)+"%",1)])])])],10,pt))),128))]),footer:y(()=>[e("div",St,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:a[5]||(a[5]=i=>d.botStore.closeModal())},s(t.$t("Close")),1)])]),_:1})):w("",!0)])}T=A(V,[["render",Bt]])});export{te as __tla,T as default};
