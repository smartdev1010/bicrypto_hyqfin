import{g as Fr,c as ee,a as yS}from"./_commonjsHelpers-87174ba5.js";import{e as wo,t as P}from"./tslib-4d46970e.js";import{t as So,u as Xe,v as Ic,w as Eo,__tla as bS}from"./index-49b55558.js";let xf,gS=Promise.all([(()=>{try{return bS}catch{}})()]).then(async()=>{function Mf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var xo={},Zn={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.walletLogo=void 0;const If=(e,t)=>{let n;switch(e){case"standard":return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Ur.walletLogo=If;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.ScopedLocalStorage=void 0;class Af{constructor(t){this.scope=t}setItem(t,n){localStorage.setItem(this.scopedKey(t),n)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(t)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(t){return`${this.scope}:${t}`}}Wr.ScopedLocalStorage=Af;var cn={},un={};Object.defineProperty(un,"__esModule",{value:!0});const jf=wo;function Ac(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout(()=>{throw r})}}function Rf(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}let Nf=class extends jf.EventEmitter{emit(e,...t){let n=e==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let o;if(t.length>0&&([o]=t),o instanceof Error)throw o;const s=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw s.context=o,s}const i=r[e];if(i===void 0)return!1;if(typeof i=="function")Ac(i,this,t);else{const o=i.length,s=Rf(i);for(let a=0;a<o;a+=1)Ac(s[a],this,t)}return!0}};un.default=Nf;var Vr={},kt={},jc=$n;$n.default=$n,$n.stable=Oc,$n.stableStringify=Oc;var Hr="[...]",Rc="[Circular]",Ht=[],zt=[];function Nc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function $n(e,t,n,r){typeof r>"u"&&(r=Nc()),ko(e,"",0,[],void 0,0,r);var i;try{zt.length===0?i=JSON.stringify(e,t,n):i=JSON.stringify(e,Tc(t),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ht.length!==0;){var o=Ht.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function ln(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:e}),Ht.push([r,n,t,i])):zt.push([t,n,e]):(r[n]=e,Ht.push([r,n,t]))}function ko(e,t,n,r,i,o,s){o+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<r.length;a++)if(r[a]===e){ln(Rc,e,t,i);return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){ln(Hr,e,t,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){ln(Hr,e,t,i);return}if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)ko(e[a],a,a,r,e,o,s);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var l=c[a];ko(e[l],l,a,r,e,o,s)}}r.pop()}}function Of(e,t){return e<t?-1:e>t?1:0}function Oc(e,t,n,r){typeof r>"u"&&(r=Nc());var i=Co(e,"",0,[],void 0,0,r)||e,o;try{zt.length===0?o=JSON.stringify(i,t,n):o=JSON.stringify(i,Tc(t),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ht.length!==0;){var s=Ht.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function Co(e,t,n,r,i,o,s){o+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<r.length;a++)if(r[a]===e){ln(Rc,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){ln(Hr,e,t,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){ln(Hr,e,t,i);return}if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Co(e[a],a,a,r,e,o,s);else{var c={},l=Object.keys(e).sort(Of);for(a=0;a<l.length;a++){var u=l[a];Co(e[u],u,a,r,e,o,s),c[u]=e[u]}if(typeof i<"u")Ht.push([i,t,e]),i[t]=c;else return c}r.pop()}}function Tc(e){return e=typeof e<"u"?e:function(t,n){return n},function(t,n){if(zt.length>0)for(var r=0;r<zt.length;r++){var i=zt[r];if(i[1]===t&&i[0]===n){n=i[2],zt.splice(r,1);break}}return e.call(this,t,n)}}Object.defineProperty(kt,"__esModule",{value:!0}),kt.EthereumProviderError=kt.EthereumRpcError=void 0;const Tf=jc;let Pc=class extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Tf.default(this.serialize(),Df,2)}};kt.EthereumRpcError=Pc;let Pf=class extends Pc{constructor(e,t,n){if(!Lf(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};kt.EthereumProviderError=Pf;function Lf(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Df(e,t){if(t!=="[Circular]")return t}var Mo={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.errorValues=Ct.errorCodes=void 0,Ct.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Ct.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Ct,n=kt,r=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:r,message:s(r)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(h,d=i){if(Number.isInteger(h)){const w=h.toString();if(m(t.errorValues,w))return t.errorValues[w].message;if(l(h))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return d}e.getMessageFromCode=s;function a(h){if(!Number.isInteger(h))return!1;const d=h.toString();return!!(t.errorValues[d]||l(h))}e.isValidCode=a;function c(h,{fallbackError:d=o,shouldIncludeStack:w=!1}={}){var I,L;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof n.EthereumRpcError)return h.serialize();const y={};if(h&&typeof h=="object"&&!Array.isArray(h)&&m(h,"code")&&a(h.code)){const E=h;y.code=E.code,E.message&&typeof E.message=="string"?(y.message=E.message,m(E,"data")&&(y.data=E.data)):(y.message=s(y.code),y.data={originalError:u(h)})}else{y.code=d.code;const E=(I=h)===null||I===void 0?void 0:I.message;y.message=E&&typeof E=="string"?E:d.message,y.data={originalError:u(h)}}const v=(L=h)===null||L===void 0?void 0:L.stack;return w&&h&&v&&typeof v=="string"&&(y.stack=v),y}e.serializeError=c;function l(h){return h>=-32099&&h<=-32e3}function u(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function m(h,d){return Object.prototype.hasOwnProperty.call(h,d)}}(Mo);var zr={};Object.defineProperty(zr,"__esModule",{value:!0}),zr.ethErrors=void 0;const Io=kt,Lc=Mo,Re=Ct;zr.ethErrors={rpc:{parse:e=>ze(Re.errorCodes.rpc.parse,e),invalidRequest:e=>ze(Re.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ze(Re.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ze(Re.errorCodes.rpc.methodNotFound,e),internal:e=>ze(Re.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ze(t,e)},invalidInput:e=>ze(Re.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ze(Re.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ze(Re.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ze(Re.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ze(Re.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ze(Re.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Qn(Re.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Qn(Re.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Qn(Re.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Qn(Re.errorCodes.provider.disconnected,e),chainDisconnected:e=>Qn(Re.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Io.EthereumProviderError(t,n,r)}}};function ze(e,t){const[n,r]=Dc(t);return new Io.EthereumRpcError(e,n||Lc.getMessageFromCode(e),r)}function Qn(e,t){const[n,r]=Dc(t);return new Io.EthereumProviderError(e,n||Lc.getMessageFromCode(e),r)}function Dc(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=kt;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=Mo;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=zr;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Ct;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Vr);var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.EVENTS=void 0,hn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var dn={};function fn(e){return typeof e=="function"}var Bc=!1,qe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}Bc=e},get useDeprecatedSynchronousErrorHandling(){return Bc}};function pn(e){setTimeout(function(){throw e},0)}var qr={closed:!0,next:function(e){},error:function(e){if(qe.useDeprecatedSynchronousErrorHandling)throw e;pn(e)},complete:function(){}},Le=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function Ao(e){return e!==null&&typeof e=="object"}var Bf=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),Jn=Bf,ge=function(){function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var c=r[a];c.remove(this)}if(fn(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(m){t=m instanceof Jn?Fc(m.errors):[m]}}if(Le(s))for(var a=-1,l=s.length;++a<l;){var u=s[a];if(Ao(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof Jn?t=t.concat(Fc(h.errors)):t.push(h)}}if(t)throw new Jn(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var o=this._subscriptions;return o===null?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(t){var n=this._subscriptions;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function Fc(e){return e.reduce(function(t,n){return t.concat(n instanceof Jn?n.errors:n)},[])}var Gr=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Z=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=qr;break;case 1:if(!n){o.destination=qr;break}if(typeof n=="object"){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new Uc(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new Uc(o,n,r,i);break}return o}return t.prototype[Gr]=function(){return this},t.create=function(n,r,i){var o=new t(n,r,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},t}(ge),Uc=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this)||this;s._parentSubscriber=n;var a,c=s;return fn(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==qr&&(c=Object.create(r),fn(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return t.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!qe.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},t.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=qe.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):pn(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;pn(n)}}},t.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!qe.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),qe.useDeprecatedSynchronousErrorHandling)throw i;pn(i)}},t.prototype.__tryOrSetError=function(n,r,i){if(!qe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(o){return qe.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=o,n.syncErrorThrown=!0,!0):(pn(o),!0)}return!1},t.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},t}(Z);function jo(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;r&&r instanceof Z?e=r:e=null}return!0}function Ff(e,t,n){if(e){if(e instanceof Z)return e;if(e[Gr])return e[Gr]()}return!e&&!t&&!n?new Z(qr):new Z(e,t,n)}var yn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mt(e){return e}function Ro(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wc(e)}function Wc(e){return e.length===0?Mt:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var ne=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this.operator,o=Ff(t,n,r);if(i?o.add(i.call(o,this.source)):o.add(this.source||qe.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),qe.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){qe.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),jo(t)?t.error(n):console.warn(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Vc(n),new n(function(i,o){var s;s=r.subscribe(function(a){try{t(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},e.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},e.prototype[yn]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this:Wc(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Vc(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function Vc(e){if(e||(e=qe.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Uf=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),It=Uf,Hc=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this)||this;return i.subject=n,i.subscriber=r,i.closed=!1,i}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},t}(ge),zc=function(e){P.__extends(t,e);function t(n){var r=e.call(this,n)||this;return r.destination=n,r}return t}(Z),xe=function(e){P.__extends(t,e);function t(){var n=e.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype[Gr]=function(){return new zc(this)},t.prototype.lift=function(n){var r=new qc(this,this);return r.operator=n,r},t.prototype.next=function(n){if(this.closed)throw new It;if(!this.isStopped)for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].next(n)},t.prototype.error=function(n){if(this.closed)throw new It;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].error(n);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new It;this.isStopped=!0;for(var n=this.observers,r=n.length,i=n.slice(),o=0;o<r;o++)i[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(n){if(this.closed)throw new It;return e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){if(this.closed)throw new It;return this.hasError?(n.error(this.thrownError),ge.EMPTY):this.isStopped?(n.complete(),ge.EMPTY):(this.observers.push(n),new Hc(this,n))},t.prototype.asObservable=function(){var n=new ne;return n.source=this,n},t.create=function(n,r){return new qc(n,r)},t}(ne),qc=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},t.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},t.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},t.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):ge.EMPTY},t}(xe);function No(){return function(e){return e.lift(new Wf(e))}}var Wf=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,n){var r=this.connectable;r._refCount++;var i=new Vf(t,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o},e}(),Vf=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.connectable=r,i}return t.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var r=n._refCount;if(r<=0){this.connection=null;return}if(n._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,o=n._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(Z),Gc=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this)||this;return i.source=n,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new ge,n.add(this.source.subscribe(new zf(this.getSubject(),this))),n.closed&&(this._connection=null,n=ge.EMPTY)),n},t.prototype.refCount=function(){return No()(this)},t}(ne),Hf=function(){var e=Gc.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),zf=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.connectable=r,i}return t.prototype._error=function(n){this._unsubscribe(),e.prototype._error.call(this,n)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},t}(zc);function qf(e,t,n,r){return function(i){return i.lift(new Gf(e,t,n,r))}}var Gf=function(){function e(t,n,r,i){this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return e.prototype.call=function(t,n){return n.subscribe(new Zf(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),Zf=function(e){P.__extends(t,e);function t(n,r,i,o,s){var a=e.call(this,n)||this;return a.keySelector=r,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return t.prototype._next=function(n){var r;try{r=this.keySelector(n)}catch(i){this.error(i);return}this._group(n,r)},t.prototype._group=function(n,r){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(r),s;if(this.elementSelector)try{s=this.elementSelector(n)}catch(l){this.error(l)}else s=n;if(!o){o=this.subjectSelector?this.subjectSelector():new xe,i.set(r,o);var a=new Oo(r,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Oo(r,o))}catch(l){this.error(l);return}this.add(c.subscribe(new $f(r,o,this)))}}o.closed||o.next(s)},t.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(i,o){i.error(n)}),r.clear()),this.destination.error(n)},t.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,i){r.complete()}),n.clear()),this.destination.complete()},t.prototype.removeGroup=function(n){this.groups.delete(n)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&e.prototype.unsubscribe.call(this))},t}(Z),$f=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.key=n,o.group=r,o.parent=i,o}return t.prototype._next=function(n){this.complete()},t.prototype._unsubscribe=function(){var n=this,r=n.parent,i=n.key;this.key=this.parent=null,r&&r.removeGroup(i)},t}(Z),Oo=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this)||this;return o.key=n,o.groupSubject=r,o.refCountSubscription=i,o}return t.prototype._subscribe=function(n){var r=new ge,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&r.add(new Qf(o)),r.add(s.subscribe(n)),r},t}(ne),Qf=function(e){P.__extends(t,e);function t(n){var r=e.call(this)||this;return r.parent=n,n.count++,r}return t.prototype.unsubscribe=function(){var n=this.parent;!n.closed&&!this.closed&&(e.prototype.unsubscribe.call(this),n.count-=1,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},t}(ge),Zc=function(e){P.__extends(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new It;return this._value},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(xe),Jf=function(e){P.__extends(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(ge),Yn=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o=void 0;try{this.work(n)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}(Jf),Yf=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,i):n.flush(this)},t}(Yn),To=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),Kn=function(e){P.__extends(t,e);function t(n,r){r===void 0&&(r=To.now);var i=e.call(this,n,function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(To),Kf=function(e){P.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Kn),$c=new Kf(Yf),Qc=$c,bn=new ne(function(e){return e.complete()});function gn(e){return e?Xf(e):bn}function Xf(e){return new ne(function(t){return e.schedule(function(){return t.complete()})})}function Ue(e){return e&&typeof e.schedule=="function"}var Jc=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function Po(e,t){return new ne(function(n){var r=new ge,i=0;return r.add(t.schedule(function(){if(i===e.length){n.complete();return}n.next(e[i++]),n.closed||r.add(this.schedule())})),r})}function Xn(e,t){return t?Po(e,t):new ne(Jc(e))}function Zr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Ue(n)?(e.pop(),Po(e,n)):Xn(e)}function Lo(e,t){return t?new ne(function(n){return t.schedule(ep,0,{error:e,subscriber:n})}):new ne(function(n){return n.error(e)})}function ep(e){var t=e.error,n=e.subscriber;n.error(t)}var Do;Do||(Do={});var bt=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,n,r){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},e.prototype.accept=function(t,n,r){return t&&typeof t.next=="function"?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return Zr(this.value);case"E":return Lo(this.error);case"C":return gn()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t<"u"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function tp(e,t){return t===void 0&&(t=0),function(n){return n.lift(new np(e,t))}}var np=function(){function e(t,n){n===void 0&&(n=0),this.scheduler=t,this.delay=n}return e.prototype.call=function(t,n){return n.subscribe(new Yc(t,this.scheduler,this.delay))},e}(),Yc=function(e){P.__extends(t,e);function t(n,r,i){i===void 0&&(i=0);var o=e.call(this,n)||this;return o.scheduler=r,o.delay=i,o}return t.dispatch=function(n){var r=n.notification,i=n.destination;r.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(t.dispatch,this.delay,new rp(n,this.destination)))},t.prototype._next=function(n){this.scheduleMessage(bt.createNext(n))},t.prototype._error=function(n){this.scheduleMessage(bt.createError(n)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(bt.createComplete()),this.unsubscribe()},t}(Z),rp=function(){function e(t,n){this.notification=t,this.destination=n}return e}(),Bo=function(e){P.__extends(t,e);function t(n,r,i){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=n<1?1:n,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return t.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,n)},t.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new ip(this._getNow(),n)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new It;if(this.isStopped||this.hasError?a=ge.EMPTY:(this.observers.push(n),a=new Hc(this,n)),o&&n.add(n=new Yc(n,o)),r)for(var c=0;c<s&&!n.closed;c++)n.next(i[c]);else for(var c=0;c<s&&!n.closed;c++)n.next(i[c].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),a},t.prototype._getNow=function(){return(this.scheduler||Qc).now()},t.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(n-o[a].time<i);)a++;return s>r&&(a=Math.max(a,s-r)),a>0&&o.splice(0,a),o},t}(xe),ip=function(){function e(t,n){this.time=t,this.value=n}return e}(),mn=function(e){P.__extends(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return t.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),ge.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),ge.EMPTY):e.prototype._subscribe.call(this,n)},t.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},t.prototype.error=function(n){this.hasCompleted||e.prototype.error.call(this,n)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(xe),op=1,sp=function(){return Promise.resolve()}(),Fo={};function Kc(e){return e in Fo?(delete Fo[e],!0):!1}var Xc={setImmediate:function(e){var t=op++;return Fo[t]=!0,sp.then(function(){return Kc(t)&&e()}),t},clearImmediate:function(e){Kc(e)}},ap=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=Xc.setImmediate(n.flush.bind(n,null))))},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(Xc.clearImmediate(r),n.scheduled=void 0)},t}(Yn),cp=function(e){P.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,s=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++o<s&&(n=r.shift()));if(this.active=!1,i){for(;++o<s&&(n=r.shift());)n.unsubscribe();throw i}},t}(Kn),eu=new cp(ap),$r=eu,tu=new Kn(Yn),De=tu,up=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},t}(Yn),lp=function(e){P.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,s=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++o<s&&(n=r.shift()));if(this.active=!1,i){for(;++o<s&&(n=r.shift());)n.unsubscribe();throw i}},t}(Kn),nu=new lp(up),hp=nu,dp=function(e){P.__extends(t,e);function t(n,r){n===void 0&&(n=ru),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,o,s;(s=r[0])&&s.delay<=i&&(r.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=r.shift();)s.unsubscribe();throw o}},t.frameTimeFactor=10,t}(Kn),ru=function(e){P.__extends(t,e);function t(n,r,i){i===void 0&&(i=n.index+=1);var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.index=i,o.active=!0,o.index=n.index=i,o}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var o=n.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(n,r,i){},t.prototype._execute=function(n,r){if(this.active===!0)return e.prototype._execute.call(this,n,r)},t.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},t}(Yn);function ot(){}function fp(e){return!!e&&(e instanceof ne||typeof e.lift=="function"&&typeof e.subscribe=="function")}var pp=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),vn=pp,yp=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),er=yp,bp=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),iu=bp;function Ge(e,t){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new gp(e,t))}}var gp=function(){function e(t,n){this.project=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new mp(t,this.project,this.thisArg))},e}(),mp=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.project=r,o.count=0,o.thisArg=i||o,o}return t.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(Z);function ou(e,t,n){if(t)if(Ue(t))n=t;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return ou(e,n).apply(void 0,r).pipe(Ge(function(o){return Le(o)?t.apply(void 0,o):t(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:e,scheduler:n};return new ne(function(c){if(n){var l={args:r,subscriber:c,params:a};return n.schedule(vp,0,l)}else{if(!s){s=new mn;var u=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];s.next(m.length<=1?m[0]:m),s.complete()};try{e.apply(o,r.concat([u]))}catch(m){jo(s)?s.error(m):console.warn(m)}}return s.subscribe(c)}})}}function vp(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new mn;var l=function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m];var h=u.length<=1?u[0]:u;t.add(a.schedule(_p,0,{value:h,subject:c}))};try{o.apply(s,n.concat([l]))}catch(u){c.error(u)}}this.add(c.subscribe(r))}function _p(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function su(e,t,n){if(t)if(Ue(t))n=t;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return su(e,n).apply(void 0,r).pipe(Ge(function(o){return Le(o)?t.apply(void 0,o):t(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={subject:void 0,args:r,callbackFunc:e,scheduler:n,context:this};return new ne(function(s){var a=o.context,c=o.subject;if(n)return n.schedule(wp,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new mn;var l=function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m];var h=u.shift();if(h){c.error(h);return}c.next(u.length<=1?u[0]:u),c.complete()};try{e.apply(a,r.concat([l]))}catch(u){jo(c)?c.error(u):console.warn(u)}}return c.subscribe(s)})}}function wp(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,s=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new mn;var l=function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m];var h=u.shift();if(h)t.add(a.schedule(au,0,{err:h,subject:c}));else{var d=u.length<=1?u[0]:u;t.add(a.schedule(Sp,0,{value:d,subject:c}))}};try{o.apply(i,s.concat([l]))}catch(u){this.add(a.schedule(au,0,{err:u,subject:c}))}}this.add(c.subscribe(r))}function Sp(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function au(e){var t=e.err,n=e.subject;n.error(t)}var qt=function(e){P.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(n,r,i,o,s){this.destination.next(r)},t.prototype.notifyError=function(n,r){this.destination.error(n)},t.prototype.notifyComplete=function(n){this.destination.complete()},t}(Z),Ep=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this)||this;return o.parent=n,o.outerValue=r,o.outerIndex=i,o.index=0,o}return t.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},t.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Z),xp=function(e){return function(t){return e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,pn),t}};function kp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var At=kp(),Cp=function(e){return function(t){var n=e[At]();do{var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}while(!0);return typeof n.return=="function"&&t.add(function(){n.return&&n.return()}),t}},Mp=function(e){return function(t){var n=e[yn]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},cu=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function uu(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var tr=function(e){if(e&&typeof e[yn]=="function")return Mp(e);if(cu(e))return Jc(e);if(uu(e))return xp(e);if(e&&typeof e[At]=="function")return Cp(e);var t=Ao(e)?"an invalid object":"'"+e+"'",n="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function gt(e,t,n,r,i){if(i===void 0&&(i=new Ep(e,n,r)),!i.closed)return t instanceof ne?t.subscribe(i):tr(t)(i)}var lu={};function Ip(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return Ue(e[e.length-1])&&(r=e.pop()),typeof e[e.length-1]=="function"&&(n=e.pop()),e.length===1&&Le(e[0])&&(e=e[0]),Xn(e,r).lift(new Uo(n))}var Uo=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new Ap(t,this.resultSelector))},e}(),Ap=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return t.prototype._next=function(n){this.values.push(lu),this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var o=n[i];this.add(gt(this,o,void 0,i))}}},t.prototype.notifyComplete=function(n){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(n,r,i){var o=this.values,s=o[i],a=this.toRespond?s===lu?--this.toRespond:this.toRespond:0;o[i]=r,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(qt);function jp(e,t){return new ne(function(n){var r=new ge;return r.add(t.schedule(function(){var i=e[yn]();r.add(i.subscribe({next:function(o){r.add(t.schedule(function(){return n.next(o)}))},error:function(o){r.add(t.schedule(function(){return n.error(o)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}function Rp(e,t){return new ne(function(n){var r=new ge;return r.add(t.schedule(function(){return e.then(function(i){r.add(t.schedule(function(){n.next(i),r.add(t.schedule(function(){return n.complete()}))}))},function(i){r.add(t.schedule(function(){return n.error(i)}))})})),r})}function Np(e,t){if(!e)throw new Error("Iterable cannot be null");return new ne(function(n){var r=new ge,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(t.schedule(function(){i=e[At](),r.add(t.schedule(function(){if(!n.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){n.error(c);return}s?n.complete():(n.next(o),this.schedule())}}))})),r})}function Op(e){return e&&typeof e[yn]=="function"}function Tp(e){return e&&typeof e[At]=="function"}function hu(e,t){if(e!=null){if(Op(e))return jp(e,t);if(uu(e))return Rp(e,t);if(cu(e))return Po(e,t);if(Tp(e)||typeof e=="string")return Np(e,t)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function mt(e,t){return t?hu(e,t):e instanceof ne?e:new ne(tr(e))}var ve=function(e){P.__extends(t,e);function t(n){var r=e.call(this)||this;return r.parent=n,r}return t.prototype._next=function(n){this.parent.notifyNext(n)},t.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Z),_e=function(e){P.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Z);function we(e,t){if(!t.closed){if(e instanceof ne)return e.subscribe(t);var n;try{n=tr(e)(t)}catch(r){t.error(r)}return n}}function Gt(e,t,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof t=="function"?function(r){return r.pipe(Gt(function(i,o){return mt(e(i,o)).pipe(Ge(function(s,a){return t(i,s,o,a)}))},n))}:(typeof t=="number"&&(n=t),function(r){return r.lift(new Pp(e,n))})}var Pp=function(){function e(t,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return e.prototype.call=function(t,n){return n.subscribe(new Lp(t,this.project,this.concurrent))},e}(),Lp=function(e){P.__extends(t,e);function t(n,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=e.call(this,n)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return t.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},t.prototype._tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(r)},t.prototype._innerSub=function(n){var r=new ve(this),i=this.destination;i.add(r);var o=we(n,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(_e),Dp=Gt;function Wo(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),Gt(Mt,e)}function du(){return Wo(1)}function nr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return du()(Zr.apply(void 0,e))}function Vo(e){return new ne(function(t){var n;try{n=e()}catch(i){t.error(i);return}var r=n?mt(n):gn();return r.subscribe(t)})}function Bp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){var n=e[0];if(Le(n))return Qr(n,null);if(Ao(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Qr(r.map(function(o){return n[o]}),r)}}if(typeof e[e.length-1]=="function"){var i=e.pop();return e=e.length===1&&Le(e[0])?e[0]:e,Qr(e,null).pipe(Ge(function(o){return i.apply(void 0,o)}))}return Qr(e,null)}function Qr(e,t){return new ne(function(n){var r=e.length;if(r===0){n.complete();return}for(var i=new Array(r),o=0,s=0,a=function(l){var u=mt(e[l]),m=!1;n.add(u.subscribe({next:function(h){m||(m=!0,s++),i[l]=h},error:function(h){return n.error(h)},complete:function(){o++,(o===r||!m)&&(s===r&&n.next(t?t.reduce(function(h,d,w){return h[d]=i[w],h},{}):i),n.complete())}}))},c=0;c<r;c++)a(c)})}function fu(e,t,n,r){return fn(n)&&(r=n,n=void 0),r?fu(e,t,n).pipe(Ge(function(i){return Le(i)?r.apply(void 0,i):r(i)})):new ne(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}pu(e,t,o,i,n)})}function pu(e,t,n,r,i){var o;if(Wp(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(Up(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(Fp(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else if(e&&e.length)for(var l=0,u=e.length;l<u;l++)pu(e[l],t,n,r,i);else throw new TypeError("Invalid event target");r.add(o)}function Fp(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function Up(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function Wp(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function yu(e,t,n){return n?yu(e,t).pipe(Ge(function(r){return Le(r)?n.apply(void 0,r):n(r)})):new ne(function(r){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.next(s.length===1?s[0]:s)},o;try{o=e(i)}catch(s){r.error(s);return}if(fn(t))return function(){return t(i,o)}})}function Vp(e,t,n,r,i){var o,s;if(arguments.length==1){var a=e;s=a.initialState,t=a.condition,n=a.iterate,o=a.resultSelector||Mt,i=a.scheduler}else r===void 0||Ue(r)?(s=e,o=Mt,i=r):(s=e,o=r);return new ne(function(c){var l=s;if(i)return i.schedule(Hp,0,{subscriber:c,iterate:n,condition:t,resultSelector:o,state:l});do{if(t){var u=void 0;try{u=t(l)}catch(h){c.error(h);return}if(!u){c.complete();break}}var m=void 0;try{m=o(l)}catch(h){c.error(h);return}if(c.next(m),c.closed)break;try{l=n(l)}catch(h){c.error(h);return}}while(!0)})}function Hp(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){t.error(o);return}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){t.error(o);return}if(!r){t.complete();return}if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){t.error(o);return}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function zp(e,t,n){return t===void 0&&(t=bn),n===void 0&&(n=bn),Vo(function(){return e()?t:n})}function _n(e){return!Le(e)&&e-parseFloat(e)+1>=0}function qp(e,t){return e===void 0&&(e=0),t===void 0&&(t=De),(!_n(e)||e<0)&&(e=0),(!t||typeof t.schedule!="function")&&(t=De),new ne(function(n){return n.add(t.schedule(Gp,e,{subscriber:n,counter:0,period:e})),n})}function Gp(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function bu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,i=e[e.length-1];return Ue(i)?(r=e.pop(),e.length>1&&typeof e[e.length-1]=="number"&&(n=e.pop())):typeof i=="number"&&(n=e.pop()),r===null&&e.length===1&&e[0]instanceof ne?e[0]:Wo(n)(Xn(e,r))}var gu=new ne(ot);function Zp(){return gu}function Ho(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)return bn;var n=e[0],r=e.slice(1);return e.length===1&&Le(n)?Ho.apply(void 0,n):new ne(function(i){var o=function(){return i.add(Ho.apply(void 0,r).subscribe(i))};return mt(n).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function $p(e,t){return t?new ne(function(n){var r=Object.keys(e),i=new ge;return i.add(t.schedule(Qp,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}):new ne(function(n){for(var r=Object.keys(e),i=0;i<r.length&&!n.closed;i++){var o=r[i];e.hasOwnProperty(o)&&n.next([o,e[o]])}n.complete()})}function Qp(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function mu(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function jt(e,t){return function(n){return n.lift(new Jp(e,t))}}var Jp=function(){function e(t,n){this.predicate=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new Yp(t,this.predicate,this.thisArg))},e}(),Yp=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.predicate=r,o.thisArg=i,o.count=0,o}return t.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(n)},t}(Z);function Kp(e,t,n){return[jt(t,n)(new ne(tr(e))),jt(mu(t,n))(new ne(tr(e)))]}function vu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)if(Le(e[0]))e=e[0];else return e[0];return Xn(e,void 0).lift(new Xp)}var Xp=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new e0(t))},e}(),e0=function(e){P.__extends(t,e);function t(n){var r=e.call(this,n)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return t.prototype._next=function(n){this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var o=n[i],s=gt(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},t.prototype.notifyNext=function(n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(r)},t}(qt);function t0(e,t,n){return e===void 0&&(e=0),new ne(function(r){t===void 0&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(n0,0,{index:i,count:t,start:e,subscriber:r});do{if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}while(!0)})}function n0(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;if(n>=r){i.complete();return}i.next(t),!i.closed&&(e.index=n+1,e.start=t+1,this.schedule(e))}function _u(e,t,n){e===void 0&&(e=0);var r=-1;return _n(t)?r=Number(t)<1&&1||Number(t):Ue(t)&&(n=t),Ue(n)||(n=De),new ne(function(i){var o=_n(e)?e:+e-n.now();return n.schedule(r0,o,{index:0,period:r,subscriber:i})})}function r0(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(n===-1)return r.complete();e.index=t+1,this.schedule(e,n)}}function i0(e,t){return new ne(function(n){var r;try{r=e()}catch(a){n.error(a);return}var i;try{i=t(r)}catch(a){n.error(a);return}var o=i?mt(i):bn,s=o.subscribe(n);return function(){s.unsubscribe(),r&&r.unsubscribe()}})}function wu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return typeof n=="function"&&e.pop(),Xn(e,void 0).lift(new Su(n))}var Su=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new o0(t,this.resultSelector))},e}(),o0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.resultSelector=r,o.iterators=[],o.active=0,o.resultSelector=typeof r=="function"?r:void 0,o}return t.prototype._next=function(n){var r=this.iterators;Le(n)?r.push(new a0(n)):typeof n[At]=="function"?r.push(new s0(n[At]())):r.push(new c0(this.destination,this,n))},t.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var o=n[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,i=this.destination,o=0;o<r;o++){var s=n[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<r;o++){var s=n[o],l=s.next();if(s.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},t.prototype._tryresultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(Z),s0=function(){function e(t){this.iterator=t,this.nextResult=t.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},e.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},e}(),a0=function(){function e(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return e.prototype[At]=function(){return this},e.prototype.next=function(t){var n=this.index++,r=this.array;return n<this.length?{value:r[n],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),c0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return t.prototype[At]=function(){return this},t.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},t.prototype.subscribe=function(){return we(this.observable,new ve(this))},t}(_e);const u0=Object.freeze(Object.defineProperty({__proto__:null,Observable:ne,ConnectableObservable:Gc,GroupedObservable:Oo,observable:yn,Subject:xe,BehaviorSubject:Zc,ReplaySubject:Bo,AsyncSubject:mn,asap:$r,asapScheduler:eu,async:De,asyncScheduler:tu,queue:Qc,queueScheduler:$c,animationFrame:hp,animationFrameScheduler:nu,VirtualTimeScheduler:dp,VirtualAction:ru,Scheduler:To,Subscription:ge,Subscriber:Z,Notification:bt,get NotificationKind(){return Do},pipe:Ro,noop:ot,identity:Mt,isObservable:fp,ArgumentOutOfRangeError:vn,EmptyError:er,ObjectUnsubscribedError:It,UnsubscriptionError:Jn,TimeoutError:iu,bindCallback:ou,bindNodeCallback:su,combineLatest:Ip,concat:nr,defer:Vo,empty:gn,forkJoin:Bp,from:mt,fromEvent:fu,fromEventPattern:yu,generate:Vp,iif:zp,interval:qp,merge:bu,never:Zp,of:Zr,onErrorResumeNext:Ho,pairs:$p,partition:Kp,race:vu,range:t0,throwError:Lo,timer:_u,using:i0,zip:wu,scheduled:hu,EMPTY:bn,NEVER:gu,config:qe},Symbol.toStringTag,{value:"Module"})),wn=Fr(u0);function Eu(e){return function(t){return t.lift(new l0(e))}}var l0=function(){function e(t){this.durationSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new h0(t,this.durationSelector))},e}(),h0=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return t.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(n)}catch(s){return this.destination.error(s)}var o=we(r,new ve(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},t.prototype.clearThrottle=function(){var n=this,r=n.value,i=n.hasValue,o=n.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(_e);function d0(e,t){return t===void 0&&(t=De),Eu(function(){return _u(e,t)})}function f0(e){return function(t){return t.lift(new p0(e))}}var p0=function(){function e(t){this.closingNotifier=t}return e.prototype.call=function(t,n){return n.subscribe(new y0(t,this.closingNotifier))},e}(),y0=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.buffer=[],i.add(we(r,new ve(i))),i}return t.prototype._next=function(n){this.buffer.push(n)},t.prototype.notifyNext=function(){var n=this.buffer;this.buffer=[],this.destination.next(n)},t}(_e);function b0(e,t){return t===void 0&&(t=null),function(n){return n.lift(new g0(e,t))}}var g0=function(){function e(t,n){this.bufferSize=t,this.startBufferEvery=n,!n||t===n?this.subscriberClass=m0:this.subscriberClass=v0}return e.prototype.call=function(t,n){return n.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},e}(),m0=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.bufferSize=r,i.buffer=[],i}return t.prototype._next=function(n){var r=this.buffer;r.push(n),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},t.prototype._complete=function(){var n=this.buffer;n.length>0&&this.destination.next(n),e.prototype._complete.call(this)},t}(Z),v0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.bufferSize=r,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return t.prototype._next=function(n){var r=this,i=r.bufferSize,o=r.startBufferEvery,s=r.buffers,a=r.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var l=s[c];l.push(n),l.length===i&&(s.splice(c,1),this.destination.next(l))}},t.prototype._complete=function(){for(var n=this,r=n.buffers,i=n.destination;r.length>0;){var o=r.shift();o.length>0&&i.next(o)}e.prototype._complete.call(this)},t}(Z);function _0(e){var t=arguments.length,n=De;Ue(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(o){return o.lift(new w0(e,r,i,n))}}var w0=function(){function e(t,n,r,i){this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return e.prototype.call=function(t,n){return n.subscribe(new E0(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),S0=function(){function e(){this.buffer=[]}return e}(),E0=function(e){P.__extends(t,e);function t(n,r,i,o,s){var a=e.call(this,n)||this;a.bufferTimeSpan=r,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:r};a.add(c.closeAction=s.schedule(xu,r,l))}else{var u={subscriber:a,context:c},m={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(ku,r,u)),a.add(s.schedule(x0,i,m))}return a}return t.prototype._next=function(n){for(var r=this.contexts,i=r.length,o,s=0;s<i;s++){var a=r[s],c=a.buffer;c.push(n),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},t.prototype._error=function(n){this.contexts.length=0,e.prototype._error.call(this,n)},t.prototype._complete=function(){for(var n=this,r=n.contexts,i=n.destination;r.length>0;){var o=r.shift();i.next(o.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(n){this.closeContext(n);var r=n.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){n=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:n,bufferTimeSpan:i};this.add(n.closeAction=this.scheduler.schedule(xu,i,o))}},t.prototype.openContext=function(){var n=new S0;return this.contexts.push(n),n},t.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts,i=r?r.indexOf(n):-1;i>=0&&r.splice(r.indexOf(n),1)},t}(Z);function xu(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function x0(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(ku,n,{subscriber:r,context:o})),s.schedule(e,t))}function ku(e){var t=e.subscriber,n=e.context;t.closeContext(n)}function k0(e,t){return function(n){return n.lift(new C0(e,t))}}var C0=function(){function e(t,n){this.openings=t,this.closingSelector=n}return e.prototype.call=function(t,n){return n.subscribe(new M0(t,this.openings,this.closingSelector))},e}(),M0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.closingSelector=i,o.contexts=[],o.add(gt(o,r)),o}return t.prototype._next=function(n){for(var r=this.contexts,i=r.length,o=0;o<i;o++)r[o].buffer.push(n)},t.prototype._error=function(n){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,n)},t.prototype._complete=function(){for(var n=this.contexts;n.length>0;){var r=n.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(n,r){n?this.closeBuffer(n):this.openBuffer(r)},t.prototype.notifyComplete=function(n){this.closeBuffer(n.context)},t.prototype.openBuffer=function(n){try{var r=this.closingSelector,i=r.call(this,n);i&&this.trySubscribe(i)}catch(o){this._error(o)}},t.prototype.closeBuffer=function(n){var r=this.contexts;if(r&&n){var i=n.buffer,o=n.subscription;this.destination.next(i),r.splice(r.indexOf(n),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(n){var r=this.contexts,i=[],o=new ge,s={buffer:i,subscription:o};r.push(s);var a=gt(this,n,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},t}(qt);function I0(e){return function(t){return t.lift(new A0(e))}}var A0=function(){function e(t){this.closingSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new j0(t,this.closingSelector))},e}(),j0=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return t.prototype._next=function(n){this.buffer.push(n)},t.prototype._complete=function(){var n=this.buffer;n&&this.destination.next(n),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var n=this.closingSubscription;n&&(this.remove(n),n.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}n=new ge,this.closingSubscription=n,this.add(n),this.subscribing=!0,n.add(we(i,new ve(this))),this.subscribing=!1},t}(_e);function R0(e){return function(t){var n=new N0(e),r=t.lift(n);return n.caught=r}}var N0=function(){function e(t){this.selector=t}return e.prototype.call=function(t,n){return n.subscribe(new O0(t,this.selector,this.caught))},e}(),O0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.selector=r,o.caught=i,o}return t.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(s){e.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new ve(this);this.add(i);var o=we(r,i);o!==i&&this.add(o)}},t}(_e);function T0(e){return function(t){return t.lift(new Uo(e))}}function P0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return typeof e[e.length-1]=="function"&&(n=e.pop()),e.length===1&&Le(e[0])&&(e=e[0].slice()),function(r){return r.lift.call(mt([r].concat(e)),new Uo(n))}}function L0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return n.lift.call(nr.apply(void 0,[n].concat(e)))}}function Cu(e,t){return Gt(e,t,1)}function D0(e,t){return Cu(function(){return e},t)}function B0(e){return function(t){return t.lift(new F0(e,t))}}var F0=function(){function e(t,n){this.predicate=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new U0(t,this.predicate,this.source))},e}(),U0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.predicate=r,o.source=i,o.count=0,o.index=0,o}return t.prototype._next=function(n){this.predicate?this._tryPredicate(n):this.count++},t.prototype._tryPredicate=function(n){var r;try{r=this.predicate(n,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(Z);function W0(e){return function(t){return t.lift(new V0(e))}}var V0=function(){function e(t){this.durationSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new H0(t,this.durationSelector))},e}(),H0=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return t.prototype._next=function(n){try{var r=this.durationSelector.call(this,n);r&&this._tryNext(n,r)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(n,r){var i=this.durationSubscription;this.value=n,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=we(r,new ve(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var n=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,n)}},t}(_e);function z0(e,t){return t===void 0&&(t=De),function(n){return n.lift(new q0(e,t))}}var q0=function(){function e(t,n){this.dueTime=t,this.scheduler=n}return e.prototype.call=function(t,n){return n.subscribe(new G0(t,this.dueTime,this.scheduler))},e}(),G0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return t.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Z0,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},t.prototype.clearDebounce=function(){var n=this.debouncedSubscription;n!==null&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},t}(Z);function Z0(e){e.debouncedNext()}function rr(e){return e===void 0&&(e=null),function(t){return t.lift(new $0(e))}}var $0=function(){function e(t){this.defaultValue=t}return e.prototype.call=function(t,n){return n.subscribe(new Q0(t,this.defaultValue))},e}(),Q0=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.defaultValue=r,i.isEmpty=!0,i}return t.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Z);function Mu(e){return e instanceof Date&&!isNaN(+e)}function J0(e,t){t===void 0&&(t=De);var n=Mu(e),r=n?+e-t.now():Math.abs(e);return function(i){return i.lift(new Y0(r,t))}}var Y0=function(){function e(t,n){this.delay=t,this.scheduler=n}return e.prototype.call=function(t,n){return n.subscribe(new K0(t,this.delay,this.scheduler))},e}(),K0=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return t.dispatch=function(n){for(var r=n.source,i=r.queue,o=n.scheduler,s=n.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(n,a)}else this.unsubscribe(),r.active=!1},t.prototype._schedule=function(n){this.active=!0;var r=this.destination;r.add(n.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},t.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler,i=new X0(r.now()+this.delay,n);this.queue.push(i),this.active===!1&&this._schedule(r)}},t.prototype._next=function(n){this.scheduleNotification(bt.createNext(n))},t.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(bt.createComplete()),this.unsubscribe()},t}(Z),X0=function(){function e(t,n){this.time=t,this.notification=n}return e}();function ey(e,t){return t?function(n){return new ny(n,t).lift(new Iu(e))}:function(n){return n.lift(new Iu(e))}}var Iu=function(){function e(t){this.delayDurationSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new ty(t,this.delayDurationSelector))},e}(),ty=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return t.prototype.notifyNext=function(n,r,i,o,s){this.destination.next(n),this.removeSubscription(s),this.tryComplete()},t.prototype.notifyError=function(n,r){this._error(n)},t.prototype.notifyComplete=function(n){var r=this.removeSubscription(n);r&&this.destination.next(r),this.tryComplete()},t.prototype._next=function(n){var r=this.index++;try{var i=this.delayDurationSelector(n,r);i&&this.tryDelay(i,n)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(n){n.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(n);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),n.outerValue},t.prototype.tryDelay=function(n,r){var i=gt(this,n,r);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},t.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},t}(qt),ny=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this)||this;return i.source=n,i.subscriptionDelay=r,i}return t.prototype._subscribe=function(n){this.subscriptionDelay.subscribe(new ry(n,this.source))},t}(ne),ry=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this)||this;return i.parent=n,i.source=r,i.sourceSubscribed=!1,i}return t.prototype._next=function(n){this.subscribeToSource()},t.prototype._error=function(n){this.unsubscribe(),this.parent.error(n)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(Z);function iy(){return function(e){return e.lift(new oy)}}var oy=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new sy(t))},e}(),sy=function(e){P.__extends(t,e);function t(n){return e.call(this,n)||this}return t.prototype._next=function(n){n.observe(this.destination)},t}(Z);function ay(e,t){return function(n){return n.lift(new cy(e,t))}}var cy=function(){function e(t,n){this.keySelector=t,this.flushes=n}return e.prototype.call=function(t,n){return n.subscribe(new uy(t,this.keySelector,this.flushes))},e}(),uy=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.keySelector=r,o.values=new Set,i&&o.add(we(i,new ve(o))),o}return t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(n){this._error(n)},t.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},t.prototype._useKeySelector=function(n){var r,i=this.destination;try{r=this.keySelector(n)}catch(o){i.error(o);return}this._finalizeNext(r,n)},t.prototype._finalizeNext=function(n,r){var i=this.values;i.has(n)||(i.add(n),this.destination.next(r))},t}(_e);function Au(e,t){return function(n){return n.lift(new ly(e,t))}}var ly=function(){function e(t,n){this.compare=t,this.keySelector=n}return e.prototype.call=function(t,n){return n.subscribe(new hy(t,this.compare,this.keySelector))},e}(),hy=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.keySelector=i,o.hasKey=!1,typeof r=="function"&&(o.compare=r),o}return t.prototype.compare=function(n,r){return n===r},t.prototype._next=function(n){var r;try{var i=this.keySelector;r=i?i(n):n}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=r,this.destination.next(n))},t}(Z);function dy(e,t){return Au(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}function Jr(e){return e===void 0&&(e=yy),function(t){return t.lift(new fy(e))}}var fy=function(){function e(t){this.errorFactory=t}return e.prototype.call=function(t,n){return n.subscribe(new py(t,this.errorFactory))},e}(),py=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.errorFactory=r,i.hasValue=!1,i}return t.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},t}(Z);function yy(){return new er}function zo(e){return function(t){return e===0?gn():t.lift(new by(e))}}var by=function(){function e(t){if(this.total=t,this.total<0)throw new vn}return e.prototype.call=function(t,n){return n.subscribe(new gy(t,this.total))},e}(),gy=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.total=r,i.count=0,i}return t.prototype._next=function(n){var r=this.total,i=++this.count;i<=r&&(this.destination.next(n),i===r&&(this.destination.complete(),this.unsubscribe()))},t}(Z);function my(e,t){if(e<0)throw new vn;var n=arguments.length>=2;return function(r){return r.pipe(jt(function(i,o){return o===e}),zo(1),n?rr(t):Jr(function(){return new vn}))}}function vy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return nr(n,Zr.apply(void 0,e))}}function _y(e,t){return function(n){return n.lift(new wy(e,t,n))}}var wy=function(){function e(t,n,r){this.predicate=t,this.thisArg=n,this.source=r}return e.prototype.call=function(t,n){return n.subscribe(new Sy(t,this.predicate,this.thisArg,this.source))},e}(),Sy=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this,n)||this;return s.predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return t.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},t.prototype._next=function(n){var r=!1;try{r=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Z);function Ey(){return function(e){return e.lift(new xy)}}var xy=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new ky(t))},e}(),ky=function(e){P.__extends(t,e);function t(n){var r=e.call(this,n)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return t.prototype._next=function(n){this.hasSubscription||(this.hasSubscription=!0,this.add(we(n,new ve(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(_e);function ju(e,t){return t?function(n){return n.pipe(ju(function(r,i){return mt(e(r,i)).pipe(Ge(function(o,s){return t(r,o,i,s)}))}))}:function(n){return n.lift(new Cy(e))}}var Cy=function(){function e(t){this.project=t}return e.prototype.call=function(t,n){return n.subscribe(new My(t,this.project))},e}(),My=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return t.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},t.prototype.tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(r)},t.prototype._innerSub=function(n){var r=new ve(this),i=this.destination;i.add(r);var o=we(n,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(_e);function Iy(e,t,n){return t===void 0&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new Ay(e,t,n))}}var Ay=function(){function e(t,n,r){this.project=t,this.concurrent=n,this.scheduler=r}return e.prototype.call=function(t,n){return n.subscribe(new jy(t,this.project,this.concurrent,this.scheduler))},e}(),jy=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this,n)||this;return s.project=r,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return t.dispatch=function(n){var r=n.subscriber,i=n.result,o=n.value,s=n.index;r.subscribeToProjection(i,o,s)},t.prototype._next=function(n){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(n);try{var o=this.project,s=o(n,i);if(!this.scheduler)this.subscribeToProjection(s,n,i);else{var a={subscriber:this,result:s,value:n,index:i},c=this.destination;c.add(this.scheduler.schedule(t.dispatch,0,a))}}catch(l){r.error(l)}}else this.buffer.push(n)},t.prototype.subscribeToProjection=function(n,r,i){this.active++;var o=this.destination;o.add(we(n,new ve(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(n){this._next(n)},t.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n&&n.length>0&&this._next(n.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t}(_e);function Ry(e){return function(t){return t.lift(new Ny(e))}}var Ny=function(){function e(t){this.callback=t}return e.prototype.call=function(t,n){return n.subscribe(new Oy(t,this.callback))},e}(),Oy=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.add(new ge(r)),i}return t}(Z);function Ty(e,t){if(typeof e!="function")throw new TypeError("predicate is not a function");return function(n){return n.lift(new Ru(e,n,!1,t))}}var Ru=function(){function e(t,n,r,i){this.predicate=t,this.source=n,this.yieldIndex=r,this.thisArg=i}return e.prototype.call=function(t,n){return n.subscribe(new Py(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),Py=function(e){P.__extends(t,e);function t(n,r,i,o,s){var a=e.call(this,n)||this;return a.predicate=r,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return t.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete(),this.unsubscribe()},t.prototype._next=function(n){var r=this,i=r.predicate,o=r.thisArg,s=this.index++;try{var a=i.call(o||this,n,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:n)}catch(c){this.destination.error(c)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(Z);function Ly(e,t){return function(n){return n.lift(new Ru(e,n,!0,t))}}function Dy(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?jt(function(i,o){return e(i,o,r)}):Mt,zo(1),n?rr(t):Jr(function(){return new er}))}}function By(){return function(e){return e.lift(new Fy)}}var Fy=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new Uy(t))},e}(),Uy=function(e){P.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._next=function(n){},t}(Z);function Wy(){return function(e){return e.lift(new Vy)}}var Vy=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new Hy(t))},e}(),Hy=function(e){P.__extends(t,e);function t(n){return e.call(this,n)||this}return t.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete()},t.prototype._next=function(n){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Z);function Yr(e){return function(t){return e===0?gn():t.lift(new zy(e))}}var zy=function(){function e(t){if(this.total=t,this.total<0)throw new vn}return e.prototype.call=function(t,n){return n.subscribe(new qy(t,this.total))},e}(),qy=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.total=r,i.ring=new Array,i.count=0,i}return t.prototype._next=function(n){var r=this.ring,i=this.total,o=this.count++;if(r.length<i)r.push(n);else{var s=o%i;r[s]=n}},t.prototype._complete=function(){var n=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=r++%i;n.next(o[a])}n.complete()},t}(Z);function Gy(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?jt(function(i,o){return e(i,o,r)}):Mt,Yr(1),n?rr(t):Jr(function(){return new er}))}}function Zy(e){return function(t){return t.lift(new $y(e))}}var $y=function(){function e(t){this.value=t}return e.prototype.call=function(t,n){return n.subscribe(new Qy(t,this.value))},e}(),Qy=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.value=r,i}return t.prototype._next=function(n){this.destination.next(this.value)},t}(Z);function Jy(){return function(e){return e.lift(new Yy)}}var Yy=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new Ky(t))},e}(),Ky=function(e){P.__extends(t,e);function t(n){return e.call(this,n)||this}return t.prototype._next=function(n){this.destination.next(bt.createNext(n))},t.prototype._error=function(n){var r=this.destination;r.next(bt.createError(n)),r.complete()},t.prototype._complete=function(){var n=this.destination;n.next(bt.createComplete()),n.complete()},t}(Z);function Kr(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Xy(e,t,n))}}var Xy=function(){function e(t,n,r){r===void 0&&(r=!1),this.accumulator=t,this.seed=n,this.hasSeed=r}return e.prototype.call=function(t,n){return n.subscribe(new eb(t,this.accumulator,this.seed,this.hasSeed))},e}(),eb=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this,n)||this;return s.accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),t.prototype._next=function(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)},t.prototype._tryNext=function(n){var r=this.index++,i;try{i=this.accumulator(this.seed,n,r)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},t}(Z);function Xr(e,t){return arguments.length>=2?function(n){return Ro(Kr(e,t),Yr(1),rr(t))(n)}:function(n){return Ro(Kr(function(r,i,o){return e(r,i,o+1)}),Yr(1))(n)}}function tb(e){var t=typeof e=="function"?function(n,r){return e(n,r)>0?n:r}:function(n,r){return n>r?n:r};return Xr(t)}function nb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return n.lift.call(bu.apply(void 0,[n].concat(e)))}}function rb(e,t,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof t=="function"?Gt(function(){return e},t,n):(typeof t=="number"&&(n=t),Gt(function(){return e},n))}function ib(e,t,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new ob(e,t,n))}}var ob=function(){function e(t,n,r){this.accumulator=t,this.seed=n,this.concurrent=r}return e.prototype.call=function(t,n){return n.subscribe(new sb(t,this.accumulator,this.seed,this.concurrent))},e}(),sb=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this,n)||this;return s.accumulator=r,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return t.prototype._next=function(n){if(this.active<this.concurrent){var r=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,n,r)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(n)},t.prototype._innerSub=function(n){var r=new ve(this),i=this.destination;i.add(r);var o=we(n,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(n){var r=this.destination;this.acc=n,this.hasValue=!0,r.next(n)},t.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(_e);function ab(e){var t=typeof e=="function"?function(n,r){return e(n,r)<0?n:r}:function(n,r){return n<r?n:r};return Xr(t)}function Zt(e,t){return function(n){var r;if(typeof e=="function"?r=e:r=function(){return e},typeof t=="function")return n.lift(new cb(r,t));var i=Object.create(n,Hf);return i.source=n,i.subjectFactory=r,i}}var cb=function(){function e(t,n){this.subjectFactory=t,this.selector=n}return e.prototype.call=function(t,n){var r=this.selector,i=this.subjectFactory(),o=r(i).subscribe(t);return o.add(n.subscribe(i)),o},e}();function ub(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===1&&Le(e[0])&&(e=e[0]),function(n){return n.lift(new lb(e))}}var lb=function(){function e(t){this.nextSources=t}return e.prototype.call=function(t,n){return n.subscribe(new hb(t,this.nextSources))},e}(),hb=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.destination=n,i.nextSources=r,i}return t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(n){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var n=this.nextSources.shift();if(n){var r=new ve(this),i=this.destination;i.add(r);var o=we(n,r);o!==r&&i.add(o)}else this.destination.complete()},t}(_e);function db(){return function(e){return e.lift(new fb)}}var fb=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new pb(t))},e}(),pb=function(e){P.__extends(t,e);function t(n){var r=e.call(this,n)||this;return r.hasPrev=!1,r}return t.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},t}(Z);function yb(e,t){return function(n){return[jt(e,t)(n),jt(mu(e,t))(n)]}}function bb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return function(r){return Ge(gb(e,n))(r)}}function gb(e,t){var n=function(r){for(var i=r,o=0;o<t;o++){var s=i==null?void 0:i[e[o]];if(s!==void 0)i=s;else return}return i};return n}function mb(e){return e?Zt(function(){return new xe},e):Zt(new xe)}function vb(e){return function(t){return Zt(new Zc(e))(t)}}function _b(){return function(e){return Zt(new mn)(e)}}function wb(e,t,n,r){n&&typeof n!="function"&&(r=n);var i=typeof n=="function"?n:void 0,o=new Bo(e,t,r);return function(s){return Zt(function(){return o},i)(s)}}function Sb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.length===1&&Le(e[0])&&(e=e[0]),n.lift.call(vu.apply(void 0,[n].concat(e)))}}function Eb(e){return e===void 0&&(e=-1),function(t){return e===0?gn():e<0?t.lift(new Nu(-1,t)):t.lift(new Nu(e-1,t))}}var Nu=function(){function e(t,n){this.count=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new xb(t,this.count,this.source))},e}(),xb=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.count=r,o.source=i,o}return t.prototype.complete=function(){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(i===0)return e.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(Z);function kb(e){return function(t){return t.lift(new Cb(e))}}var Cb=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,n){return n.subscribe(new Mb(t,this.notifier,n))},e}(),Mb=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.notifier=r,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var n=this,r=n.notifications,i=n.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var n=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=n,this},t.prototype.subscribeToRetries=function(){this.notifications=new xe;var n;try{var r=this.notifier;n=r(this.notifications)}catch{return e.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=we(n,new ve(this))},t}(_e);function Ib(e){return e===void 0&&(e=-1),function(t){return t.lift(new Ab(e,t))}}var Ab=function(){function e(t,n){this.count=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new jb(t,this.count,this.source))},e}(),jb=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.count=r,o.source=i,o}return t.prototype.error=function(n){if(!this.isStopped){var r=this,i=r.source,o=r.count;if(o===0)return e.prototype.error.call(this,n);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},t}(Z);function Rb(e){return function(t){return t.lift(new Nb(e,t))}}var Nb=function(){function e(t,n){this.notifier=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new Ob(t,this.notifier,this.source))},e}(),Ob=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.notifier=r,o.source=i,o}return t.prototype.error=function(n){if(!this.isStopped){var r=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new xe;try{var s=this.notifier;i=s(r)}catch(a){return e.prototype.error.call(this,a)}o=we(i,new ve(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=o,r.next(n)}},t.prototype._unsubscribe=function(){var n=this,r=n.errors,i=n.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},t}(_e);function Tb(e){return function(t){return t.lift(new Pb(e))}}var Pb=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,n){var r=new Lb(t),i=n.subscribe(r);return i.add(we(this.notifier,new ve(r))),i},e}(),Lb=function(e){P.__extends(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hasValue=!1,n}return t.prototype._next=function(n){this.value=n,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(_e);function Db(e,t){return t===void 0&&(t=De),function(n){return n.lift(new Bb(e,t))}}var Bb=function(){function e(t,n){this.period=t,this.scheduler=n}return e.prototype.call=function(t,n){return n.subscribe(new Fb(t,this.period,this.scheduler))},e}(),Fb=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.period=r,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(Ub,r,{subscriber:o,period:r})),o}return t.prototype._next=function(n){this.lastValue=n,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(Z);function Ub(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Wb(e,t){return function(n){return n.lift(new Vb(e,t))}}var Vb=function(){function e(t,n){this.compareTo=t,this.comparator=n}return e.prototype.call=function(t,n){return n.subscribe(new Hb(t,this.compareTo,this.comparator))},e}(),Hb=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.compareTo=r,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(r.subscribe(new zb(n,o))),o}return t.prototype._next=function(n){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(n),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var n=this,r=n._a,i=n._b,o=n.comparator;r.length>0&&i.length>0;){var s=r.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},t.prototype.emit=function(n){var r=this.destination;r.next(n),r.complete()},t.prototype.nextB=function(n){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(n),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t}(Z),zb=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.parent=r,i}return t.prototype._next=function(n){this.parent.nextB(n)},t.prototype._error=function(n){this.parent.error(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(Z);function qb(){return new xe}function Gb(){return function(e){return No()(Zt(qb)(e))}}function Zb(e,t,n){var r;return e&&typeof e=="object"?r=e:r={bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(i){return i.lift($b(r))}}function $b(e){var t=e.bufferSize,n=t===void 0?Number.POSITIVE_INFINITY:t,r=e.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,o=e.refCount,s=e.scheduler,a,c=0,l,u=!1,m=!1;return function(h){c++;var d;!a||u?(u=!1,a=new Bo(n,i,s),d=a.subscribe(this),l=h.subscribe({next:function(w){a.next(w)},error:function(w){u=!0,a.error(w)},complete:function(){m=!0,l=void 0,a.complete()}}),m&&(l=void 0)):d=a.subscribe(this),this.add(function(){c--,d.unsubscribe(),d=void 0,l&&!m&&o&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function Qb(e){return function(t){return t.lift(new Jb(e,t))}}var Jb=function(){function e(t,n){this.predicate=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new Yb(t,this.predicate,this.source))},e}(),Yb=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.predicate=r,o.source=i,o.seenValue=!1,o.index=0,o}return t.prototype.applySingleValue=function(n){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=n)},t.prototype._next=function(n){var r=this.index++;this.predicate?this.tryNext(n,r):this.applySingleValue(n)},t.prototype.tryNext=function(n,r){try{this.predicate(n,r,this.source)&&this.applySingleValue(n)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){var n=this.destination;this.index>0?(n.next(this.seenValue?this.singleValue:void 0),n.complete()):n.error(new er)},t}(Z);function Kb(e){return function(t){return t.lift(new Xb(e))}}var Xb=function(){function e(t){this.total=t}return e.prototype.call=function(t,n){return n.subscribe(new eg(t,this.total))},e}(),eg=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.total=r,i.count=0,i}return t.prototype._next=function(n){++this.count>this.total&&this.destination.next(n)},t}(Z);function tg(e){return function(t){return t.lift(new ng(e))}}var ng=function(){function e(t){if(this._skipCount=t,this._skipCount<0)throw new vn}return e.prototype.call=function(t,n){return this._skipCount===0?n.subscribe(new Z(t)):n.subscribe(new rg(t,this._skipCount))},e}(),rg=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return t.prototype._next=function(n){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=n;else{var o=i%r,s=this._ring,a=s[o];s[o]=n,this.destination.next(a)}},t}(Z);function ig(e){return function(t){return t.lift(new og(e))}}var og=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,n){return n.subscribe(new sg(t,this.notifier))},e}(),sg=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;i.hasValue=!1;var o=new ve(i);i.add(o),i.innerSubscription=o;var s=we(r,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return t.prototype._next=function(n){this.hasValue&&e.prototype._next.call(this,n)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(_e);function ag(e){return function(t){return t.lift(new cg(e))}}var cg=function(){function e(t){this.predicate=t}return e.prototype.call=function(t,n){return n.subscribe(new ug(t,this.predicate))},e}(),ug=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return t.prototype._next=function(n){var r=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||r.next(n)},t.prototype.tryCallPredicate=function(n){try{var r=this.predicate(n,this.index++);this.skipping=Boolean(r)}catch(i){this.destination.error(i)}},t}(Z);function lg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Ue(n)?(e.pop(),function(r){return nr(e,r,n)}):function(r){return nr(e,r)}}var hg=function(e){P.__extends(t,e);function t(n,r,i){r===void 0&&(r=0),i===void 0&&(i=$r);var o=e.call(this)||this;return o.source=n,o.delayTime=r,o.scheduler=i,(!_n(r)||r<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=$r),o}return t.create=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=$r),new t(n,r,i)},t.dispatch=function(n){var r=n.source,i=n.subscriber;return this.add(r.subscribe(i))},t.prototype._subscribe=function(n){var r=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(t.dispatch,r,{source:i,subscriber:n})},t}(ne);function dg(e,t){return t===void 0&&(t=0),function(n){return n.lift(new fg(e,t))}}var fg=function(){function e(t,n){this.scheduler=t,this.delay=n}return e.prototype.call=function(t,n){return new hg(n,this.delay,this.scheduler).subscribe(t)},e}();function ir(e,t){return typeof t=="function"?function(n){return n.pipe(ir(function(r,i){return mt(e(r,i)).pipe(Ge(function(o,s){return t(r,o,i,s)}))}))}:function(n){return n.lift(new pg(e))}}var pg=function(){function e(t){this.project=t}return e.prototype.call=function(t,n){return n.subscribe(new yg(t,this.project))},e}(),yg=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.project=r,i.index=0,i}return t.prototype._next=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(o){this.destination.error(o);return}this._innerSub(r)},t.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new ve(this),o=this.destination;o.add(i),this.innerSubscription=we(n,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},t.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(n){this.destination.next(n)},t}(_e);function bg(){return ir(Mt)}function gg(e,t){return t?ir(function(){return e},t):ir(function(){return e})}function mg(e){return function(t){return t.lift(new vg(e))}}var vg=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,n){var r=new _g(t),i=we(this.notifier,new ve(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r},e}(),_g=function(e){P.__extends(t,e);function t(n){var r=e.call(this,n)||this;return r.seenValue=!1,r}return t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(_e);function wg(e,t){return t===void 0&&(t=!1),function(n){return n.lift(new Sg(e,t))}}var Sg=function(){function e(t,n){this.predicate=t,this.inclusive=n}return e.prototype.call=function(t,n){return n.subscribe(new Eg(t,this.predicate,this.inclusive))},e}(),Eg=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.predicate=r,o.inclusive=i,o.index=0,o}return t.prototype._next=function(n){var r=this.destination,i;try{i=this.predicate(n,this.index++)}catch(o){r.error(o);return}this.nextOrComplete(n,i)},t.prototype.nextOrComplete=function(n,r){var i=this.destination;Boolean(r)?i.next(n):(this.inclusive&&i.next(n),i.complete())},t}(Z);function xg(e,t,n){return function(r){return r.lift(new kg(e,t,n))}}var kg=function(){function e(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}return e.prototype.call=function(t,n){return n.subscribe(new Cg(t,this.nextOrObserver,this.error,this.complete))},e}(),Cg=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this,n)||this;return s._tapNext=ot,s._tapError=ot,s._tapComplete=ot,s._tapError=i||ot,s._tapComplete=o||ot,fn(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||ot,s._tapError=r.error||ot,s._tapComplete=r.complete||ot),s}return t.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},t.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},t}(Z),Ou={leading:!0,trailing:!1};function Mg(e,t){return t===void 0&&(t=Ou),function(n){return n.lift(new Ig(e,!!t.leading,!!t.trailing))}}var Ig=function(){function e(t,n,r){this.durationSelector=t,this.leading=n,this.trailing=r}return e.prototype.call=function(t,n){return n.subscribe(new Ag(t,this.durationSelector,this.leading,this.trailing))},e}(),Ag=function(e){P.__extends(t,e);function t(n,r,i,o){var s=e.call(this,n)||this;return s.destination=n,s.durationSelector=r,s._leading=i,s._trailing=o,s._hasValue=!1,s}return t.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},t.prototype.send=function(){var n=this,r=n._hasValue,i=n._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(n){var r=this.tryDurationSelector(n);r&&this.add(this._throttled=we(r,new ve(this)))},t.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},t.prototype.throttlingDone=function(){var n=this,r=n._throttled,i=n._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(_e);function jg(e,t,n){return t===void 0&&(t=De),n===void 0&&(n=Ou),function(r){return r.lift(new Rg(e,t,n.leading,n.trailing))}}var Rg=function(){function e(t,n,r,i){this.duration=t,this.scheduler=n,this.leading=r,this.trailing=i}return e.prototype.call=function(t,n){return n.subscribe(new Ng(t,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Ng=function(e){P.__extends(t,e);function t(n,r,i,o,s){var a=e.call(this,n)||this;return a.duration=r,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return t.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Og,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},t}(Z);function Og(e){var t=e.subscriber;t.clearThrottle()}function Tg(e){return e===void 0&&(e=De),function(t){return Vo(function(){return t.pipe(Kr(function(n,r){var i=n.current;return{value:r,current:e.now(),last:i}},{current:e.now(),value:void 0,last:void 0}),Ge(function(n){var r=n.current,i=n.last,o=n.value;return new Pg(o,r-i)}))})}}var Pg=function(){function e(t,n){this.value=t,this.interval=n}return e}();function Tu(e,t,n){return n===void 0&&(n=De),function(r){var i=Mu(e),o=i?+e-n.now():Math.abs(e);return r.lift(new Lg(o,i,t,n))}}var Lg=function(){function e(t,n,r,i){this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return e.prototype.call=function(t,n){return n.subscribe(new Dg(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Dg=function(e){P.__extends(t,e);function t(n,r,i,o,s){var a=e.call(this,n)||this;return a.absoluteTimeout=r,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return t.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(we(r,new ve(n)))},t.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,n)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(_e);function Bg(e,t){return t===void 0&&(t=De),Tu(e,Lo(new iu),t)}function Fg(e){return e===void 0&&(e=De),Ge(function(t){return new Ug(t,e.now())})}var Ug=function(){function e(t,n){this.value=t,this.timestamp=n}return e}();function Wg(e,t,n){return n===0?[t]:(e.push(t),e)}function Vg(){return Xr(Wg,[])}function Hg(e){return function(t){return t.lift(new zg(e))}}var zg=function(){function e(t){this.windowBoundaries=t}return e.prototype.call=function(t,n){var r=new qg(t),i=n.subscribe(r);return i.closed||r.add(we(this.windowBoundaries,new ve(r))),i},e}(),qg=function(e){P.__extends(t,e);function t(n){var r=e.call(this,n)||this;return r.window=new xe,n.next(r.window),r}return t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(n){this._error(n)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(n){this.window.next(n)},t.prototype._error=function(n){this.window.error(n),this.destination.error(n)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var n=this.window;n&&n.complete();var r=this.destination,i=this.window=new xe;r.next(i)},t}(_e);function Gg(e,t){return t===void 0&&(t=0),function(n){return n.lift(new Zg(e,t))}}var Zg=function(){function e(t,n){this.windowSize=t,this.startWindowEvery=n}return e.prototype.call=function(t,n){return n.subscribe(new $g(t,this.windowSize,this.startWindowEvery))},e}(),$g=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.destination=n,o.windowSize=r,o.startWindowEvery=i,o.windows=[new xe],o.count=0,n.next(o.windows[0]),o}return t.prototype._next=function(n){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(n);var l=this.count-o+1;if(l>=0&&l%r===0&&!this.closed&&s.shift().complete(),++this.count%r===0&&!this.closed){var u=new xe;s.push(u),i.next(u)}},t.prototype._error=function(n){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(n);this.destination.error(n)},t.prototype._complete=function(){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(Z);function Qg(e){var t=De,n=null,r=Number.POSITIVE_INFINITY;return Ue(arguments[3])&&(t=arguments[3]),Ue(arguments[2])?t=arguments[2]:_n(arguments[2])&&(r=Number(arguments[2])),Ue(arguments[1])?t=arguments[1]:_n(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Jg(e,n,r,t))}}var Jg=function(){function e(t,n,r,i){this.windowTimeSpan=t,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return e.prototype.call=function(t,n){return n.subscribe(new Kg(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Yg=function(e){P.__extends(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._numberOfNextedValues=0,n}return t.prototype.next=function(n){this._numberOfNextedValues++,e.prototype.next.call(this,n)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(xe),Kg=function(e){P.__extends(t,e);function t(n,r,i,o,s){var a=e.call(this,n)||this;a.destination=n,a.windowTimeSpan=r,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},u={windowTimeSpan:r,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(Pu,r,l)),a.add(s.schedule(e1,i,u))}else{var m={subscriber:a,window:c,windowTimeSpan:r};a.add(s.schedule(Xg,r,m))}return a}return t.prototype._next=function(n){for(var r=this.windows,i=r.length,o=0;o<i;o++){var s=r[o];s.closed||(s.next(n),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},t.prototype._error=function(n){for(var r=this.windows;r.length>0;)r.shift().error(n);this.destination.error(n)},t.prototype._complete=function(){for(var n=this.windows;n.length>0;){var r=n.shift();r.closed||r.complete()}this.destination.complete()},t.prototype.openWindow=function(){var n=new Yg;this.windows.push(n);var r=this.destination;return r.next(n),n},t.prototype.closeWindow=function(n){n.complete();var r=this.windows;r.splice(r.indexOf(n),1)},t}(Z);function Xg(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function e1(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=r.schedule(Pu,t,c),s.add(a.subscription),s.schedule(e,i)}function Pu(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function t1(e,t){return function(n){return n.lift(new n1(e,t))}}var n1=function(){function e(t,n){this.openings=t,this.closingSelector=n}return e.prototype.call=function(t,n){return n.subscribe(new r1(t,this.openings,this.closingSelector))},e}(),r1=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.openings=r,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=gt(o,r,r)),o}return t.prototype._next=function(n){var r=this.contexts;if(r)for(var i=r.length,o=0;o<i;o++)r[o].window.next(n)},t.prototype._error=function(n){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,o=-1;++o<i;){var s=r[o];s.window.error(n),s.subscription.unsubscribe()}e.prototype._error.call(this,n)},t.prototype._complete=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.complete(),o.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},t.prototype.notifyNext=function(n,r,i,o,s){if(n===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(r)}catch(d){return this.error(d)}var l=new xe,u=new ge,m={window:l,subscription:u};this.contexts.push(m);var h=gt(this,a,m);h.closed?this.closeWindow(this.contexts.length-1):(h.context=m,u.add(h)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(n))},t.prototype.notifyError=function(n){this.error(n)},t.prototype.notifyComplete=function(n){n!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(n.context))},t.prototype.closeWindow=function(n){if(n!==-1){var r=this.contexts,i=r[n],o=i.window,s=i.subscription;r.splice(n,1),o.complete(),s.unsubscribe()}},t}(qt);function i1(e){return function(t){return t.lift(new o1(e))}}var o1=function(){function e(t){this.closingSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new s1(t,this.closingSelector))},e}(),s1=function(e){P.__extends(t,e);function t(n,r){var i=e.call(this,n)||this;return i.destination=n,i.closingSelector=r,i.openWindow(),i}return t.prototype.notifyNext=function(n,r,i,o,s){this.openWindow(s)},t.prototype.notifyError=function(n){this._error(n)},t.prototype.notifyComplete=function(n){this.openWindow(n)},t.prototype._next=function(n){this.window.next(n)},t.prototype._error=function(n){this.window.error(n),this.destination.error(n),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(n){n===void 0&&(n=null),n&&(this.remove(n),n.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new xe;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=gt(this,o))},t}(qt);function a1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){var r;typeof e[e.length-1]=="function"&&(r=e.pop());var i=e;return n.lift(new c1(i,r))}}var c1=function(){function e(t,n){this.observables=t,this.project=n}return e.prototype.call=function(t,n){return n.subscribe(new u1(t,this.observables,this.project))},e}(),u1=function(e){P.__extends(t,e);function t(n,r,i){var o=e.call(this,n)||this;o.observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=r[a];o.add(gt(o,c,void 0,a))}return o}return t.prototype.notifyNext=function(n,r,i){this.values[i]=r;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(n){if(this.toRespond.length===0){var r=[n].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},t.prototype._tryProject=function(n){var r;try{r=this.project.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(qt);function l1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return n.lift.call(wu.apply(void 0,[n].concat(e)))}}function h1(e){return function(t){return t.lift(new Su(e))}}const d1=Object.freeze(Object.defineProperty({__proto__:null,audit:Eu,auditTime:d0,buffer:f0,bufferCount:b0,bufferTime:_0,bufferToggle:k0,bufferWhen:I0,catchError:R0,combineAll:T0,combineLatest:P0,concat:L0,concatAll:du,concatMap:Cu,concatMapTo:D0,count:B0,debounce:W0,debounceTime:z0,defaultIfEmpty:rr,delay:J0,delayWhen:ey,dematerialize:iy,distinct:ay,distinctUntilChanged:Au,distinctUntilKeyChanged:dy,elementAt:my,endWith:vy,every:_y,exhaust:Ey,exhaustMap:ju,expand:Iy,filter:jt,finalize:Ry,find:Ty,findIndex:Ly,first:Dy,groupBy:qf,ignoreElements:By,isEmpty:Wy,last:Gy,map:Ge,mapTo:Zy,materialize:Jy,max:tb,merge:nb,mergeAll:Wo,mergeMap:Gt,flatMap:Dp,mergeMapTo:rb,mergeScan:ib,min:ab,multicast:Zt,observeOn:tp,onErrorResumeNext:ub,pairwise:db,partition:yb,pluck:bb,publish:mb,publishBehavior:vb,publishLast:_b,publishReplay:wb,race:Sb,reduce:Xr,repeat:Eb,repeatWhen:kb,retry:Ib,retryWhen:Rb,refCount:No,sample:Tb,sampleTime:Db,scan:Kr,sequenceEqual:Wb,share:Gb,shareReplay:Zb,single:Qb,skip:Kb,skipLast:tg,skipUntil:ig,skipWhile:ag,startWith:lg,subscribeOn:dg,switchAll:bg,switchMap:ir,switchMapTo:gg,take:zo,takeLast:Yr,takeUntil:mg,takeWhile:wg,tap:xg,throttle:Mg,throttleTime:jg,throwIfEmpty:Jr,timeInterval:Tg,timeout:Bg,timeoutWith:Tu,timestamp:Fg,toArray:Vg,window:Hg,windowCount:Gg,windowTime:Qg,windowToggle:t1,windowWhen:i1,withLatestFrom:a1,zip:l1,zipAll:h1},Symbol.toStringTag,{value:"Module"})),ei=Fr(d1);var qo={},f1={get exports(){return qo},set exports(e){qo=e}},et={},p1={get exports(){return et},set exports(e){et=e}};(function(e,t){var n=So,r=n.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(s,a,c){return r(s,a,c)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(p1,et);var Lu=et.Buffer;function ti(e,t){this._block=Lu.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}ti.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Lu.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%r,c=Math.min(i-s,r-a),l=0;l<c;l++)n[a+l]=e[s+l];o+=c,s+=c,o%r===0&&this._update(n)}return this._len+=i,this},ti.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},ti.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Sn=ti,y1=Xe,Du=Sn,b1=et.Buffer,g1=[1518500249,1859775393,-1894007588,-899497514],m1=new Array(80);function or(){this.init(),this._w=m1,Du.call(this,64,56)}y1(or,Du),or.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function v1(e){return e<<5|e>>>27}function _1(e){return e<<30|e>>>2}function w1(e,t,n,r){return e===0?t&n|~t&r:e===2?t&n|t&r|n&r:t^n^r}or.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var c=0;c<80;++c){var l=~~(c/20),u=v1(n)+w1(l,r,i,o)+s+t[c]+g1[l]|0;s=o,o=i,i=_1(r),r=n,n=u}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},or.prototype._hash=function(){var e=b1.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var S1=or,E1=Xe,Bu=Sn,x1=et.Buffer,k1=[1518500249,1859775393,-1894007588,-899497514],C1=new Array(80);function sr(){this.init(),this._w=C1,Bu.call(this,64,56)}E1(sr,Bu),sr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function M1(e){return e<<1|e>>>31}function I1(e){return e<<5|e>>>27}function A1(e){return e<<30|e>>>2}function j1(e,t,n,r){return e===0?t&n|~t&r:e===2?t&n|t&r|n&r:t^n^r}sr.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=M1(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),u=I1(n)+j1(l,r,i,o)+s+t[c]+k1[l]|0;s=o,o=i,i=A1(r),r=n,n=u}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},sr.prototype._hash=function(){var e=x1.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var R1=sr,N1=Xe,Fu=Sn,O1=et.Buffer,T1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],P1=new Array(64);function ar(){this.init(),this._w=P1,Fu.call(this,64,56)}N1(ar,Fu),ar.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function L1(e,t,n){return n^e&(t^n)}function D1(e,t,n){return e&t|n&(e|t)}function B1(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function F1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function U1(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function W1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}ar.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<64;++u)t[u]=W1(t[u-2])+t[u-7]+U1(t[u-15])+t[u-16]|0;for(var m=0;m<64;++m){var h=l+F1(s)+L1(s,a,c)+T1[m]+t[m]|0,d=B1(n)+D1(n,r,i)|0;l=c,c=a,a=s,s=o+h|0,o=i,i=r,r=n,n=h+d|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0},ar.prototype._hash=function(){var e=O1.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Uu=ar,V1=Xe,H1=Uu,z1=Sn,q1=et.Buffer,G1=new Array(64);function ni(){this.init(),this._w=G1,z1.call(this,64,56)}V1(ni,H1),ni.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},ni.prototype._hash=function(){var e=q1.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var Z1=ni,$1=Xe,Wu=Sn,Q1=et.Buffer,Vu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],J1=new Array(160);function cr(){this.init(),this._w=J1,Wu.call(this,128,112)}$1(cr,Wu),cr.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Hu(e,t,n){return n^e&(t^n)}function zu(e,t,n){return e&t|n&(e|t)}function qu(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Gu(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Y1(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function K1(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function X1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function em(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function ke(e,t){return e>>>0<t>>>0?1:0}cr.prototype._update=function(e){for(var t=this._w,n=this._ah|0,r=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,u=this._al|0,m=this._bl|0,h=this._cl|0,d=this._dl|0,w=this._el|0,I=this._fl|0,L=this._gl|0,y=this._hl|0,v=0;v<32;v+=2)t[v]=e.readInt32BE(v*4),t[v+1]=e.readInt32BE(v*4+4);for(;v<160;v+=2){var E=t[v-30],R=t[v-15*2+1],U=Y1(E,R),G=K1(R,E);E=t[v-2*2],R=t[v-2*2+1];var $=X1(E,R),z=em(R,E),W=t[v-7*2],ue=t[v-7*2+1],oe=t[v-16*2],J=t[v-16*2+1],X=G+ue|0,V=U+W+ke(X,G)|0;X=X+z|0,V=V+$+ke(X,z)|0,X=X+J|0,V=V+oe+ke(X,J)|0,t[v]=V,t[v+1]=X}for(var se=0;se<160;se+=2){V=t[se],X=t[se+1];var fe=zu(n,r,i),x=zu(u,m,h),k=qu(n,u),M=qu(u,n),N=Gu(s,w),D=Gu(w,s),b=Vu[se],S=Vu[se+1],A=Hu(s,a,c),H=Hu(w,I,L),g=y+D|0,_=l+N+ke(g,y)|0;g=g+H|0,_=_+A+ke(g,H)|0,g=g+S|0,_=_+b+ke(g,S)|0,g=g+X|0,_=_+V+ke(g,X)|0;var C=M+x|0,O=k+fe+ke(C,M)|0;l=c,y=L,c=a,L=I,a=s,I=w,w=d+g|0,s=o+_+ke(w,d)|0,o=i,d=h,i=r,h=m,r=n,m=u,u=g+C|0,n=_+O+ke(u,g)|0}this._al=this._al+u|0,this._bl=this._bl+m|0,this._cl=this._cl+h|0,this._dl=this._dl+d|0,this._el=this._el+w|0,this._fl=this._fl+I|0,this._gl=this._gl+L|0,this._hl=this._hl+y|0,this._ah=this._ah+n+ke(this._al,u)|0,this._bh=this._bh+r+ke(this._bl,m)|0,this._ch=this._ch+i+ke(this._cl,h)|0,this._dh=this._dh+o+ke(this._dl,d)|0,this._eh=this._eh+s+ke(this._el,w)|0,this._fh=this._fh+a+ke(this._fl,I)|0,this._gh=this._gh+c+ke(this._gl,L)|0,this._hh=this._hh+l+ke(this._hl,y)|0},cr.prototype._hash=function(){var e=Q1.allocUnsafe(64);function t(n,r,i){e.writeInt32BE(n,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Zu=cr,tm=Xe,nm=Zu,rm=Sn,im=et.Buffer,om=new Array(160);function ri(){this.init(),this._w=om,rm.call(this,128,112)}tm(ri,nm),ri.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},ri.prototype._hash=function(){var e=im.allocUnsafe(48);function t(n,r,i){e.writeInt32BE(n,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var sm=ri,$t=f1.exports=function(e){e=e.toLowerCase();var t=$t[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};$t.sha=S1,$t.sha1=R1,$t.sha224=Z1,$t.sha256=Uu,$t.sha384=sm,$t.sha512=Zu;var q={},$u=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||o.enumerable!==!0)return!1}return!0},Qu=typeof Symbol<"u"&&Symbol,am=$u,cm=function(){return typeof Qu!="function"||typeof Symbol!="function"||typeof Qu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:am()},um="Function.prototype.bind called on incompatible ",Go=Array.prototype.slice,lm=Object.prototype.toString,hm="[object Function]",dm=function(e){var t=this;if(typeof t!="function"||lm.call(t)!==hm)throw new TypeError(um+t);for(var n=Go.call(arguments,1),r,i=function(){if(this instanceof r){var l=t.apply(this,n.concat(Go.call(arguments)));return Object(l)===l?l:this}else return t.apply(e,n.concat(Go.call(arguments)))},o=Math.max(0,t.length-n.length),s=[],a=0;a<o;a++)s.push("$"+a);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var c=function(){};c.prototype=t.prototype,r.prototype=new c,c.prototype=null}return r},fm=dm,Zo=Function.prototype.bind||fm,pm=Zo,ym=pm.call(Function.call,Object.prototype.hasOwnProperty),ae,En=SyntaxError,Ju=Function,xn=TypeError,$o=function(e){try{return Ju('"use strict"; return ('+e+").constructor;")()}catch{}},Qt=Object.getOwnPropertyDescriptor;if(Qt)try{Qt({},"")}catch{Qt=null}var Qo=function(){throw new xn},bm=Qt?function(){try{return arguments.callee,Qo}catch{try{return Qt(arguments,"callee").get}catch{return Qo}}}():Qo,kn=cm(),st=Object.getPrototypeOf||function(e){return e.__proto__},Cn={},gm=typeof Uint8Array>"u"?ae:st(Uint8Array),Jt={"%AggregateError%":typeof AggregateError>"u"?ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ae:ArrayBuffer,"%ArrayIteratorPrototype%":kn?st([][Symbol.iterator]()):ae,"%AsyncFromSyncIteratorPrototype%":ae,"%AsyncFunction%":Cn,"%AsyncGenerator%":Cn,"%AsyncGeneratorFunction%":Cn,"%AsyncIteratorPrototype%":Cn,"%Atomics%":typeof Atomics>"u"?ae:Atomics,"%BigInt%":typeof BigInt>"u"?ae:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ae:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ae:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ae:FinalizationRegistry,"%Function%":Ju,"%GeneratorFunction%":Cn,"%Int8Array%":typeof Int8Array>"u"?ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":kn?st(st([][Symbol.iterator]())):ae,"%JSON%":typeof JSON=="object"?JSON:ae,"%Map%":typeof Map>"u"?ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!kn?ae:st(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ae:Promise,"%Proxy%":typeof Proxy>"u"?ae:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!kn?ae:st(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":kn?st(""[Symbol.iterator]()):ae,"%Symbol%":kn?Symbol:ae,"%SyntaxError%":En,"%ThrowTypeError%":bm,"%TypedArray%":gm,"%TypeError%":xn,"%Uint8Array%":typeof Uint8Array>"u"?ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ae:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ae:WeakSet};try{null.error}catch(e){var mm=st(st(e));Jt["%Error.prototype%"]=mm}var vm=function e(t){var n;if(t==="%AsyncFunction%")n=$o("async function () {}");else if(t==="%GeneratorFunction%")n=$o("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=$o("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(n=st(i.prototype))}return Jt[t]=n,n},Yu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ur=Zo,ii=ym,_m=ur.call(Function.call,Array.prototype.concat),wm=ur.call(Function.apply,Array.prototype.splice),Ku=ur.call(Function.call,String.prototype.replace),oi=ur.call(Function.call,String.prototype.slice),Sm=ur.call(Function.call,RegExp.prototype.exec),Em=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xm=/\\(\\)?/g,km=function(e){var t=oi(e,0,1),n=oi(e,-1);if(t==="%"&&n!=="%")throw new En("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new En("invalid intrinsic syntax, expected opening `%`");var r=[];return Ku(e,Em,function(i,o,s,a){r[r.length]=s?Ku(a,xm,"$1"):o||i}),r},Cm=function(e,t){var n=e,r;if(ii(Yu,n)&&(r=Yu[n],n="%"+r[0]+"%"),ii(Jt,n)){var i=Jt[n];if(i===Cn&&(i=vm(n)),typeof i>"u"&&!t)throw new xn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new En("intrinsic "+e+" does not exist!")},si=function(e,t){if(typeof e!="string"||e.length===0)throw new xn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new xn('"allowMissing" argument must be a boolean');if(Sm(/^%?[^%]*%?$/,e)===null)throw new En("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=km(e),r=n.length>0?n[0]:"",i=Cm("%"+r+"%",t),o=i.name,s=i.value,a=!1,c=i.alias;c&&(r=c[0],wm(n,_m([0,1],c)));for(var l=1,u=!0;l<n.length;l+=1){var m=n[l],h=oi(m,0,1),d=oi(m,-1);if((h==='"'||h==="'"||h==="`"||d==='"'||d==="'"||d==="`")&&h!==d)throw new En("property names with quotes must have matching quotes");if((m==="constructor"||!u)&&(a=!0),r+="."+m,o="%"+r+"%",ii(Jt,o))s=Jt[o];else if(s!=null){if(!(m in s)){if(!t)throw new xn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qt&&l+1>=n.length){var w=Qt(s,m);u=!!w,u&&"get"in w&&!("originalValue"in w.get)?s=w.get:s=s[m]}else u=ii(s,m),s=s[m];u&&!a&&(Jt[o]=s)}}return s},Jo={},Mm={get exports(){return Jo},set exports(e){Jo=e}};(function(e){var t=Zo,n=si,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),s=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}e.exports=function(u){var m=o(t,i,arguments);if(s&&a){var h=s(m,"length");h.configurable&&a(m,"length",{value:1+c(0,u.length-(arguments.length-1))})}return m};var l=function(){return o(t,r,arguments)};a?a(e.exports,"apply",{value:l}):e.exports.apply=l})(Mm);var Xu=si,el=Jo,Im=el(Xu("String.prototype.indexOf")),ai=function(e,t){var n=Xu(e,!!t);return typeof n=="function"&&Im(e,".prototype.")>-1?el(n):n},Yo=typeof Map=="function"&&Map.prototype,Ko=Object.getOwnPropertyDescriptor&&Yo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ci=Yo&&Ko&&typeof Ko.get=="function"?Ko.get:null,tl=Yo&&Map.prototype.forEach,Xo=typeof Set=="function"&&Set.prototype,es=Object.getOwnPropertyDescriptor&&Xo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ui=Xo&&es&&typeof es.get=="function"?es.get:null,nl=Xo&&Set.prototype.forEach,Am=typeof WeakMap=="function"&&WeakMap.prototype,lr=Am?WeakMap.prototype.has:null,jm=typeof WeakSet=="function"&&WeakSet.prototype,hr=jm?WeakSet.prototype.has:null,Rm=typeof WeakRef=="function"&&WeakRef.prototype,rl=Rm?WeakRef.prototype.deref:null,Nm=Boolean.prototype.valueOf,Om=Object.prototype.toString,Tm=Function.prototype.toString,Pm=String.prototype.match,ts=String.prototype.slice,Rt=String.prototype.replace,Lm=String.prototype.toUpperCase,il=String.prototype.toLowerCase,ol=RegExp.prototype.test,sl=Array.prototype.concat,at=Array.prototype.join,Dm=Array.prototype.slice,al=Math.floor,ns=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rs=Object.getOwnPropertySymbols,is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ne=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Mn||"symbol")?Symbol.toStringTag:null,cl=Object.prototype.propertyIsEnumerable,ul=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function ll(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||ol.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-al(-e):al(e);if(r!==e){var i=String(r),o=ts.call(t,i.length+1);return Rt.call(i,n,"$&_")+"."+Rt.call(Rt.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Rt.call(t,n,"$&_")}var os=Ic,hl=os.custom,dl=yl(hl)?hl:null,Bm=function e(t,n,r,i){var o=n||{};if(Nt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Nt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Nt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Nt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Nt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return gl(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?ll(t,c):c}if(typeof t=="bigint"){var l=String(t)+"n";return a?ll(t,l):l}var u=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof t=="object")return ss(t)?"[Array]":"[Object]";var m=nv(o,r);if(typeof i>"u")i=[];else if(bl(i,t)>=0)return"[Circular]";function h(X,V,se){if(V&&(i=Dm.call(i),i.push(V)),se){var fe={depth:o.depth};return Nt(o,"quoteStyle")&&(fe.quoteStyle=o.quoteStyle),e(X,fe,r+1,i)}return e(X,o,r+1,i)}if(typeof t=="function"&&!pl(t)){var d=Zm(t),w=li(t,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(w.length>0?" { "+at.call(w,", ")+" }":"")}if(yl(t)){var I=Mn?Rt.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):is.call(t);return typeof t=="object"&&!Mn?dr(I):I}if(Xm(t)){for(var L="<"+il.call(String(t.nodeName)),y=t.attributes||[],v=0;v<y.length;v++)L+=" "+y[v].name+"="+fl(Fm(y[v].value),"double",o);return L+=">",t.childNodes&&t.childNodes.length&&(L+="..."),L+="</"+il.call(String(t.nodeName))+">",L}if(ss(t)){if(t.length===0)return"[]";var E=li(t,h);return m&&!tv(E)?"["+cs(E,m)+"]":"[ "+at.call(E,", ")+" ]"}if(Wm(t)){var R=li(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!cl.call(t,"cause")?"{ ["+String(t)+"] "+at.call(sl.call("[cause]: "+h(t.cause),R),", ")+" }":R.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+at.call(R,", ")+" }"}if(typeof t=="object"&&s){if(dl&&typeof t[dl]=="function"&&os)return os(t,{depth:u-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if($m(t)){var U=[];return tl&&tl.call(t,function(X,V){U.push(h(V,t,!0)+" => "+h(X,t))}),ml("Map",ci.call(t),U,m)}if(Ym(t)){var G=[];return nl&&nl.call(t,function(X){G.push(h(X,t))}),ml("Set",ui.call(t),G,m)}if(Qm(t))return as("WeakMap");if(Km(t))return as("WeakSet");if(Jm(t))return as("WeakRef");if(Hm(t))return dr(h(Number(t)));if(qm(t))return dr(h(ns.call(t)));if(zm(t))return dr(Nm.call(t));if(Vm(t))return dr(h(String(t)));if(!Um(t)&&!pl(t)){var $=li(t,h),z=ul?ul(t)===Object.prototype:t instanceof Object||t.constructor===Object,W=t instanceof Object?"":"null prototype",ue=!z&&Ne&&Object(t)===t&&Ne in t?ts.call(Ot(t),8,-1):W?"Object":"",oe=z||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",J=oe+(ue||W?"["+at.call(sl.call([],ue||[],W||[]),": ")+"] ":"");return $.length===0?J+"{}":m?J+"{"+cs($,m)+"}":J+"{ "+at.call($,", ")+" }"}return String(t)};function fl(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Fm(e){return Rt.call(String(e),/"/g,"&quot;")}function ss(e){return Ot(e)==="[object Array]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function Um(e){return Ot(e)==="[object Date]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function pl(e){return Ot(e)==="[object RegExp]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function Wm(e){return Ot(e)==="[object Error]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function Vm(e){return Ot(e)==="[object String]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function Hm(e){return Ot(e)==="[object Number]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function zm(e){return Ot(e)==="[object Boolean]"&&(!Ne||!(typeof e=="object"&&Ne in e))}function yl(e){if(Mn)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!is)return!1;try{return is.call(e),!0}catch{}return!1}function qm(e){if(!e||typeof e!="object"||!ns)return!1;try{return ns.call(e),!0}catch{}return!1}var Gm=Object.prototype.hasOwnProperty||function(e){return e in this};function Nt(e,t){return Gm.call(e,t)}function Ot(e){return Om.call(e)}function Zm(e){if(e.name)return e.name;var t=Pm.call(Tm.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function bl(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $m(e){if(!ci||!e||typeof e!="object")return!1;try{ci.call(e);try{ui.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Qm(e){if(!lr||!e||typeof e!="object")return!1;try{lr.call(e,lr);try{hr.call(e,hr)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Jm(e){if(!rl||!e||typeof e!="object")return!1;try{return rl.call(e),!0}catch{}return!1}function Ym(e){if(!ui||!e||typeof e!="object")return!1;try{ui.call(e);try{ci.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Km(e){if(!hr||!e||typeof e!="object")return!1;try{hr.call(e,hr);try{lr.call(e,lr)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Xm(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function gl(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return gl(ts.call(e,0,t.maxStringLength),t)+r}var i=Rt.call(Rt.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ev);return fl(i,"single",t)}function ev(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Lm.call(t.toString(16))}function dr(e){return"Object("+e+")"}function as(e){return e+" { ? }"}function ml(e,t,n,r){var i=r?cs(n,r):at.call(n,", ");return e+" ("+t+") {"+i+"}"}function tv(e){for(var t=0;t<e.length;t++)if(bl(e[t],`
`)>=0)return!1;return!0}function nv(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=at.call(Array(e.indent+1)," ");else return null;return{base:n,prev:at.call(Array(t+1),n)}}function cs(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+at.call(e,","+n)+`
`+t.prev}function li(e,t){var n=ss(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Nt(e,i)?t(e[i],e):""}var o=typeof rs=="function"?rs(e):[],s;if(Mn){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in e)Nt(e,c)&&(n&&String(Number(c))===c&&c<e.length||Mn&&s["$"+c]instanceof Symbol||(ol.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof rs=="function")for(var l=0;l<o.length;l++)cl.call(e,o[l])&&r.push("["+t(o[l])+"]: "+t(e[o[l]],e));return r}var us=si,In=ai,rv=Bm,iv=us("%TypeError%"),hi=us("%WeakMap%",!0),di=us("%Map%",!0),ov=In("WeakMap.prototype.get",!0),sv=In("WeakMap.prototype.set",!0),av=In("WeakMap.prototype.has",!0),cv=In("Map.prototype.get",!0),uv=In("Map.prototype.set",!0),lv=In("Map.prototype.has",!0),ls=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},hv=function(e,t){var n=ls(e,t);return n&&n.value},dv=function(e,t,n){var r=ls(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},fv=function(e,t){return!!ls(e,t)},pv=function(){var e,t,n,r={assert:function(i){if(!r.has(i))throw new iv("Side channel does not contain "+rv(i))},get:function(i){if(hi&&i&&(typeof i=="object"||typeof i=="function")){if(e)return ov(e,i)}else if(di){if(t)return cv(t,i)}else if(n)return hv(n,i)},has:function(i){if(hi&&i&&(typeof i=="object"||typeof i=="function")){if(e)return av(e,i)}else if(di){if(t)return lv(t,i)}else if(n)return fv(n,i);return!1},set:function(i,o){hi&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new hi),sv(e,i,o)):di?(t||(t=new di),uv(t,i,o)):(n||(n={key:{},next:null}),dv(n,i,o))}};return r},yv=String.prototype.replace,bv=/%20/g,hs={RFC1738:"RFC1738",RFC3986:"RFC3986"},ds={default:hs.RFC3986,formatters:{RFC1738:function(e){return yv.call(e,bv,"+")},RFC3986:function(e){return String(e)}},RFC1738:hs.RFC1738,RFC3986:hs.RFC3986},gv=ds,fs=Object.prototype.hasOwnProperty,Yt=Array.isArray,ct=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),mv=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Yt(n)){for(var r=[],i=0;i<n.length;++i)typeof n[i]<"u"&&r.push(n[i]);t.obj[t.prop]=r}}},vl=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},vv=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Yt(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!fs.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Yt(t)&&!Yt(n)&&(i=vl(t,r)),Yt(t)&&Yt(n)?(n.forEach(function(o,s){if(fs.call(t,s)){var a=t[s];a&&typeof a=="object"&&o&&typeof o=="object"?t[s]=e(a,o,r):t.push(o)}else t[s]=o}),t):Object.keys(n).reduce(function(o,s){var a=n[s];return fs.call(o,s)?o[s]=e(o[s],a,r):o[s]=a,o},i)},_v=function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},wv=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Sv=function(e,t,n,r,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",a=0;a<o.length;++a){var c=o.charCodeAt(a);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===gv.RFC1738&&(c===40||c===41)){s+=o.charAt(a);continue}if(c<128){s=s+ct[c];continue}if(c<2048){s=s+(ct[192|c>>6]+ct[128|c&63]);continue}if(c<55296||c>=57344){s=s+(ct[224|c>>12]+ct[128|c>>6&63]+ct[128|c&63]);continue}a+=1,c=65536+((c&1023)<<10|o.charCodeAt(a)&1023),s+=ct[240|c>>18]+ct[128|c>>12&63]+ct[128|c>>6&63]+ct[128|c&63]}return s},Ev=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var c=s[a],l=o[c];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(t.push({obj:o,prop:c}),n.push(l))}return mv(t),e},xv=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},kv=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Cv=function(e,t){return[].concat(e,t)},Mv=function(e,t){if(Yt(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},_l={arrayToObject:vl,assign:_v,combine:Cv,compact:Ev,decode:wv,encode:Sv,isBuffer:kv,isRegExp:xv,maybeMap:Mv,merge:vv},wl=pv,ps=_l,fr=ds,Iv=Object.prototype.hasOwnProperty,Sl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},vt=Array.isArray,Av=String.prototype.split,jv=Array.prototype.push,El=function(e,t){jv.apply(e,vt(t)?t:[t])},Rv=Date.prototype.toISOString,xl=fr.default,Ae={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ps.encode,encodeValuesOnly:!1,format:xl,formatter:fr.formatters[xl],indices:!1,serializeDate:function(e){return Rv.call(e)},skipNulls:!1,strictNullHandling:!1},Nv=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ys={},Ov=function e(t,n,r,i,o,s,a,c,l,u,m,h,d,w,I,L){for(var y=t,v=L,E=0,R=!1;(v=v.get(ys))!==void 0&&!R;){var U=v.get(t);if(E+=1,typeof U<"u"){if(U===E)throw new RangeError("Cyclic object value");R=!0}typeof v.get(ys)>"u"&&(E=0)}if(typeof c=="function"?y=c(n,y):y instanceof Date?y=m(y):r==="comma"&&vt(y)&&(y=ps.maybeMap(y,function(M){return M instanceof Date?m(M):M})),y===null){if(o)return a&&!w?a(n,Ae.encoder,I,"key",h):n;y=""}if(Nv(y)||ps.isBuffer(y)){if(a){var G=w?n:a(n,Ae.encoder,I,"key",h);if(r==="comma"&&w){for(var $=Av.call(String(y),","),z="",W=0;W<$.length;++W)z+=(W===0?"":",")+d(a($[W],Ae.encoder,I,"value",h));return[d(G)+(i&&vt(y)&&$.length===1?"[]":"")+"="+z]}return[d(G)+"="+d(a(y,Ae.encoder,I,"value",h))]}return[d(n)+"="+d(String(y))]}var ue=[];if(typeof y>"u")return ue;var oe;if(r==="comma"&&vt(y))oe=[{value:y.length>0?y.join(",")||null:void 0}];else if(vt(c))oe=c;else{var J=Object.keys(y);oe=l?J.sort(l):J}for(var X=i&&vt(y)&&y.length===1?n+"[]":n,V=0;V<oe.length;++V){var se=oe[V],fe=typeof se=="object"&&typeof se.value<"u"?se.value:y[se];if(!(s&&fe===null)){var x=vt(y)?typeof r=="function"?r(X,se):X:X+(u?"."+se:"["+se+"]");L.set(t,E);var k=wl();k.set(ys,L),El(ue,e(fe,x,r,i,o,s,a,c,l,u,m,h,d,w,I,k))}}return ue},Tv=function(e){if(!e)return Ae;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Ae.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=fr.default;if(typeof e.format<"u"){if(!Iv.call(fr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=fr.formatters[n],i=Ae.filter;return(typeof e.filter=="function"||vt(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ae.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ae.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ae.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ae.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ae.encode,encoder:typeof e.encoder=="function"?e.encoder:Ae.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ae.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ae.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ae.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ae.strictNullHandling}},Pv=function(e,t){var n=e,r=Tv(t),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):vt(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var a;t&&t.arrayFormat in Sl?a=t.arrayFormat:t&&"indices"in t?a=t.indices?"indices":"repeat":a="indices";var c=Sl[a];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=wl(),m=0;m<i.length;++m){var h=i[m];r.skipNulls&&n[h]===null||El(s,Ov(n[h],h,c,l,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var d=s.join(r.delimiter),w=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),d.length>0?w+d:""},An=_l,bs=Object.prototype.hasOwnProperty,Lv=Array.isArray,Ce={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:An.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Dv=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},kl=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Bv="utf8=%26%2310003%3B",Fv="utf8=%E2%9C%93",Uv=function(e,t){var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=r.split(t.delimiter,i),s=-1,a,c=t.charset;if(t.charsetSentinel)for(a=0;a<o.length;++a)o[a].indexOf("utf8=")===0&&(o[a]===Fv?c="utf-8":o[a]===Bv&&(c="iso-8859-1"),s=a,a=o.length);for(a=0;a<o.length;++a)if(a!==s){var l=o[a],u=l.indexOf("]="),m=u===-1?l.indexOf("="):u+1,h,d;m===-1?(h=t.decoder(l,Ce.decoder,c,"key"),d=t.strictNullHandling?null:""):(h=t.decoder(l.slice(0,m),Ce.decoder,c,"key"),d=An.maybeMap(kl(l.slice(m+1),t),function(w){return t.decoder(w,Ce.decoder,c,"value")})),d&&t.interpretNumericEntities&&c==="iso-8859-1"&&(d=Dv(d)),l.indexOf("[]=")>-1&&(d=Lv(d)?[d]:d),bs.call(n,h)?n[h]=An.combine(n[h],d):n[h]=d}return n},Wv=function(e,t,n,r){for(var i=r?t:kl(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if(a==="[]"&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!n.parseArrays&&c===""?s={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(s=[],s[l]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},Vv=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,a=n.depth>0&&o.exec(i),c=a?i.slice(0,a.index):i,l=[];if(c){if(!n.plainObjects&&bs.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var u=0;n.depth>0&&(a=s.exec(i))!==null&&u<n.depth;){if(u+=1,!n.plainObjects&&bs.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),Wv(l,t,n,r)}},Hv=function(e){if(!e)return Ce;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Ce.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ce.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ce.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ce.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ce.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ce.comma,decoder:typeof e.decoder=="function"?e.decoder:Ce.decoder,delimiter:typeof e.delimiter=="string"||An.isRegExp(e.delimiter)?e.delimiter:Ce.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ce.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ce.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ce.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ce.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}},zv=function(e,t){var n=Hv(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?Uv(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],c=Vv(a,r[a],n,typeof e=="string");i=An.merge(i,c,n)}return n.allowSparse===!0?i:An.compact(i)},qv=Pv,Gv=zv,Zv=ds,$v={formats:Zv,parse:Gv,stringify:qv},pr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProviderType=e.RegExpString=e.IntNumber=e.BigIntString=e.AddressString=e.HexString=e.OpaqueType=void 0;function t(){return r=>r}e.OpaqueType=t,e.HexString=t(),e.AddressString=t(),e.BigIntString=t();function n(r){return Math.floor(r)}e.IntNumber=n,e.RegExpString=t(),function(r){r.CoinbaseWallet="CoinbaseWallet",r.MetaMask="MetaMask",r.Unselected=""}(e.ProviderType||(e.ProviderType={}))})(pr);var Qv=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(q,"__esModule",{value:!0}),q.isInIFrame=q.createQrUrl=q.getFavicon=q.range=q.isBigNumber=q.ensureParsedJSONObject=q.ensureBN=q.ensureRegExpString=q.ensureIntNumber=q.ensureBuffer=q.ensureAddressString=q.ensureEvenLengthHexString=q.ensureHexString=q.isHexString=q.prepend0x=q.strip0x=q.has0xPrefix=q.hexStringFromIntNumber=q.intNumberFromHexString=q.bigIntStringFromBN=q.hexStringFromBuffer=q.hexStringToUint8Array=q.uint8ArrayToHex=q.randomBytesHex=void 0;const Tt=Qv(Eo),Jv=$v,Ze=pr,Cl=/^[0-9]*$/,Ml=/^[a-f0-9]*$/;function Yv(e){return Il(crypto.getRandomValues(new Uint8Array(e)))}q.randomBytesHex=Yv;function Il(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}q.uint8ArrayToHex=Il;function Kv(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}q.hexStringToUint8Array=Kv;function Xv(e,t=!1){const n=e.toString("hex");return(0,Ze.HexString)(t?"0x"+n:n)}q.hexStringFromBuffer=Xv;function e_(e){return(0,Ze.BigIntString)(e.toString(10))}q.bigIntStringFromBN=e_;function t_(e){return(0,Ze.IntNumber)(new Tt.default(br(e,!1),16).toNumber())}q.intNumberFromHexString=t_;function n_(e){return(0,Ze.HexString)("0x"+new Tt.default(e).toString(16))}q.hexStringFromIntNumber=n_;function gs(e){return e.startsWith("0x")||e.startsWith("0X")}q.has0xPrefix=gs;function fi(e){return gs(e)?e.slice(2):e}q.strip0x=fi;function Al(e){return gs(e)?"0x"+e.slice(2):"0x"+e}q.prepend0x=Al;function yr(e){if(typeof e!="string")return!1;const t=fi(e).toLowerCase();return Ml.test(t)}q.isHexString=yr;function jl(e,t=!1){if(typeof e=="string"){const n=fi(e).toLowerCase();if(Ml.test(n))return(0,Ze.HexString)(t?"0x"+n:n)}throw new Error(`"${String(e)}" is not a hexadecimal string`)}q.ensureHexString=jl;function br(e,t=!1){let n=jl(e,!1);return n.length%2===1&&(n=(0,Ze.HexString)("0"+n)),t?(0,Ze.HexString)("0x"+n):n}q.ensureEvenLengthHexString=br;function r_(e){if(typeof e=="string"){const t=fi(e).toLowerCase();if(yr(t)&&t.length===40)return(0,Ze.AddressString)(Al(t))}throw new Error(`Invalid Ethereum address: ${String(e)}`)}q.ensureAddressString=r_;function i_(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string")if(yr(e)){const t=br(e,!1);return Buffer.from(t,"hex")}else return Buffer.from(e,"utf8");throw new Error(`Not binary data: ${String(e)}`)}q.ensureBuffer=i_;function Rl(e){if(typeof e=="number"&&Number.isInteger(e))return(0,Ze.IntNumber)(e);if(typeof e=="string"){if(Cl.test(e))return(0,Ze.IntNumber)(Number(e));if(yr(e))return(0,Ze.IntNumber)(new Tt.default(br(e,!1),16).toNumber())}throw new Error(`Not an integer: ${String(e)}`)}q.ensureIntNumber=Rl;function o_(e){if(e instanceof RegExp)return(0,Ze.RegExpString)(e.toString());throw new Error(`Not a RegExp: ${String(e)}`)}q.ensureRegExpString=o_;function s_(e){if(e!==null&&(Tt.default.isBN(e)||Nl(e)))return new Tt.default(e.toString(10),10);if(typeof e=="number")return new Tt.default(Rl(e));if(typeof e=="string"){if(Cl.test(e))return new Tt.default(e,10);if(yr(e))return new Tt.default(br(e,!1),16)}throw new Error(`Not an integer: ${String(e)}`)}q.ensureBN=s_;function a_(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw new Error(`Not a JSON string or an object: ${String(e)}`)}q.ensureParsedJSONObject=a_;function Nl(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}q.isBigNumber=Nl;function c_(e,t){return Array.from({length:t-e},(n,r)=>e+r)}q.range=c_;function u_(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:n}=document.location,r=e?e.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?t+r:`${t}//${n}${r}`}q.getFavicon=u_;function l_(e,t,n,r,i,o){const s=r?"parent-id":"id",a=(0,Jv.stringify)({[s]:e,secret:t,server:n,v:i,chainId:o});return`${n}/#/link?${a}`}q.createQrUrl=l_;function h_(){try{return window.frameElement!==null}catch{return!1}}q.isInIFrame=h_,Object.defineProperty(dn,"__esModule",{value:!0}),dn.Session=void 0;const d_=wn,Ol=ei,Tl=qo,Pl=q,ms="session:id",Ll="session:secret",Dl="session:linked";class vs{constructor(t,n,r,i){this._storage=t,this._id=n||(0,Pl.randomBytesHex)(16),this._secret=r||(0,Pl.randomBytesHex)(32),this._key=new Tl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){const n=t.getItem(ms),r=t.getItem(Dl),i=t.getItem(Ll);return n&&i?new vs(t,n,i,r==="1"):null}static get persistedSessionIdChange$(){return(0,d_.fromEvent)(window,"storage").pipe((0,Ol.filter)(t=>t.key===ms),(0,Ol.map)(t=>({oldValue:t.oldValue||null,newValue:t.newValue||null})))}static hash(t){return new Tl.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(ms,this._id),this._storage.setItem(Ll,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Dl,this._linked?"1":"0")}}dn.Session=vs;var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.WalletSDKRelayAbstract=tt.APP_VERSION_KEY=tt.LOCAL_STORAGE_ADDRESSES_KEY=tt.WALLET_USER_NAME_KEY=void 0;const Bl=Vr;tt.WALLET_USER_NAME_KEY="walletUsername",tt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",tt.APP_VERSION_KEY="AppVersion";class f_{async makeEthereumJSONRPCRequest(t,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(!r)throw Bl.ethErrors.rpc.parse({});const i=r,{error:o}=i;if(o)throw(0,Bl.serializeError)(o);return i})}}tt.WalletSDKRelayAbstract=f_;var gr={},p_={get exports(){return gr},set exports(e){gr=e}},Fl=wo.EventEmitter,_s,Ul;function y_(){if(Ul)return _s;Ul=1;function e(h,d){var w=Object.keys(h);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(h);d&&(I=I.filter(function(L){return Object.getOwnPropertyDescriptor(h,L).enumerable})),w.push.apply(w,I)}return w}function t(h){for(var d=1;d<arguments.length;d++){var w=arguments[d]!=null?arguments[d]:{};d%2?e(Object(w),!0).forEach(function(I){n(h,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(w)):e(Object(w)).forEach(function(I){Object.defineProperty(h,I,Object.getOwnPropertyDescriptor(w,I))})}return h}function n(h,d,w){return d in h?Object.defineProperty(h,d,{value:w,enumerable:!0,configurable:!0,writable:!0}):h[d]=w,h}function r(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function i(h,d){for(var w=0;w<d.length;w++){var I=d[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(h,I.key,I)}}function o(h,d,w){return d&&i(h.prototype,d),w&&i(h,w),h}var s=So,a=s.Buffer,c=Ic,l=c.inspect,u=l&&l.custom||"inspect";function m(h,d,w){a.prototype.copy.call(h,d,w)}return _s=function(){function h(){r(this,h),this.head=null,this.tail=null,this.length=0}return o(h,[{key:"push",value:function(d){var w={data:d,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(d){var w={data:d,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var w=this.head,I=""+w.data;w=w.next;)I+=d+w.data;return I}},{key:"concat",value:function(d){if(this.length===0)return a.alloc(0);for(var w=a.allocUnsafe(d>>>0),I=this.head,L=0;I;)m(I.data,w,L),L+=I.data.length,I=I.next;return w}},{key:"consume",value:function(d,w){var I;return d<this.head.data.length?(I=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):d===this.head.data.length?I=this.shift():I=w?this._getString(d):this._getBuffer(d),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var w=this.head,I=1,L=w.data;for(d-=L.length;w=w.next;){var y=w.data,v=d>y.length?y.length:d;if(v===y.length?L+=y:L+=y.slice(0,d),d-=v,d===0){v===y.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=y.slice(v));break}++I}return this.length-=I,L}},{key:"_getBuffer",value:function(d){var w=a.allocUnsafe(d),I=this.head,L=1;for(I.data.copy(w),d-=I.data.length;I=I.next;){var y=I.data,v=d>y.length?y.length:d;if(y.copy(w,w.length-d,0,v),d-=v,d===0){v===y.length?(++L,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=y.slice(v));break}++L}return this.length-=L,w}},{key:u,value:function(d,w){return l(this,t({},w,{depth:0,customInspect:!1}))}}]),h}(),_s}function b_(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ws,this,e)):process.nextTick(ws,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?n._writableState?n._writableState.errorEmitted?process.nextTick(pi,n):(n._writableState.errorEmitted=!0,process.nextTick(Wl,n,o)):process.nextTick(Wl,n,o):t?(process.nextTick(pi,n),t(o)):process.nextTick(pi,n)}),this)}function Wl(e,t){ws(e,t),pi(e)}function pi(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function g_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ws(e,t){e.emit("error",t)}function m_(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}var Vl={destroy:b_,undestroy:g_,errorOrDestroy:m_},Kt={};function v_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Hl={};function $e(e,t,n){n||(n=Error);function r(o,s,a){return typeof t=="string"?t:t(o,s,a)}var i=function(o){v_(s,o);function s(a,c,l){return o.call(this,r(a,c,l))||this}return s}(n);i.prototype.name=n.name,i.prototype.code=e,Hl[e]=i}function zl(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(r){return String(r)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:n===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function __(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function w_(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function S_(e,t,n){return typeof n!="number"&&(n=0),n+t.length>e.length?!1:e.indexOf(t,n)!==-1}$e("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),$e("ERR_INVALID_ARG_TYPE",function(e,t,n){var r;typeof t=="string"&&__(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be";var i;if(w_(e," argument"))i="The ".concat(e," ").concat(r," ").concat(zl(t,"type"));else{var o=S_(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(zl(t,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError),$e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$e("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),$e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$e("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),$e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$e("ERR_STREAM_WRITE_AFTER_END","write after end"),$e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$e("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),$e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Kt.codes=Hl;var E_=Kt.codes.ERR_INVALID_OPT_VALUE;function x_(e,t,n){return e.highWaterMark!=null?e.highWaterMark:t?e[n]:null}function k_(e,t,n,r){var i=x_(t,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=r?n:"highWaterMark";throw new E_(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var ql={getHighWaterMark:k_},C_=M_;function M_(e,t){if(Ss("noDeprecation"))return e;var n=!1;function r(){if(!n){if(Ss("throwDeprecation"))throw new Error(t);Ss("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return r}function Ss(e){try{if(!ee.localStorage)return!1}catch{return!1}var t=ee.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Es,Gl;function Zl(){if(Gl)return Es;Gl=1,Es=z;function e(g){var _=this;this.next=null,this.entry=null,this.finish=function(){H(_,g)}}var t;z.WritableState=G;var n={deprecate:C_},r=Fl,i=So.Buffer,o=ee.Uint8Array||function(){};function s(g){return i.from(g)}function a(g){return i.isBuffer(g)||g instanceof o}var c=Vl,l=ql,u=l.getHighWaterMark,m=Kt.codes,h=m.ERR_INVALID_ARG_TYPE,d=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,I=m.ERR_STREAM_CANNOT_PIPE,L=m.ERR_STREAM_DESTROYED,y=m.ERR_STREAM_NULL_VALUES,v=m.ERR_STREAM_WRITE_AFTER_END,E=m.ERR_UNKNOWN_ENCODING,R=c.errorOrDestroy;Xe(z,r);function U(){}function G(g,_,C){t=t||jn(),g=g||{},typeof C!="boolean"&&(C=_ instanceof t),this.objectMode=!!g.objectMode,C&&(this.objectMode=this.objectMode||!!g.writableObjectMode),this.highWaterMark=u(this,g,"writableHighWaterMark",C),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=g.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=g.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){fe(_,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=g.emitClose!==!1,this.autoDestroy=!!g.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}G.prototype.getBuffer=function(){for(var g=this.bufferedRequest,_=[];g;)_.push(g),g=g.next;return _},function(){try{Object.defineProperty(G.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(g){return $.call(this,g)?!0:this!==z?!1:g&&g._writableState instanceof G}})):$=function(g){return g instanceof this};function z(g){t=t||jn();var _=this instanceof t;if(!_&&!$.call(z,this))return new z(g);this._writableState=new G(g,this,_),this.writable=!0,g&&(typeof g.write=="function"&&(this._write=g.write),typeof g.writev=="function"&&(this._writev=g.writev),typeof g.destroy=="function"&&(this._destroy=g.destroy),typeof g.final=="function"&&(this._final=g.final)),r.call(this)}z.prototype.pipe=function(){R(this,new I)};function W(g,_){var C=new v;R(g,C),process.nextTick(_,C)}function ue(g,_,C,O){var F;return C===null?F=new y:typeof C!="string"&&!_.objectMode&&(F=new h("chunk",["string","Buffer"],C)),F?(R(g,F),process.nextTick(O,F),!1):!0}z.prototype.write=function(g,_,C){var O=this._writableState,F=!1,f=!O.objectMode&&a(g);return f&&!i.isBuffer(g)&&(g=s(g)),typeof _=="function"&&(C=_,_=null),f?_="buffer":_||(_=O.defaultEncoding),typeof C!="function"&&(C=U),O.ending?W(this,C):(f||ue(this,O,g,C))&&(O.pendingcb++,F=J(this,O,f,g,_,C)),F},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var g=this._writableState;g.corked&&(g.corked--,!g.writing&&!g.corked&&!g.bufferProcessing&&g.bufferedRequest&&M(this,g))},z.prototype.setDefaultEncoding=function(g){if(typeof g=="string"&&(g=g.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((g+"").toLowerCase())>-1))throw new E(g);return this._writableState.defaultEncoding=g,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(g,_,C){return!g.objectMode&&g.decodeStrings!==!1&&typeof _=="string"&&(_=i.from(_,C)),_}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function J(g,_,C,O,F,f){if(!C){var p=oe(_,O,F);O!==p&&(C=!0,F="buffer",O=p)}var T=_.objectMode?1:O.length;_.length+=T;var B=_.length<_.highWaterMark;if(B||(_.needDrain=!0),_.writing||_.corked){var de=_.lastBufferedRequest;_.lastBufferedRequest={chunk:O,encoding:F,isBuf:C,callback:f,next:null},de?de.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else X(g,_,!1,T,O,F,f);return B}function X(g,_,C,O,F,f,p){_.writelen=O,_.writecb=p,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new L("write")):C?g._writev(F,_.onwrite):g._write(F,f,_.onwrite),_.sync=!1}function V(g,_,C,O,F){--_.pendingcb,C?(process.nextTick(F,O),process.nextTick(S,g,_),g._writableState.errorEmitted=!0,R(g,O)):(F(O),g._writableState.errorEmitted=!0,R(g,O),S(g,_))}function se(g){g.writing=!1,g.writecb=null,g.length-=g.writelen,g.writelen=0}function fe(g,_){var C=g._writableState,O=C.sync,F=C.writecb;if(typeof F!="function")throw new w;if(se(C),_)V(g,C,O,_,F);else{var f=N(C)||g.destroyed;!f&&!C.corked&&!C.bufferProcessing&&C.bufferedRequest&&M(g,C),O?process.nextTick(x,g,C,f,F):x(g,C,f,F)}}function x(g,_,C,O){C||k(g,_),_.pendingcb--,O(),S(g,_)}function k(g,_){_.length===0&&_.needDrain&&(_.needDrain=!1,g.emit("drain"))}function M(g,_){_.bufferProcessing=!0;var C=_.bufferedRequest;if(g._writev&&C&&C.next){var O=_.bufferedRequestCount,F=new Array(O),f=_.corkedRequestsFree;f.entry=C;for(var p=0,T=!0;C;)F[p]=C,C.isBuf||(T=!1),C=C.next,p+=1;F.allBuffers=T,X(g,_,!0,_.length,F,"",f.finish),_.pendingcb++,_.lastBufferedRequest=null,f.next?(_.corkedRequestsFree=f.next,f.next=null):_.corkedRequestsFree=new e(_),_.bufferedRequestCount=0}else{for(;C;){var B=C.chunk,de=C.encoding,te=C.callback,le=_.objectMode?1:B.length;if(X(g,_,!1,le,B,de,te),C=C.next,_.bufferedRequestCount--,_.writing)break}C===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=C,_.bufferProcessing=!1}z.prototype._write=function(g,_,C){C(new d("_write()"))},z.prototype._writev=null,z.prototype.end=function(g,_,C){var O=this._writableState;return typeof g=="function"?(C=g,g=null,_=null):typeof _=="function"&&(C=_,_=null),g!=null&&this.write(g,_),O.corked&&(O.corked=1,this.uncork()),O.ending||A(this,O,C),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N(g){return g.ending&&g.length===0&&g.bufferedRequest===null&&!g.finished&&!g.writing}function D(g,_){g._final(function(C){_.pendingcb--,C&&R(g,C),_.prefinished=!0,g.emit("prefinish"),S(g,_)})}function b(g,_){!_.prefinished&&!_.finalCalled&&(typeof g._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,process.nextTick(D,g,_)):(_.prefinished=!0,g.emit("prefinish")))}function S(g,_){var C=N(_);if(C&&(b(g,_),_.pendingcb===0&&(_.finished=!0,g.emit("finish"),_.autoDestroy))){var O=g._readableState;(!O||O.autoDestroy&&O.endEmitted)&&g.destroy()}return C}function A(g,_,C){_.ending=!0,S(g,_),C&&(_.finished?process.nextTick(C):g.once("finish",C)),_.ended=!0,g.writable=!1}function H(g,_,C){var O=g.entry;for(g.entry=null;O;){var F=O.callback;_.pendingcb--,F(C),O=O.next}_.corkedRequestsFree.next=g}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(g){this._writableState&&(this._writableState.destroyed=g)}}),z.prototype.destroy=c.destroy,z.prototype._undestroy=c.undestroy,z.prototype._destroy=function(g,_){_(g)},Es}var xs,$l;function jn(){if($l)return xs;$l=1;var e=Object.keys||function(l){var u=[];for(var m in l)u.push(m);return u};xs=s;var t=rh(),n=Zl();Xe(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(l){if(!(this instanceof s))return new s(l);t.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),xs}var ks={},Ql;function Jl(){if(Ql)return ks;Ql=1;var e=et.Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function r(y){var v=n(y);if(typeof v!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return v||y}ks.StringDecoder=i;function i(y){this.encoding=r(y);var v;switch(this.encoding){case"utf16le":this.text=m,this.end=h,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=d,this.end=w,v=3;break;default:this.write=I,this.end=L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}i.prototype.write=function(y){if(y.length===0)return"";var v,E;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<y.length?v?v+this.text(y,E):this.text(y,E):v||""},i.prototype.end=u,i.prototype.text=l,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function o(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function s(y,v,E){var R=v.length-1;if(R<E)return 0;var U=o(v[R]);return U>=0?(U>0&&(y.lastNeed=U-1),U):--R<E||U===-2?0:(U=o(v[R]),U>=0?(U>0&&(y.lastNeed=U-2),U):--R<E||U===-2?0:(U=o(v[R]),U>=0?(U>0&&(U===2?U=0:y.lastNeed=U-3),U):0))}function a(y,v,E){if((v[0]&192)!==128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,"\uFFFD"}}function c(y){var v=this.lastTotal-this.lastNeed,E=a(this,y);if(E!==void 0)return E;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function l(y,v){var E=s(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=E;var R=y.length-(E-this.lastNeed);return y.copy(this.lastChar,0,R),y.toString("utf8",v,R)}function u(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"\uFFFD":v}function m(y,v){if((y.length-v)%2===0){var E=y.toString("utf16le",v);if(E){var R=E.charCodeAt(E.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function h(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,E)}return v}function d(y,v){var E=(y.length-v)%3;return E===0?y.toString("base64",v):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-E))}function w(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function I(y){return y.toString(this.encoding)}function L(y){return y&&y.length?this.write(y):""}return ks}var Yl=Kt.codes.ERR_STREAM_PREMATURE_CLOSE;function I_(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function A_(){}function j_(e){return e.setHeader&&typeof e.abort=="function"}function Kl(e,t,n){if(typeof t=="function")return Kl(e,null,t);t||(t={}),n=I_(n||A_);var r=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||a()},s=e._writableState&&e._writableState.finished,a=function(){i=!1,s=!0,r||n.call(e)},c=e._readableState&&e._readableState.endEmitted,l=function(){r=!1,c=!0,i||n.call(e)},u=function(d){n.call(e,d)},m=function(){var d;if(r&&!c)return(!e._readableState||!e._readableState.ended)&&(d=new Yl),n.call(e,d);if(i&&!s)return(!e._writableState||!e._writableState.ended)&&(d=new Yl),n.call(e,d)},h=function(){e.req.on("finish",a)};return j_(e)?(e.on("complete",a),e.on("abort",m),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",a),t.error!==!1&&e.on("error",u),e.on("close",m),function(){e.removeListener("complete",a),e.removeListener("abort",m),e.removeListener("request",h),e.req&&e.req.removeListener("finish",a),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",u),e.removeListener("close",m)}}var Cs=Kl,Ms,Xl;function R_(){if(Xl)return Ms;Xl=1;var e;function t(y,v,E){return v in y?Object.defineProperty(y,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):y[v]=E,y}var n=Cs,r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(y,v){return{value:y,done:v}}function m(y){var v=y[r];if(v!==null){var E=y[l].read();E!==null&&(y[a]=null,y[r]=null,y[i]=null,v(u(E,!1)))}}function h(y){process.nextTick(m,y)}function d(y,v){return function(E,R){y.then(function(){if(v[s]){E(u(void 0,!0));return}v[c](E,R)},R)}}var w=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((e={get stream(){return this[l]},next:function(){var y=this,v=this[o];if(v!==null)return Promise.reject(v);if(this[s])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(G,$){process.nextTick(function(){y[o]?$(y[o]):G(u(void 0,!0))})});var E=this[a],R;if(E)R=new Promise(d(E,this));else{var U=this[l].read();if(U!==null)return Promise.resolve(u(U,!1));R=new Promise(this[c])}return this[a]=R,R}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var y=this;return new Promise(function(v,E){y[l].destroy(null,function(R){if(R){E(R);return}v(u(void 0,!0))})})}),e),w),L=function(y){var v,E=Object.create(I,(v={},t(v,l,{value:y,writable:!0}),t(v,r,{value:null,writable:!0}),t(v,i,{value:null,writable:!0}),t(v,o,{value:null,writable:!0}),t(v,s,{value:y._readableState.endEmitted,writable:!0}),t(v,c,{value:function(R,U){var G=E[l].read();G?(E[a]=null,E[r]=null,E[i]=null,R(u(G,!1))):(E[r]=R,E[i]=U)},writable:!0}),v));return E[a]=null,n(y,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=E[i];U!==null&&(E[a]=null,E[r]=null,E[i]=null,U(R)),E[o]=R;return}var G=E[r];G!==null&&(E[a]=null,E[r]=null,E[i]=null,G(u(void 0,!0))),E[s]=!0}),y.on("readable",h.bind(null,E)),E};return Ms=L,Ms}var eh,th;function N_(){return th||(th=1,eh=function(){throw new Error("Readable.from is not available in the browser")}),eh}var Is,nh;function rh(){if(nh)return Is;nh=1,Is=W;var e;W.ReadableState=z,wo.EventEmitter;var t=function(f,p){return f.listeners(p).length},n=Fl,r=So.Buffer,i=ee.Uint8Array||function(){};function o(f){return r.from(f)}function s(f){return r.isBuffer(f)||f instanceof i}var a=Ic,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=y_(),u=Vl,m=ql,h=m.getHighWaterMark,d=Kt.codes,w=d.ERR_INVALID_ARG_TYPE,I=d.ERR_STREAM_PUSH_AFTER_EOF,L=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,E,R;Xe(W,n);var U=u.errorOrDestroy,G=["error","close","destroy","pause","resume"];function $(f,p,T){if(typeof f.prependListener=="function")return f.prependListener(p,T);!f._events||!f._events[p]?f.on(p,T):Array.isArray(f._events[p])?f._events[p].unshift(T):f._events[p]=[T,f._events[p]]}function z(f,p,T){e=e||jn(),f=f||{},typeof T!="boolean"&&(T=p instanceof e),this.objectMode=!!f.objectMode,T&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=h(this,f,"readableHighWaterMark",T),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(v||(v=Jl().StringDecoder),this.decoder=new v(f.encoding),this.encoding=f.encoding)}function W(f){if(e=e||jn(),!(this instanceof W))return new W(f);var p=this instanceof e;this._readableState=new z(f,this,p),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),n.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(f){this._readableState&&(this._readableState.destroyed=f)}}),W.prototype.destroy=u.destroy,W.prototype._undestroy=u.undestroy,W.prototype._destroy=function(f,p){p(f)},W.prototype.push=function(f,p){var T=this._readableState,B;return T.objectMode?B=!0:typeof f=="string"&&(p=p||T.defaultEncoding,p!==T.encoding&&(f=r.from(f,p),p=""),B=!0),ue(this,f,p,!1,B)},W.prototype.unshift=function(f){return ue(this,f,null,!0,!1)};function ue(f,p,T,B,de){c("readableAddChunk",p);var te=f._readableState;if(p===null)te.reading=!1,fe(f,te);else{var le;if(de||(le=J(te,p)),le)U(f,le);else if(te.objectMode||p&&p.length>0)if(typeof p!="string"&&!te.objectMode&&Object.getPrototypeOf(p)!==r.prototype&&(p=o(p)),B)te.endEmitted?U(f,new y):oe(f,te,p,!0);else if(te.ended)U(f,new I);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!T?(p=te.decoder.write(p),te.objectMode||p.length!==0?oe(f,te,p,!1):M(f,te)):oe(f,te,p,!1)}else B||(te.reading=!1,M(f,te))}return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function oe(f,p,T,B){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,f.emit("data",T)):(p.length+=p.objectMode?1:T.length,B?p.buffer.unshift(T):p.buffer.push(T),p.needReadable&&x(f)),M(f,p)}function J(f,p){var T;return!s(p)&&typeof p!="string"&&p!==void 0&&!f.objectMode&&(T=new w("chunk",["string","Buffer","Uint8Array"],p)),T}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(f){v||(v=Jl().StringDecoder);var p=new v(f);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,B="";T!==null;)B+=p.write(T.data),T=T.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var X=1073741824;function V(f){return f>=X?f=X:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function se(f,p){return f<=0||p.length===0&&p.ended?0:p.objectMode?1:f!==f?p.flowing&&p.length?p.buffer.head.data.length:p.length:(f>p.highWaterMark&&(p.highWaterMark=V(f)),f<=p.length?f:p.ended?p.length:(p.needReadable=!0,0))}W.prototype.read=function(f){c("read",f),f=parseInt(f,10);var p=this._readableState,T=f;if(f!==0&&(p.emittedReadable=!1),f===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return c("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?C(this):x(this),null;if(f=se(f,p),f===0&&p.ended)return p.length===0&&C(this),null;var B=p.needReadable;c("need readable",B),(p.length===0||p.length-f<p.highWaterMark)&&(B=!0,c("length less than watermark",B)),p.ended||p.reading?(B=!1,c("reading or ended",B)):B&&(c("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,p.reading||(f=se(T,p)));var de;return f>0?de=_(f,p):de=null,de===null?(p.needReadable=p.length<=p.highWaterMark,f=0):(p.length-=f,p.awaitDrain=0),p.length===0&&(p.ended||(p.needReadable=!0),T!==f&&p.ended&&C(this)),de!==null&&this.emit("data",de),de};function fe(f,p){if(c("onEofChunk"),!p.ended){if(p.decoder){var T=p.decoder.end();T&&T.length&&(p.buffer.push(T),p.length+=p.objectMode?1:T.length)}p.ended=!0,p.sync?x(f):(p.needReadable=!1,p.emittedReadable||(p.emittedReadable=!0,k(f)))}}function x(f){var p=f._readableState;c("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(c("emitReadable",p.flowing),p.emittedReadable=!0,process.nextTick(k,f))}function k(f){var p=f._readableState;c("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(f.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,g(f)}function M(f,p){p.readingMore||(p.readingMore=!0,process.nextTick(N,f,p))}function N(f,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var T=p.length;if(c("maybeReadMore read 0"),f.read(0),T===p.length)break}p.readingMore=!1}W.prototype._read=function(f){U(this,new L("_read()"))},W.prototype.pipe=function(f,p){var T=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=f;break;case 1:B.pipes=[B.pipes,f];break;default:B.pipes.push(f);break}B.pipesCount+=1,c("pipe count=%d opts=%j",B.pipesCount,p);var de=(!p||p.end!==!1)&&f!==process.stdout&&f!==process.stderr,te=de?Et:Vt;B.endEmitted?process.nextTick(te):T.once("end",te),f.on("unpipe",le);function le(xt,yt){c("onunpipe"),xt===T&&yt&&yt.hasUnpiped===!1&&(yt.hasUnpiped=!0,_o())}function Et(){c("onend"),f.end()}var j=D(T);f.on("drain",j);var an=!1;function _o(){c("cleanup"),f.removeListener("close",qn),f.removeListener("finish",Gn),f.removeListener("drain",j),f.removeListener("error",zn),f.removeListener("unpipe",le),T.removeListener("end",Et),T.removeListener("end",Vt),T.removeListener("data",Br),an=!0,B.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&j()}T.on("data",Br);function Br(xt){c("ondata");var yt=f.write(xt);c("dest.write",yt),yt===!1&&((B.pipesCount===1&&B.pipes===f||B.pipesCount>1&&F(B.pipes,f)!==-1)&&!an&&(c("false write response, pause",B.awaitDrain),B.awaitDrain++),T.pause())}function zn(xt){c("onerror",xt),Vt(),f.removeListener("error",zn),t(f,"error")===0&&U(f,xt)}$(f,"error",zn);function qn(){f.removeListener("finish",Gn),Vt()}f.once("close",qn);function Gn(){c("onfinish"),f.removeListener("close",qn),Vt()}f.once("finish",Gn);function Vt(){c("unpipe"),T.unpipe(f)}return f.emit("pipe",T),B.flowing||(c("pipe resume"),T.resume()),f};function D(f){return function(){var p=f._readableState;c("pipeOnDrain",p.awaitDrain),p.awaitDrain&&p.awaitDrain--,p.awaitDrain===0&&t(f,"data")&&(p.flowing=!0,g(f))}}W.prototype.unpipe=function(f){var p=this._readableState,T={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return f&&f!==p.pipes?this:(f||(f=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,f&&f.emit("unpipe",this,T),this);if(!f){var B=p.pipes,de=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var te=0;te<de;te++)B[te].emit("unpipe",this,{hasUnpiped:!1});return this}var le=F(p.pipes,f);return le===-1?this:(p.pipes.splice(le,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),f.emit("unpipe",this,T),this)},W.prototype.on=function(f,p){var T=n.prototype.on.call(this,f,p),B=this._readableState;return f==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):f==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,c("on readable",B.length,B.reading),B.length?x(this):B.reading||process.nextTick(S,this)),T},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(f,p){var T=n.prototype.removeListener.call(this,f,p);return f==="readable"&&process.nextTick(b,this),T},W.prototype.removeAllListeners=function(f){var p=n.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&process.nextTick(b,this),p};function b(f){var p=f._readableState;p.readableListening=f.listenerCount("readable")>0,p.resumeScheduled&&!p.paused?p.flowing=!0:f.listenerCount("data")>0&&f.resume()}function S(f){c("readable nexttick read 0"),f.read(0)}W.prototype.resume=function(){var f=this._readableState;return f.flowing||(c("resume"),f.flowing=!f.readableListening,A(this,f)),f.paused=!1,this};function A(f,p){p.resumeScheduled||(p.resumeScheduled=!0,process.nextTick(H,f,p))}function H(f,p){c("resume",p.reading),p.reading||f.read(0),p.resumeScheduled=!1,f.emit("resume"),g(f),p.flowing&&!p.reading&&f.read(0)}W.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function g(f){var p=f._readableState;for(c("flow",p.flowing);p.flowing&&f.read()!==null;);}W.prototype.wrap=function(f){var p=this,T=this._readableState,B=!1;f.on("end",function(){if(c("wrapped end"),T.decoder&&!T.ended){var le=T.decoder.end();le&&le.length&&p.push(le)}p.push(null)}),f.on("data",function(le){if(c("wrapped data"),T.decoder&&(le=T.decoder.write(le)),!(T.objectMode&&le==null)&&!(!T.objectMode&&(!le||!le.length))){var Et=p.push(le);Et||(B=!0,f.pause())}});for(var de in f)this[de]===void 0&&typeof f[de]=="function"&&(this[de]=function(le){return function(){return f[le].apply(f,arguments)}}(de));for(var te=0;te<G.length;te++)f.on(G[te],this.emit.bind(this,G[te]));return this._read=function(le){c("wrapped _read",le),B&&(B=!1,f.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=R_()),E(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(f){this._readableState&&(this._readableState.flowing=f)}}),W._fromList=_,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(f,p){if(p.length===0)return null;var T;return p.objectMode?T=p.buffer.shift():!f||f>=p.length?(p.decoder?T=p.buffer.join(""):p.buffer.length===1?T=p.buffer.first():T=p.buffer.concat(p.length),p.buffer.clear()):T=p.buffer.consume(f,p.decoder),T}function C(f){var p=f._readableState;c("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,process.nextTick(O,p,f))}function O(f,p){if(c("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,p.readable=!1,p.emit("end"),f.autoDestroy)){var T=p._writableState;(!T||T.autoDestroy&&T.finished)&&p.destroy()}}typeof Symbol=="function"&&(W.from=function(f,p){return R===void 0&&(R=N_()),R(W,f,p)});function F(f,p){for(var T=0,B=f.length;T<B;T++)if(f[T]===p)return T;return-1}return Is}var ih=_t,yi=Kt.codes,O_=yi.ERR_METHOD_NOT_IMPLEMENTED,T_=yi.ERR_MULTIPLE_CALLBACK,P_=yi.ERR_TRANSFORM_ALREADY_TRANSFORMING,L_=yi.ERR_TRANSFORM_WITH_LENGTH_0,bi=jn();Xe(_t,bi);function D_(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new T_);n.writechunk=null,n.writecb=null,t!=null&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function _t(e){if(!(this instanceof _t))return new _t(e);bi.call(this,e),this._transformState={afterTransform:D_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",B_)}function B_(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,n){oh(e,t,n)}):oh(this,null,null)}_t.prototype.push=function(e,t){return this._transformState.needTransform=!1,bi.prototype.push.call(this,e,t)},_t.prototype._transform=function(e,t,n){n(new O_("_transform()"))},_t.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},_t.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},_t.prototype._destroy=function(e,t){bi.prototype._destroy.call(this,e,function(n){t(n)})};function oh(e,t,n){if(t)return e.emit("error",t);if(n!=null&&e.push(n),e._writableState.length)throw new L_;if(e._transformState.transforming)throw new P_;return e.push(null)}var F_=mr,sh=ih;Xe(mr,sh);function mr(e){if(!(this instanceof mr))return new mr(e);sh.call(this,e)}mr.prototype._transform=function(e,t,n){n(null,e)};var As;function U_(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ah=Kt.codes,W_=ah.ERR_MISSING_ARGS,V_=ah.ERR_STREAM_DESTROYED;function H_(e){if(e)throw e}function z_(e){return e.setHeader&&typeof e.abort=="function"}function q_(e,t,n,r){r=U_(r);var i=!1;e.on("close",function(){i=!0}),As===void 0&&(As=Cs),As(e,{readable:t,writable:n},function(s){if(s)return r(s);i=!0,r()});var o=!1;return function(s){if(!i&&!o){if(o=!0,z_(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();r(s||new V_("pipe"))}}}function ch(e){e()}function G_(e,t){return e.pipe(t)}function Z_(e){return!e.length||typeof e[e.length-1]!="function"?H_:e.pop()}function $_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Z_(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new W_("streams");var i,o=t.map(function(s,a){var c=a<t.length-1,l=a>0;return q_(s,c,l,function(u){i||(i=u),u&&o.forEach(ch),!c&&(o.forEach(ch),r(i))})});return t.reduce(G_)}var Q_=$_;(function(e,t){t=e.exports=rh(),t.Stream=t,t.Readable=t,t.Writable=Zl(),t.Duplex=jn(),t.Transform=ih,t.PassThrough=F_,t.finished=Cs,t.pipeline=Q_})(p_,gr);const{Transform:J_}=gr;var Y_=e=>class kf extends J_{constructor(n,r,i,o,s){super(s),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new e,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let o=null;try{this.update(n,r)}catch(s){o=s}i(o)}_flush(n){let r=null;try{this.push(this.digest())}catch(i){r=i}n(r)}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}digest(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let r=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(r=r.toString(n)),this._resetState(),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new kf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const{Transform:K_}=gr;var X_=e=>class Cf extends K_{constructor(n,r,i,o){super(o),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._options=o,this._state=new e,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let o=null;try{this.update(n,r)}catch(s){o=s}i(o)}_flush(){}_read(n){this.push(this.squeeze(n))}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}squeeze(n,r){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(n);return r!==void 0&&(i=i.toString(r)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new Cf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const ew=Y_,tw=X_;var nw=function(e){const t=ew(e),n=tw(e);return function(r,i){switch(typeof r=="string"?r.toLowerCase():r){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new n(1344,256,31,i);case"shake256":return new n(1088,512,31,i);default:throw new Error("Invald algorithm: "+r)}}},uh={};const lh=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];uh.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],r=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],u=e[8]^e[18]^e[28]^e[38]^e[48],m=e[9]^e[19]^e[29]^e[39]^e[49];let h=u^(i<<1|o>>>31),d=m^(o<<1|i>>>31);const w=e[0]^h,I=e[1]^d,L=e[10]^h,y=e[11]^d,v=e[20]^h,E=e[21]^d,R=e[30]^h,U=e[31]^d,G=e[40]^h,$=e[41]^d;h=n^(s<<1|a>>>31),d=r^(a<<1|s>>>31);const z=e[2]^h,W=e[3]^d,ue=e[12]^h,oe=e[13]^d,J=e[22]^h,X=e[23]^d,V=e[32]^h,se=e[33]^d,fe=e[42]^h,x=e[43]^d;h=i^(c<<1|l>>>31),d=o^(l<<1|c>>>31);const k=e[4]^h,M=e[5]^d,N=e[14]^h,D=e[15]^d,b=e[24]^h,S=e[25]^d,A=e[34]^h,H=e[35]^d,g=e[44]^h,_=e[45]^d;h=s^(u<<1|m>>>31),d=a^(m<<1|u>>>31);const C=e[6]^h,O=e[7]^d,F=e[16]^h,f=e[17]^d,p=e[26]^h,T=e[27]^d,B=e[36]^h,de=e[37]^d,te=e[46]^h,le=e[47]^d;h=c^(n<<1|r>>>31),d=l^(r<<1|n>>>31);const Et=e[8]^h,j=e[9]^d,an=e[18]^h,_o=e[19]^d,Br=e[28]^h,zn=e[29]^d,qn=e[38]^h,Gn=e[39]^d,Vt=e[48]^h,xt=e[49]^d,yt=w,Oa=I,Ta=y<<4|L>>>28,Pa=L<<4|y>>>28,La=v<<3|E>>>29,Da=E<<3|v>>>29,Ba=U<<9|R>>>23,Fa=R<<9|U>>>23,Ua=G<<18|$>>>14,Wa=$<<18|G>>>14,Va=z<<1|W>>>31,Ha=W<<1|z>>>31,za=oe<<12|ue>>>20,qa=ue<<12|oe>>>20,Ga=J<<10|X>>>22,Za=X<<10|J>>>22,$a=se<<13|V>>>19,Qa=V<<13|se>>>19,Ja=fe<<2|x>>>30,Ya=x<<2|fe>>>30,Ka=M<<30|k>>>2,Xa=k<<30|M>>>2,ec=N<<6|D>>>26,tc=D<<6|N>>>26,nc=S<<11|b>>>21,rc=b<<11|S>>>21,ic=A<<15|H>>>17,oc=H<<15|A>>>17,sc=_<<29|g>>>3,ac=g<<29|_>>>3,cc=C<<28|O>>>4,uc=O<<28|C>>>4,lc=f<<23|F>>>9,hc=F<<23|f>>>9,dc=p<<25|T>>>7,fc=T<<25|p>>>7,pc=B<<21|de>>>11,yc=de<<21|B>>>11,bc=le<<24|te>>>8,gc=te<<24|le>>>8,mc=Et<<27|j>>>5,vc=j<<27|Et>>>5,_c=an<<20|_o>>>12,wc=_o<<20|an>>>12,Sc=zn<<7|Br>>>25,Ec=Br<<7|zn>>>25,xc=qn<<8|Gn>>>24,kc=Gn<<8|qn>>>24,Cc=Vt<<14|xt>>>18,Mc=xt<<14|Vt>>>18;e[0]=yt^~za&nc,e[1]=Oa^~qa&rc,e[10]=cc^~_c&La,e[11]=uc^~wc&Da,e[20]=Va^~ec&dc,e[21]=Ha^~tc&fc,e[30]=mc^~Ta&Ga,e[31]=vc^~Pa&Za,e[40]=Ka^~lc&Sc,e[41]=Xa^~hc&Ec,e[2]=za^~nc&pc,e[3]=qa^~rc&yc,e[12]=_c^~La&$a,e[13]=wc^~Da&Qa,e[22]=ec^~dc&xc,e[23]=tc^~fc&kc,e[32]=Ta^~Ga&ic,e[33]=Pa^~Za&oc,e[42]=lc^~Sc&Ba,e[43]=hc^~Ec&Fa,e[4]=nc^~pc&Cc,e[5]=rc^~yc&Mc,e[14]=La^~$a&sc,e[15]=Da^~Qa&ac,e[24]=dc^~xc&Ua,e[25]=fc^~kc&Wa,e[34]=Ga^~ic&bc,e[35]=Za^~oc&gc,e[44]=Sc^~Ba&Ja,e[45]=Ec^~Fa&Ya,e[6]=pc^~Cc&yt,e[7]=yc^~Mc&Oa,e[16]=$a^~sc&cc,e[17]=Qa^~ac&uc,e[26]=xc^~Ua&Va,e[27]=kc^~Wa&Ha,e[36]=ic^~bc&mc,e[37]=oc^~gc&vc,e[46]=Ba^~Ja&Ka,e[47]=Fa^~Ya&Xa,e[8]=Cc^~yt&za,e[9]=Mc^~Oa&qa,e[18]=sc^~cc&_c,e[19]=ac^~uc&wc,e[28]=Ua^~Va&ec,e[29]=Wa^~Ha&tc,e[38]=bc^~mc&Ta,e[39]=gc^~vc&Pa,e[48]=Ja^~Ka&lc,e[49]=Ya^~Xa&hc,e[0]^=lh[t*2],e[1]^=lh[t*2+1]}};const gi=uh;function Rn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Rn.prototype.initialize=function(e,t){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},Rn.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(gi.p1600(this.state),this.count=0)},Rn.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&gi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),gi.p1600(this.state),this.count=0,this.squeezing=!0},Rn.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let n=0;n<e;++n)t[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(gi.p1600(this.state),this.count=0);return t},Rn.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var rw=Rn,iw=nw(rw);const ow=iw,sw=Eo;function hh(e){return Buffer.allocUnsafe(e).fill(0)}function dh(e,t,n){const r=hh(t);return e=mi(e),n?e.length<t?(e.copy(r),r):e.slice(0,t):e.length<t?(e.copy(r,t-e.length),r):e.slice(-t)}function aw(e,t){return dh(e,t,!0)}function mi(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")fh(e)?e=Buffer.from(lw(ph(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(sw.isBN(e))e=e.toArrayLike(Buffer);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function cw(e){return e=mi(e),"0x"+e.toString("hex")}function uw(e,t){return e=mi(e),t||(t=256),ow("keccak"+t).update(e).digest()}function lw(e){return e.length%2?"0"+e:e}function fh(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function ph(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var yh={zeros:hh,setLength:dh,setLengthRight:aw,isHexString:fh,stripHexPrefix:ph,toBuffer:mi,bufferToHex:cw,keccak:uw};const Xt=yh,en=Eo;function bh(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Nn(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function gh(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function mh(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function tn(e){var t=typeof e;if(t==="string")return Xt.isHexString(e)?new en(Xt.stripHexPrefix(e),16):new en(e,10);if(t==="number")return new en(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function ut(e,t){var n,r,i,o;if(e==="address")return ut("uint160",tn(t));if(e==="bool")return ut("uint8",t?1:0);if(e==="string")return ut("bytes",new Buffer(t,"utf8"));if(dw(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(n=mh(e),n!=="dynamic"&&n!==0&&t.length>n)throw new Error("Elements exceed array size: "+n);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(o in t)i.push(ut(e,t[o]));if(n==="dynamic"){var s=ut("uint256",t.length);i.unshift(s)}return Buffer.concat(i)}else{if(e==="bytes")return t=new Buffer(t),i=Buffer.concat([ut("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,Xt.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(n=Nn(e),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Xt.setLengthRight(t,32)}else if(e.startsWith("uint")){if(n=Nn(e),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=tn(t),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(Buffer,"be",32)}else if(e.startsWith("int")){if(n=Nn(e),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=tn(t),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(Buffer,"be",32)}else if(e.startsWith("ufixed")){if(n=gh(e),r=tn(t),r<0)throw new Error("Supplied ufixed is negative");return ut("uint256",r.mul(new en(2).pow(new en(n[1]))))}else if(e.startsWith("fixed"))return n=gh(e),ut("int256",tn(t).mul(new en(2).pow(new en(n[1]))))}throw new Error("Unsupported or invalid type: "+e)}function hw(e){return e==="string"||e==="bytes"||mh(e)==="dynamic"}function dw(e){return e.lastIndexOf("]")===e.length-1}function fw(e,t){var n=[],r=[],i=32*e.length;for(var o in e){var s=bh(e[o]),a=t[o],c=ut(s,a);hw(s)?(n.push(ut("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function vh(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],o=0;o<e.length;o++){var s=bh(e[o]),a=t[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new Buffer(a,"utf8"));else if(s==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(s==="address")i.push(Xt.setLength(a,20));else if(s.startsWith("bytes")){if(n=Nn(s),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Xt.setLengthRight(a,n))}else if(s.startsWith("uint")){if(n=Nn(s),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=tn(a),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());i.push(r.toArrayLike(Buffer,"be",n/8))}else if(s.startsWith("int")){if(n=Nn(s),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=tn(a),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());i.push(r.toTwos(n).toArrayLike(Buffer,"be",n/8))}else throw new Error("Unsupported or invalid type: "+s)}return Buffer.concat(i)}function pw(e,t){return Xt.keccak(vh(e,t))}var yw={rawEncode:fw,solidityPack:vh,soliditySHA3:pw};const nt=yh,vr=yw,_h={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},js={encodeData(e,t,n,r=!0){const i=["bytes32"],o=[this.hashType(e,n)];if(r){const s=(a,c,l)=>{if(n[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":nt.keccak(this.encodeData(c,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",nt.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",nt.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),m=l.map(h=>s(a,u,h));return["bytes32",nt.keccak(vr.rawEncode(m.map(([h])=>h),m.map(([,h])=>h)))]}return[c,l]};for(const a of n[e]){const[c,l]=s(a.name,a.type,t[a.name]);i.push(c),o.push(l)}}else for(const s of n[e]){let a=t[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=nt.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=nt.keccak(a),o.push(a);else if(n[s.type]!==void 0)i.push("bytes32"),a=nt.keccak(this.encodeData(s.type,a,n,r)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return vr.rawEncode(i,o)},encodeType(e,t){let n="",r=this.findTypeDependencies(e,t).filter(i=>i!==e);r=[e].concat(r.sort());for(const i of r){if(!t[i])throw new Error("No type definition specified: "+i);n+=i+"("+t[i].map(({name:o,type:s})=>s+" "+o).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){if(e=e.match(/^\w*/)[0],n.includes(e)||t[e]===void 0)return n;n.push(e);for(const r of t[e])for(const i of this.findTypeDependencies(r.type,t,n))!n.includes(i)&&n.push(i);return n},hashStruct(e,t,n,r=!0){return nt.keccak(this.encodeData(e,t,n,r))},hashType(e,t){return nt.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const n in _h.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const n=this.sanitizeData(e),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,t)),nt.keccak(Buffer.concat(r))}};var bw={TYPED_MESSAGE_SCHEMA:_h,TypedDataUtils:js,hashForSignTypedDataLegacy:function(e){return gw(e.data)},hashForSignTypedData_v3:function(e){return js.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return js.hash(e.data)}};function gw(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const n=e.map(function(o){return o.type==="bytes"?nt.toBuffer(o.value):o.value}),r=e.map(function(o){return o.type}),i=e.map(function(o){if(!o.name)throw t;return o.type+" "+o.name});return vr.soliditySHA3(["bytes32","bytes32"],[vr.soliditySHA3(new Array(e.length).fill("string"),i),vr.soliditySHA3(r,n)])}var On={};Object.defineProperty(On,"__esModule",{value:!0}),On.filterFromParam=On.FilterPolyfill=void 0;const Tn=pr,Be=q,mw=5*60*1e3,nn={jsonrpc:"2.0",id:0};class vw{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Tn.IntNumber)(1),this.provider=t}async newFilter(t){const n=wh(t),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,n.fromBlock);return console.log(`Installing new log filter(${r}):`,n,"initial cursor position:",i),this.logFilters.set(r,n),this.setFilterTimeout(r),(0,Be.hexStringFromIntNumber)(r)}async newBlockFilter(){const t=this.makeFilterId(),n=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,n),this.blockFilters.add(t),this.setFilterTimeout(t),(0,Be.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),n=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,n),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,Be.hexStringFromIntNumber)(t)}uninstallFilter(t){const n=(0,Be.intNumberFromHexString)(t);return console.log(`Uninstalling filter (${n})`),this.deleteFilter(n),!0}getFilterChanges(t){const n=(0,Be.intNumberFromHexString)(t);return this.timeouts.has(n)&&this.setFilterTimeout(n),this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(vi())}async getFilterLogs(t){const n=(0,Be.intNumberFromHexString)(t),r=this.logFilters.get(n);return r?this.sendAsyncPromise(Object.assign(Object.assign({},nn),{method:"eth_getLogs",params:[Sh(r)]})):vi()}makeFilterId(){return(0,Tn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((n,r)=>{this.provider.sendAsync(t,(i,o)=>{if(i)return r(i);if(Array.isArray(o)||o==null)return r(new Error(`unexpected response received: ${JSON.stringify(o)}`));n(o)})})}deleteFilter(t){console.log(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const n=this.logFilters.get(t),r=this.cursors.get(t);if(!r||!n)return vi();const i=await this.getCurrentBlockHeight(),o=n.toBlock==="latest"?i:n.toBlock;if(r>i||r>n.toBlock)return Rs();console.log(`Fetching logs from ${r} to ${o} for filter ${t}`);const s=await this.sendAsyncPromise(Object.assign(Object.assign({},nn),{method:"eth_getLogs",params:[Sh(Object.assign(Object.assign({},n),{fromBlock:r,toBlock:o}))]}));if(Array.isArray(s.result)){const a=s.result.map(l=>(0,Be.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>r){const l=(0,Tn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${t}) from ${r} to ${l}`),this.cursors.set(t,l)}}return s}async getBlockFilterChanges(t){const n=this.cursors.get(t);if(!n)return vi();const r=await this.getCurrentBlockHeight();if(n>r)return Rs();console.log(`Fetching blocks from ${n} to ${r} for filter (${t})`);const i=(await Promise.all((0,Be.range)(n,r+1).map(s=>this.getBlockHashByNumber((0,Tn.IntNumber)(s))))).filter(s=>!!s),o=(0,Tn.IntNumber)(n+i.length);return console.log(`Moving cursor position for filter (${t}) from ${n} to ${o}`),this.cursors.set(t,o),Object.assign(Object.assign({},nn),{result:i})}async getPendingTransactionFilterChanges(t){return Promise.resolve(Rs())}async setInitialCursorPosition(t,n){const r=await this.getCurrentBlockHeight(),i=typeof n=="number"&&n>r?n:r;return this.cursors.set(t,i),i}setFilterTimeout(t){const n=this.timeouts.get(t);n&&window.clearTimeout(n);const r=window.setTimeout(()=>{console.log(`Filter (${t}) timed out`),this.deleteFilter(t)},mw);this.timeouts.set(t,r)}async getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},nn),{method:"eth_blockNumber",params:[]}));return(0,Be.intNumberFromHexString)((0,Be.ensureHexString)(t))}async getBlockHashByNumber(t){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},nn),{method:"eth_getBlockByNumber",params:[(0,Be.hexStringFromIntNumber)(t),!1]}));return n.result&&typeof n.result.hash=="string"?(0,Be.ensureHexString)(n.result.hash):null}}On.FilterPolyfill=vw;function wh(e){return{fromBlock:Eh(e.fromBlock),toBlock:Eh(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}On.filterFromParam=wh;function Sh(e){const t={fromBlock:xh(e.fromBlock),toBlock:xh(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function Eh(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,Tn.IntNumber)(0);if((0,Be.isHexString)(e))return(0,Be.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function xh(e){return e==="latest"?e:(0,Be.hexStringFromIntNumber)(e)}function vi(){return Object.assign(Object.assign({},nn),{error:{code:-32e3,message:"filter not found"}})}function Rs(){return Object.assign(Object.assign({},nn),{result:[]})}var kh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCMethod=void 0,function(t){t.eth_accounts="eth_accounts",t.eth_coinbase="eth_coinbase",t.net_version="net_version",t.eth_chainId="eth_chainId",t.eth_uninstallFilter="eth_uninstallFilter",t.eth_requestAccounts="eth_requestAccounts",t.eth_sign="eth_sign",t.eth_ecRecover="eth_ecRecover",t.personal_sign="personal_sign",t.personal_ecRecover="personal_ecRecover",t.eth_signTransaction="eth_signTransaction",t.eth_sendRawTransaction="eth_sendRawTransaction",t.eth_sendTransaction="eth_sendTransaction",t.eth_signTypedData_v1="eth_signTypedData_v1",t.eth_signTypedData_v2="eth_signTypedData_v2",t.eth_signTypedData_v3="eth_signTypedData_v3",t.eth_signTypedData_v4="eth_signTypedData_v4",t.eth_signTypedData="eth_signTypedData",t.cbWallet_arbitrary="walletlink_arbitrary",t.wallet_addEthereumChain="wallet_addEthereumChain",t.wallet_switchEthereumChain="wallet_switchEthereumChain",t.wallet_watchAsset="wallet_watchAsset",t.eth_subscribe="eth_subscribe",t.eth_unsubscribe="eth_unsubscribe",t.eth_newFilter="eth_newFilter",t.eth_newBlockFilter="eth_newBlockFilter",t.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",t.eth_getFilterChanges="eth_getFilterChanges",t.eth_getFilterLogs="eth_getFilterLogs"}(e.JSONRPCMethod||(e.JSONRPCMethod={}))})(kh);var _i={};const Ch=(e,t)=>function(){const n=t.promiseModule,r=new Array(arguments.length);for(let i=0;i<arguments.length;i++)r[i]=arguments[i];return new n((i,o)=>{t.errorFirst?r.push(function(s,a){if(t.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];s?(c.unshift(s),o(c)):i(c)}else s?o(s):i(a)}):r.push(function(s){if(t.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(s)}),e.apply(this,r)})};var _w=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const n=i=>{const o=s=>typeof s=="string"?i===s:s.test(i);return t.include?t.include.some(o):!t.exclude.some(o)};let r;typeof e=="function"?r=function(){return t.excludeMain?e.apply(this,arguments):Ch(e,t).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(e));for(const i in e){const o=e[i];r[i]=typeof o=="function"&&n(i)?Ch(o,t):o}return r},ww=Ew,Sw=Object.prototype.hasOwnProperty;function Ew(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)Sw.call(n,r)&&(e[r]=n[r])}return e}var xw=kw;function kw(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,n=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return n=n%t,n++}}const Cw=ww,Mw=xw();var Iw=Y;function Y(e){const t=this;t.currentProvider=e}Y.prototype.getBalance=_r(2,"eth_getBalance"),Y.prototype.getCode=_r(2,"eth_getCode"),Y.prototype.getTransactionCount=_r(2,"eth_getTransactionCount"),Y.prototype.getStorageAt=_r(3,"eth_getStorageAt"),Y.prototype.call=_r(2,"eth_call"),Y.prototype.protocolVersion=ie("eth_protocolVersion"),Y.prototype.syncing=ie("eth_syncing"),Y.prototype.coinbase=ie("eth_coinbase"),Y.prototype.mining=ie("eth_mining"),Y.prototype.hashrate=ie("eth_hashrate"),Y.prototype.gasPrice=ie("eth_gasPrice"),Y.prototype.accounts=ie("eth_accounts"),Y.prototype.blockNumber=ie("eth_blockNumber"),Y.prototype.getBlockTransactionCountByHash=ie("eth_getBlockTransactionCountByHash"),Y.prototype.getBlockTransactionCountByNumber=ie("eth_getBlockTransactionCountByNumber"),Y.prototype.getUncleCountByBlockHash=ie("eth_getUncleCountByBlockHash"),Y.prototype.getUncleCountByBlockNumber=ie("eth_getUncleCountByBlockNumber"),Y.prototype.sign=ie("eth_sign"),Y.prototype.sendTransaction=ie("eth_sendTransaction"),Y.prototype.sendRawTransaction=ie("eth_sendRawTransaction"),Y.prototype.estimateGas=ie("eth_estimateGas"),Y.prototype.getBlockByHash=ie("eth_getBlockByHash"),Y.prototype.getBlockByNumber=ie("eth_getBlockByNumber"),Y.prototype.getTransactionByHash=ie("eth_getTransactionByHash"),Y.prototype.getTransactionByBlockHashAndIndex=ie("eth_getTransactionByBlockHashAndIndex"),Y.prototype.getTransactionByBlockNumberAndIndex=ie("eth_getTransactionByBlockNumberAndIndex"),Y.prototype.getTransactionReceipt=ie("eth_getTransactionReceipt"),Y.prototype.getUncleByBlockHashAndIndex=ie("eth_getUncleByBlockHashAndIndex"),Y.prototype.getUncleByBlockNumberAndIndex=ie("eth_getUncleByBlockNumberAndIndex"),Y.prototype.getCompilers=ie("eth_getCompilers"),Y.prototype.compileLLL=ie("eth_compileLLL"),Y.prototype.compileSolidity=ie("eth_compileSolidity"),Y.prototype.compileSerpent=ie("eth_compileSerpent"),Y.prototype.newFilter=ie("eth_newFilter"),Y.prototype.newBlockFilter=ie("eth_newBlockFilter"),Y.prototype.newPendingTransactionFilter=ie("eth_newPendingTransactionFilter"),Y.prototype.uninstallFilter=ie("eth_uninstallFilter"),Y.prototype.getFilterChanges=ie("eth_getFilterChanges"),Y.prototype.getFilterLogs=ie("eth_getFilterLogs"),Y.prototype.getLogs=ie("eth_getLogs"),Y.prototype.getWork=ie("eth_getWork"),Y.prototype.submitWork=ie("eth_submitWork"),Y.prototype.submitHashrate=ie("eth_submitHashrate"),Y.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(Aw(e),function(n,r){if(!n&&r.error&&(n=new Error("EthQuery - RPC Error - "+r.error.message)),n)return t(n);t(null,r.result)})};function ie(e){return function(){const t=this;var n=[].slice.call(arguments),r=n.pop();t.sendAsync({method:e,params:n},r)}}function _r(e,t){return function(){const n=this;var r=[].slice.call(arguments),i=r.pop();r.length<e&&r.push("latest"),n.sendAsync({method:t,params:r},i)}}function Aw(e){return Cw({id:Mw(),jsonrpc:"2.0",params:[]},e)}var Mh={},Ih={},jw=$u,wi=function(){return jw()&&!!Symbol.toStringTag},Rw=wi(),Nw=ai,Ns=Nw("Object.prototype.toString"),Si=function(e){return Rw&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Ns(e)==="[object Arguments]"},Ah=function(e){return Si(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Ns(e)!=="[object Array]"&&Ns(e.callee)==="[object Function]"},Ow=function(){return Si(arguments)}();Si.isLegacyArguments=Ah;var Tw=Ow?Si:Ah,Pw=Object.prototype.toString,Lw=Function.prototype.toString,Dw=/^\s*(?:function)?\*/,jh=wi(),Os=Object.getPrototypeOf,Bw=function(){if(!jh)return!1;try{return Function("return function*() {}")()}catch{}},Ts,Fw=function(e){if(typeof e!="function")return!1;if(Dw.test(Lw.call(e)))return!0;if(!jh){var t=Pw.call(e);return t==="[object GeneratorFunction]"}if(!Os)return!1;if(typeof Ts>"u"){var n=Bw();Ts=n?Os(n):!1}return Os(e)===Ts},Rh=Function.prototype.toString,Pn=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ps,Ei;if(typeof Pn=="function"&&typeof Object.defineProperty=="function")try{Ps=Object.defineProperty({},"length",{get:function(){throw Ei}}),Ei={},Pn(function(){throw 42},null,Ps)}catch(e){e!==Ei&&(Pn=null)}else Pn=null;var Uw=/^\s*class\b/,Ls=function(e){try{var t=Rh.call(e);return Uw.test(t)}catch{return!1}},Ds=function(e){try{return Ls(e)?!1:(Rh.call(e),!0)}catch{return!1}},xi=Object.prototype.toString,Ww="[object Object]",Vw="[object Function]",Hw="[object GeneratorFunction]",zw="[object HTMLAllCollection]",qw="[object HTML document.all class]",Gw="[object HTMLCollection]",Zw=typeof Symbol=="function"&&!!Symbol.toStringTag,$w=!(0 in[,]),Bs=function(){return!1};if(typeof document=="object"){var Qw=document.all;xi.call(Qw)===xi.call(document.all)&&(Bs=function(e){if(($w||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=xi.call(e);return(t===zw||t===qw||t===Gw||t===Ww)&&e("")==null}catch{}return!1})}var Jw=Pn?function(e){if(Bs(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Pn(e,null,Ps)}catch(t){if(t!==Ei)return!1}return!Ls(e)&&Ds(e)}:function(e){if(Bs(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Zw)return Ds(e);if(Ls(e))return!1;var t=xi.call(e);return t!==Vw&&t!==Hw&&!/^\[object HTML/.test(t)?!1:Ds(e)},Yw=Jw,Kw=Object.prototype.toString,Nh=Object.prototype.hasOwnProperty,Xw=function(e,t,n){for(var r=0,i=e.length;r<i;r++)Nh.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))},e2=function(e,t,n){for(var r=0,i=e.length;r<i;r++)n==null?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},t2=function(e,t,n){for(var r in e)Nh.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))},n2=function(e,t,n){if(!Yw(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=n),Kw.call(e)==="[object Array]"?Xw(e,t,r):typeof e=="string"?e2(e,t,r):t2(e,t,r)},Oh=n2,Fs=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r2=typeof globalThis>"u"?ee:globalThis,Th=function(){for(var e=[],t=0;t<Fs.length;t++)typeof r2[Fs[t]]=="function"&&(e[e.length]=Fs[t]);return e},i2=si,ki=i2("%Object.getOwnPropertyDescriptor%",!0);if(ki)try{ki([],"length")}catch{ki=null}var Ph=ki,Lh=Oh,o2=Th,Us=ai,s2=Us("Object.prototype.toString"),Dh=wi(),Ci=Ph,a2=typeof globalThis>"u"?ee:globalThis,Bh=o2(),c2=Us("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},u2=Us("String.prototype.slice"),Fh={},Ws=Object.getPrototypeOf;Dh&&Ci&&Ws&&Lh(Bh,function(e){var t=new a2[e];if(Symbol.toStringTag in t){var n=Ws(t),r=Ci(n,Symbol.toStringTag);if(!r){var i=Ws(n);r=Ci(i,Symbol.toStringTag)}Fh[e]=r.get}});var l2=function(e){var t=!1;return Lh(Fh,function(n,r){if(!t)try{t=n.call(e)===r}catch{}}),t},Uh=function(e){if(!e||typeof e!="object")return!1;if(!Dh||!(Symbol.toStringTag in e)){var t=u2(s2(e),8,-1);return c2(Bh,t)>-1}return Ci?l2(e):!1},Wh=Oh,h2=Th,Vh=ai,Vs=Ph,d2=Vh("Object.prototype.toString"),Hh=wi(),zh=typeof globalThis>"u"?ee:globalThis,f2=h2(),p2=Vh("String.prototype.slice"),qh={},Hs=Object.getPrototypeOf;Hh&&Vs&&Hs&&Wh(f2,function(e){if(typeof zh[e]=="function"){var t=new zh[e];if(Symbol.toStringTag in t){var n=Hs(t),r=Vs(n,Symbol.toStringTag);if(!r){var i=Hs(n);r=Vs(i,Symbol.toStringTag)}qh[e]=r.get}}});var y2=function(e){var t=!1;return Wh(qh,function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch{}}),t},b2=Uh,g2=function(e){return b2(e)?!Hh||!(Symbol.toStringTag in e)?p2(d2(e),8,-1):y2(e):!1};(function(e){var t=Tw,n=Fw,r=g2,i=Uh;function o(j){return j.call.bind(j)}var s=typeof BigInt<"u",a=typeof Symbol<"u",c=o(Object.prototype.toString),l=o(Number.prototype.valueOf),u=o(String.prototype.valueOf),m=o(Boolean.prototype.valueOf);if(s)var h=o(BigInt.prototype.valueOf);if(a)var d=o(Symbol.prototype.valueOf);function w(j,an){if(typeof j!="object")return!1;try{return an(j),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function I(j){return typeof Promise<"u"&&j instanceof Promise||j!==null&&typeof j=="object"&&typeof j.then=="function"&&typeof j.catch=="function"}e.isPromise=I;function L(j){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(j):i(j)||S(j)}e.isArrayBufferView=L;function y(j){return r(j)==="Uint8Array"}e.isUint8Array=y;function v(j){return r(j)==="Uint8ClampedArray"}e.isUint8ClampedArray=v;function E(j){return r(j)==="Uint16Array"}e.isUint16Array=E;function R(j){return r(j)==="Uint32Array"}e.isUint32Array=R;function U(j){return r(j)==="Int8Array"}e.isInt8Array=U;function G(j){return r(j)==="Int16Array"}e.isInt16Array=G;function $(j){return r(j)==="Int32Array"}e.isInt32Array=$;function z(j){return r(j)==="Float32Array"}e.isFloat32Array=z;function W(j){return r(j)==="Float64Array"}e.isFloat64Array=W;function ue(j){return r(j)==="BigInt64Array"}e.isBigInt64Array=ue;function oe(j){return r(j)==="BigUint64Array"}e.isBigUint64Array=oe;function J(j){return c(j)==="[object Map]"}J.working=typeof Map<"u"&&J(new Map);function X(j){return typeof Map>"u"?!1:J.working?J(j):j instanceof Map}e.isMap=X;function V(j){return c(j)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function se(j){return typeof Set>"u"?!1:V.working?V(j):j instanceof Set}e.isSet=se;function fe(j){return c(j)==="[object WeakMap]"}fe.working=typeof WeakMap<"u"&&fe(new WeakMap);function x(j){return typeof WeakMap>"u"?!1:fe.working?fe(j):j instanceof WeakMap}e.isWeakMap=x;function k(j){return c(j)==="[object WeakSet]"}k.working=typeof WeakSet<"u"&&k(new WeakSet);function M(j){return k(j)}e.isWeakSet=M;function N(j){return c(j)==="[object ArrayBuffer]"}N.working=typeof ArrayBuffer<"u"&&N(new ArrayBuffer);function D(j){return typeof ArrayBuffer>"u"?!1:N.working?N(j):j instanceof ArrayBuffer}e.isArrayBuffer=D;function b(j){return c(j)==="[object DataView]"}b.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&b(new DataView(new ArrayBuffer(1),0,1));function S(j){return typeof DataView>"u"?!1:b.working?b(j):j instanceof DataView}e.isDataView=S;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function H(j){return c(j)==="[object SharedArrayBuffer]"}function g(j){return typeof A>"u"?!1:(typeof H.working>"u"&&(H.working=H(new A)),H.working?H(j):j instanceof A)}e.isSharedArrayBuffer=g;function _(j){return c(j)==="[object AsyncFunction]"}e.isAsyncFunction=_;function C(j){return c(j)==="[object Map Iterator]"}e.isMapIterator=C;function O(j){return c(j)==="[object Set Iterator]"}e.isSetIterator=O;function F(j){return c(j)==="[object Generator]"}e.isGeneratorObject=F;function f(j){return c(j)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=f;function p(j){return w(j,l)}e.isNumberObject=p;function T(j){return w(j,u)}e.isStringObject=T;function B(j){return w(j,m)}e.isBooleanObject=B;function de(j){return s&&w(j,h)}e.isBigIntObject=de;function te(j){return a&&w(j,d)}e.isSymbolObject=te;function le(j){return p(j)||T(j)||B(j)||de(j)||te(j)}e.isBoxedPrimitive=le;function Et(j){return typeof Uint8Array<"u"&&(D(j)||g(j))}e.isAnyArrayBuffer=Et,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(j){Object.defineProperty(e,j,{enumerable:!1,value:function(){throw new Error(j+" is not supported in userland")}})})})(Ih);var m2=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(e){var t=Object.getOwnPropertyDescriptors||function(b){for(var S=Object.keys(b),A={},H=0;H<S.length;H++)A[S[H]]=Object.getOwnPropertyDescriptor(b,S[H]);return A},n=/%[sdj%]/g;e.format=function(b){if(!U(b)){for(var S=[],A=0;A<arguments.length;A++)S.push(s(arguments[A]));return S.join(" ")}for(var A=1,H=arguments,g=H.length,_=String(b).replace(n,function(F){if(F==="%%")return"%";if(A>=g)return F;switch(F){case"%s":return String(H[A++]);case"%d":return Number(H[A++]);case"%j":try{return JSON.stringify(H[A++])}catch{return"[Circular]"}default:return F}}),C=H[A];A<g;C=H[++A])v(C)||!W(C)?_+=" "+C:_+=" "+s(C);return _},e.deprecate=function(b,S){if(typeof process<"u"&&process.noDeprecation===!0)return b;if(typeof process>"u")return function(){return e.deprecate(b,S).apply(this,arguments)};var A=!1;function H(){if(!A){if(process.throwDeprecation)throw new Error(S);process.traceDeprecation?console.trace(S):console.error(S),A=!0}return b.apply(this,arguments)}return H};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(b){if(b=b.toUpperCase(),!r[b])if(i.test(b)){var S=process.pid;r[b]=function(){var A=e.format.apply(e,arguments);console.error("%s %d: %s",b,S,A)}}else r[b]=function(){};return r[b]};function s(b,S){var A={seen:[],stylize:c};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),y(S)?A.showHidden=S:S&&e._extend(A,S),$(A.showHidden)&&(A.showHidden=!1),$(A.depth)&&(A.depth=2),$(A.colors)&&(A.colors=!1),$(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=a),u(A,b,A.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(b,S){var A=s.styles[S];return A?"\x1B["+s.colors[A][0]+"m"+b+"\x1B["+s.colors[A][1]+"m":b}function c(b,S){return b}function l(b){var S={};return b.forEach(function(A,H){S[A]=!0}),S}function u(b,S,A){if(b.customInspect&&S&&J(S.inspect)&&S.inspect!==e.inspect&&!(S.constructor&&S.constructor.prototype===S)){var H=S.inspect(A,b);return U(H)||(H=u(b,H,A)),H}var g=m(b,S);if(g)return g;var _=Object.keys(S),C=l(_);if(b.showHidden&&(_=Object.getOwnPropertyNames(S)),oe(S)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return h(S);if(_.length===0){if(J(S)){var O=S.name?": "+S.name:"";return b.stylize("[Function"+O+"]","special")}if(z(S))return b.stylize(RegExp.prototype.toString.call(S),"regexp");if(ue(S))return b.stylize(Date.prototype.toString.call(S),"date");if(oe(S))return h(S)}var F="",f=!1,p=["{","}"];if(L(S)&&(f=!0,p=["[","]"]),J(S)){var T=S.name?": "+S.name:"";F=" [Function"+T+"]"}if(z(S)&&(F=" "+RegExp.prototype.toString.call(S)),ue(S)&&(F=" "+Date.prototype.toUTCString.call(S)),oe(S)&&(F=" "+h(S)),_.length===0&&(!f||S.length==0))return p[0]+F+p[1];if(A<0)return z(S)?b.stylize(RegExp.prototype.toString.call(S),"regexp"):b.stylize("[Object]","special");b.seen.push(S);var B;return f?B=d(b,S,A,C,_):B=_.map(function(de){return w(b,S,A,C,de,f)}),b.seen.pop(),I(B,F,p)}function m(b,S){if($(S))return b.stylize("undefined","undefined");if(U(S)){var A="'"+JSON.stringify(S).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return b.stylize(A,"string")}if(R(S))return b.stylize(""+S,"number");if(y(S))return b.stylize(""+S,"boolean");if(v(S))return b.stylize("null","null")}function h(b){return"["+Error.prototype.toString.call(b)+"]"}function d(b,S,A,H,g){for(var _=[],C=0,O=S.length;C<O;++C)k(S,String(C))?_.push(w(b,S,A,H,String(C),!0)):_.push("");return g.forEach(function(F){F.match(/^\d+$/)||_.push(w(b,S,A,H,F,!0))}),_}function w(b,S,A,H,g,_){var C,O,F;if(F=Object.getOwnPropertyDescriptor(S,g)||{value:S[g]},F.get?F.set?O=b.stylize("[Getter/Setter]","special"):O=b.stylize("[Getter]","special"):F.set&&(O=b.stylize("[Setter]","special")),k(H,g)||(C="["+g+"]"),O||(b.seen.indexOf(F.value)<0?(v(A)?O=u(b,F.value,null):O=u(b,F.value,A-1),O.indexOf(`
`)>-1&&(_?O=O.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):O=`
`+O.split(`
`).map(function(f){return"   "+f}).join(`
`))):O=b.stylize("[Circular]","special")),$(C)){if(_&&g.match(/^\d+$/))return O;C=JSON.stringify(""+g),C.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(C=C.slice(1,-1),C=b.stylize(C,"name")):(C=C.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),C=b.stylize(C,"string"))}return C+": "+O}function I(b,S,A){var H=b.reduce(function(g,_){return _.indexOf(`
`)>=0,g+_.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?A[0]+(S===""?"":S+`
 `)+" "+b.join(`,
  `)+" "+A[1]:A[0]+S+" "+b.join(", ")+" "+A[1]}e.types=Ih;function L(b){return Array.isArray(b)}e.isArray=L;function y(b){return typeof b=="boolean"}e.isBoolean=y;function v(b){return b===null}e.isNull=v;function E(b){return b==null}e.isNullOrUndefined=E;function R(b){return typeof b=="number"}e.isNumber=R;function U(b){return typeof b=="string"}e.isString=U;function G(b){return typeof b=="symbol"}e.isSymbol=G;function $(b){return b===void 0}e.isUndefined=$;function z(b){return W(b)&&V(b)==="[object RegExp]"}e.isRegExp=z,e.types.isRegExp=z;function W(b){return typeof b=="object"&&b!==null}e.isObject=W;function ue(b){return W(b)&&V(b)==="[object Date]"}e.isDate=ue,e.types.isDate=ue;function oe(b){return W(b)&&(V(b)==="[object Error]"||b instanceof Error)}e.isError=oe,e.types.isNativeError=oe;function J(b){return typeof b=="function"}e.isFunction=J;function X(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||typeof b>"u"}e.isPrimitive=X,e.isBuffer=m2;function V(b){return Object.prototype.toString.call(b)}function se(b){return b<10?"0"+b.toString(10):b.toString(10)}var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var b=new Date,S=[se(b.getHours()),se(b.getMinutes()),se(b.getSeconds())].join(":");return[b.getDate(),fe[b.getMonth()],S].join(" ")}e.log=function(){console.log("%s - %s",x(),e.format.apply(e,arguments))},e.inherits=Xe,e._extend=function(b,S){if(!S||!W(S))return b;for(var A=Object.keys(S),H=A.length;H--;)b[A[H]]=S[A[H]];return b};function k(b,S){return Object.prototype.hasOwnProperty.call(b,S)}var M=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');if(M&&b[M]){var S=b[M];if(typeof S!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(S,M,{value:S,enumerable:!1,writable:!1,configurable:!0}),S}function S(){for(var A,H,g=new Promise(function(O,F){A=O,H=F}),_=[],C=0;C<arguments.length;C++)_.push(arguments[C]);_.push(function(O,F){O?H(O):A(F)});try{b.apply(this,_)}catch(O){H(O)}return g}return Object.setPrototypeOf(S,Object.getPrototypeOf(b)),M&&Object.defineProperty(S,M,{value:S,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(S,t(b))},e.promisify.custom=M;function N(b,S){if(!b){var A=new Error("Promise was rejected with a falsy value");A.reason=b,b=A}return S(b)}function D(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');function S(){for(var A=[],H=0;H<arguments.length;H++)A.push(arguments[H]);var g=A.pop();if(typeof g!="function")throw new TypeError("The last argument must be of type Function");var _=this,C=function(){return g.apply(_,arguments)};b.apply(this,A).then(function(O){process.nextTick(C.bind(null,null,O))},function(O){process.nextTick(N.bind(null,O,C))})}return Object.setPrototypeOf(S,Object.getPrototypeOf(b)),Object.defineProperties(S,t(b)),S}e.callbackify=D})(Mh);const v2=Mh,Gh=wo;var zs=typeof Reflect=="object"?Reflect:null,_2=zs&&typeof zs.apply=="function"?zs.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},w2=qs;function qs(){Gh.call(this)}v2.inherits(qs,Gh),qs.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")Zh(a,this,t);else for(var c=a.length,l=S2(a,c),n=0;n<c;++n)Zh(l[n],this,t);return!0};function Zh(e,t,n){try{_2(e,t,n)}catch(r){setTimeout(()=>{throw r})}}function S2(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}const E2=w2,x2=1e3,k2=(e,t)=>e+t,$h=["sync","latest"];var C2=class extends E2{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*x2,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(e=>this.once("latest",e))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){$h.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return $h.map(e=>this.listenerCount(e)).reduce(k2)}_newPotentialLatest(e){const t=this._currentBlock;t&&Qh(e)<=Qh(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};function Qh(e){return Number.parseInt(e,16)}const M2=_w,I2=C2,A2=1e3;var j2=class extends I2{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||20*A2,n=e.retryTimeout||t/10,r=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,i=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=n,this._keepEventLoopActive=r,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Jh(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const t=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",t)}catch{console.error(t)}await Jh(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await M2(n=>this._provider.sendAsync(e,n))();if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${t.error}`);return t.result}};function Jh(e,t){return new Promise(n=>{const r=setTimeout(n,e);r.unref&&t&&r.unref()})}var Mi={},R2={get exports(){return Mi},set exports(e){Mi=e}},N2=function(e){return(t,n,r,i)=>{const o=e[t.method];return o===void 0?r():typeof o=="function"?o(t,n,r,i):(n.result=o,i())}};(function(e){e.exports=N2})(R2);var Gs={},Ii={},wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.getUniqueId=void 0;const Yh=4294967295;let Zs=Math.floor(Math.random()*Yh);function O2(){return Zs=(Zs+1)%Yh,Zs}wr.getUniqueId=O2,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.createIdRemapMiddleware=void 0;const T2=wr;function P2(){return(e,t,n,r)=>{const i=e.id,o=T2.getUniqueId();e.id=o,t.id=o,n(s=>{e.id=i,t.id=i,s()})}}Ii.createIdRemapMiddleware=P2;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.createAsyncMiddleware=void 0;function L2(e){return async(t,n,r,i)=>{let o;const s=new Promise(u=>{o=u});let a=null,c=!1;const l=async()=>{c=!0,r(u=>{a=u,o()}),await s};try{await e(t,n,l),c?(await s,a(null)):i(null)}catch(u){a?a(u):i(u)}}}Ai.createAsyncMiddleware=L2;var ji={};Object.defineProperty(ji,"__esModule",{value:!0}),ji.createScaffoldMiddleware=void 0;function D2(e){return(t,n,r,i)=>{const o=e[t.method];return o===void 0?r():typeof o=="function"?o(t,n,r,i):(n.result=o,i())}}ji.createScaffoldMiddleware=D2;var Sr={},Kh={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.EthereumProviderError=Pt.EthereumRpcError=void 0;const B2=jc;class Xh extends Error{constructor(t,n,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=t,r!==void 0&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return B2.default(this.serialize(),W2,2)}}Pt.EthereumRpcError=Xh;class F2 extends Xh{constructor(t,n,r){if(!U2(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,n,r)}}Pt.EthereumProviderError=F2;function U2(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function W2(e,t){if(t!=="[Circular]")return t}var $s={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.errorValues=Lt.errorCodes=void 0,Lt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Lt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Lt,n=Pt,r=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:r,message:s(r)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(h,d=i){if(Number.isInteger(h)){const w=h.toString();if(m(t.errorValues,w))return t.errorValues[w].message;if(l(h))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return d}e.getMessageFromCode=s;function a(h){if(!Number.isInteger(h))return!1;const d=h.toString();return!!(t.errorValues[d]||l(h))}e.isValidCode=a;function c(h,{fallbackError:d=o,shouldIncludeStack:w=!1}={}){var I,L;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof n.EthereumRpcError)return h.serialize();const y={};if(h&&typeof h=="object"&&!Array.isArray(h)&&m(h,"code")&&a(h.code)){const E=h;y.code=E.code,E.message&&typeof E.message=="string"?(y.message=E.message,m(E,"data")&&(y.data=E.data)):(y.message=s(y.code),y.data={originalError:u(h)})}else{y.code=d.code;const E=(I=h)===null||I===void 0?void 0:I.message;y.message=E&&typeof E=="string"?E:d.message,y.data={originalError:u(h)}}const v=(L=h)===null||L===void 0?void 0:L.stack;return w&&h&&v&&typeof v=="string"&&(y.stack=v),y}e.serializeError=c;function l(h){return h>=-32099&&h<=-32e3}function u(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function m(h,d){return Object.prototype.hasOwnProperty.call(h,d)}}($s);var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.ethErrors=void 0;const Qs=Pt,ed=$s,Oe=Lt;Ri.ethErrors={rpc:{parse:e=>Qe(Oe.errorCodes.rpc.parse,e),invalidRequest:e=>Qe(Oe.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Qe(Oe.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Qe(Oe.errorCodes.rpc.methodNotFound,e),internal:e=>Qe(Oe.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Qe(t,e)},invalidInput:e=>Qe(Oe.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Qe(Oe.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Qe(Oe.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Qe(Oe.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Qe(Oe.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Qe(Oe.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Er(Oe.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Er(Oe.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Er(Oe.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Er(Oe.errorCodes.provider.disconnected,e),chainDisconnected:e=>Er(Oe.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Qs.EthereumProviderError(t,n,r)}}};function Qe(e,t){const[n,r]=td(t);return new Qs.EthereumRpcError(e,n||ed.getMessageFromCode(e),r)}function Er(e,t){const[n,r]=td(t);return new Qs.EthereumProviderError(e,n||ed.getMessageFromCode(e),r)}function td(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Pt;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=$s;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Ri;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Lt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Kh);var V2=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.JsonRpcEngine=void 0;const H2=V2(un),Je=Kh;class wt extends H2.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?n?this._handleBatch(t,n):this._handleBatch(t):n?this._handle(t,n):this._promiseHandle(t)}asMiddleware(){return async(t,n,r,i)=>{try{const[o,s,a]=await wt._runAllMiddleware(t,n,this._middleware);return s?(await wt._runReturnHandlers(a),i(o)):r(async c=>{try{await wt._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(o){return i(o)}}}async _handleBatch(t,n){try{const r=await Promise.all(t.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(t){return new Promise(n=>{this._handle(t,(r,i)=>{n(i)})})}async _handle(t,n){if(!t||Array.isArray(t)||typeof t!="object"){const s=new Je.EthereumRpcError(Je.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return n(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof t.method!="string"){const s=new Je.EthereumRpcError(Je.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return n(s,{id:t.id,jsonrpc:"2.0",error:s})}const r=Object.assign({},t),i={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,i)}catch(s){o=s}return o&&(delete i.result,i.error||(i.error=Je.serializeError(o))),n(o,i)}async _processRequest(t,n){const[r,i,o]=await wt._runAllMiddleware(t,n,this._middleware);if(wt._checkForCompletion(t,n,i),await wt._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(t,n,r){const i=[];let o=null,s=!1;for(const a of r)if([o,s]=await wt._runMiddleware(t,n,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(t,n,r,i){return new Promise(o=>{const s=c=>{const l=c||n.error;l&&(n.error=Je.serializeError(l)),o([l,!0])},a=c=>{n.error?s(n.error):(c&&(typeof c!="function"&&s(new Je.EthereumRpcError(Je.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Js(t)}`,{request:t})),i.push(c)),o([null,!1]))};try{r(t,n,a,s)}catch(c){s(c)}})}static async _runReturnHandlers(t){for(const n of t)await new Promise((r,i)=>{n(o=>o?i(o):r())})}static _checkForCompletion(t,n,r){if(!("result"in n)&&!("error"in n))throw new Je.EthereumRpcError(Je.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Js(t)}`,{request:t});if(!r)throw new Je.EthereumRpcError(Je.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Js(t)}`,{request:t})}}Sr.JsonRpcEngine=wt;function Js(e){return JSON.stringify(e,null,2)}var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.mergeMiddleware=void 0;const z2=Sr;function q2(e){const t=new z2.JsonRpcEngine;return e.forEach(n=>t.push(n)),t.asMiddleware()}Ni.mergeMiddleware=q2,function(e){var t=ee&&ee.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ee&&ee.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ii,e),n(Ai,e),n(ji,e),n(wr,e),n(Sr,e),n(Ni,e)}(Gs);var nd={},Ys={},xr={},G2={get exports(){return xr},set exports(e){xr=e}};(function(e){var t,n,r,i,o,s,a,c,l,u,m,h,d,w,I,L,y,v,E,R,U,G,$,z,W,ue,oe,J,X;(function(V){var se=typeof ee=="object"?ee:typeof self=="object"?self:typeof this=="object"?this:{};V(fe(se,fe(e.exports)));function fe(x,k){return x!==se&&(typeof Object.create=="function"?Object.defineProperty(x,"__esModule",{value:!0}):x.__esModule=!0),function(M,N){return x[M]=k?k(M,N):N}}})(function(V){var se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,k){x.__proto__=k}||function(x,k){for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(x[M]=k[M])};t=function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");se(x,k);function M(){this.constructor=x}x.prototype=k===null?Object.create(k):(M.prototype=k.prototype,new M)},n=Object.assign||function(x){for(var k,M=1,N=arguments.length;M<N;M++){k=arguments[M];for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(x[D]=k[D])}return x},r=function(x,k){var M={};for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&k.indexOf(N)<0&&(M[N]=x[N]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,N=Object.getOwnPropertySymbols(x);D<N.length;D++)k.indexOf(N[D])<0&&Object.prototype.propertyIsEnumerable.call(x,N[D])&&(M[N[D]]=x[N[D]]);return M},i=function(x,k,M,N){var D=arguments.length,b=D<3?k:N===null?N=Object.getOwnPropertyDescriptor(k,M):N,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(x,k,M,N);else for(var A=x.length-1;A>=0;A--)(S=x[A])&&(b=(D<3?S(b):D>3?S(k,M,b):S(k,M))||b);return D>3&&b&&Object.defineProperty(k,M,b),b},o=function(x,k){return function(M,N){k(M,N,x)}},s=function(x,k,M,N,D,b){function S(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var A=N.kind,H=A==="getter"?"get":A==="setter"?"set":"value",g=!k&&x?N.static?x:x.prototype:null,_=k||(g?Object.getOwnPropertyDescriptor(g,N.name):{}),C,O=!1,F=M.length-1;F>=0;F--){var f={};for(var p in N)f[p]=p==="access"?{}:N[p];for(var p in N.access)f.access[p]=N.access[p];f.addInitializer=function(B){if(O)throw new TypeError("Cannot add initializers after decoration has completed");b.push(S(B||null))};var T=(0,M[F])(A==="accessor"?{get:_.get,set:_.set}:_[H],f);if(A==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(C=S(T.get))&&(_.get=C),(C=S(T.set))&&(_.set=C),(C=S(T.init))&&D.push(C)}else(C=S(T))&&(A==="field"?D.push(C):_[H]=C)}g&&Object.defineProperty(g,N.name,_),O=!0},a=function(x,k,M){for(var N=arguments.length>2,D=0;D<k.length;D++)M=N?k[D].call(x,M):k[D].call(x);return N?M:void 0},c=function(x){return typeof x=="symbol"?x:"".concat(x)},l=function(x,k,M){return typeof k=="symbol"&&(k=k.description?"[".concat(k.description,"]"):""),Object.defineProperty(x,"name",{configurable:!0,value:M?"".concat(M," ",k):k})},u=function(x,k){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(x,k)},m=function(x,k,M,N){function D(b){return b instanceof M?b:new M(function(S){S(b)})}return new(M||(M=Promise))(function(b,S){function A(_){try{g(N.next(_))}catch(C){S(C)}}function H(_){try{g(N.throw(_))}catch(C){S(C)}}function g(_){_.done?b(_.value):D(_.value).then(A,H)}g((N=N.apply(x,k||[])).next())})},h=function(x,k){var M={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},N,D,b,S;return S={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function A(g){return function(_){return H([g,_])}}function H(g){if(N)throw new TypeError("Generator is already executing.");for(;S&&(S=0,g[0]&&(M=0)),M;)try{if(N=1,D&&(b=g[0]&2?D.return:g[0]?D.throw||((b=D.return)&&b.call(D),0):D.next)&&!(b=b.call(D,g[1])).done)return b;switch(D=0,b&&(g=[g[0]&2,b.value]),g[0]){case 0:case 1:b=g;break;case 4:return M.label++,{value:g[1],done:!1};case 5:M.label++,D=g[1],g=[0];continue;case 7:g=M.ops.pop(),M.trys.pop();continue;default:if(b=M.trys,!(b=b.length>0&&b[b.length-1])&&(g[0]===6||g[0]===2)){M=0;continue}if(g[0]===3&&(!b||g[1]>b[0]&&g[1]<b[3])){M.label=g[1];break}if(g[0]===6&&M.label<b[1]){M.label=b[1],b=g;break}if(b&&M.label<b[2]){M.label=b[2],M.ops.push(g);break}b[2]&&M.ops.pop(),M.trys.pop();continue}g=k.call(x,M)}catch(_){g=[6,_],D=0}finally{N=b=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},d=function(x,k){for(var M in x)M!=="default"&&!Object.prototype.hasOwnProperty.call(k,M)&&X(k,x,M)},X=Object.create?function(x,k,M,N){N===void 0&&(N=M);var D=Object.getOwnPropertyDescriptor(k,M);(!D||("get"in D?!k.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return k[M]}}),Object.defineProperty(x,N,D)}:function(x,k,M,N){N===void 0&&(N=M),x[N]=k[M]},w=function(x){var k=typeof Symbol=="function"&&Symbol.iterator,M=k&&x[k],N=0;if(M)return M.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&N>=x.length&&(x=void 0),{value:x&&x[N++],done:!x}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")},I=function(x,k){var M=typeof Symbol=="function"&&x[Symbol.iterator];if(!M)return x;var N=M.call(x),D,b=[],S;try{for(;(k===void 0||k-- >0)&&!(D=N.next()).done;)b.push(D.value)}catch(A){S={error:A}}finally{try{D&&!D.done&&(M=N.return)&&M.call(N)}finally{if(S)throw S.error}}return b},L=function(){for(var x=[],k=0;k<arguments.length;k++)x=x.concat(I(arguments[k]));return x},y=function(){for(var x=0,k=0,M=arguments.length;k<M;k++)x+=arguments[k].length;for(var N=Array(x),D=0,k=0;k<M;k++)for(var b=arguments[k],S=0,A=b.length;S<A;S++,D++)N[D]=b[S];return N},v=function(x,k,M){if(M||arguments.length===2)for(var N=0,D=k.length,b;N<D;N++)(b||!(N in k))&&(b||(b=Array.prototype.slice.call(k,0,N)),b[N]=k[N]);return x.concat(b||Array.prototype.slice.call(k))},E=function(x){return this instanceof E?(this.v=x,this):new E(x)},R=function(x,k,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=M.apply(x,k||[]),D,b=[];return D={},S("next"),S("throw"),S("return"),D[Symbol.asyncIterator]=function(){return this},D;function S(O){N[O]&&(D[O]=function(F){return new Promise(function(f,p){b.push([O,F,f,p])>1||A(O,F)})})}function A(O,F){try{H(N[O](F))}catch(f){C(b[0][3],f)}}function H(O){O.value instanceof E?Promise.resolve(O.value.v).then(g,_):C(b[0][2],O)}function g(O){A("next",O)}function _(O){A("throw",O)}function C(O,F){O(F),b.shift(),b.length&&A(b[0][0],b[0][1])}},U=function(x){var k,M;return k={},N("next"),N("throw",function(D){throw D}),N("return"),k[Symbol.iterator]=function(){return this},k;function N(D,b){k[D]=x[D]?function(S){return(M=!M)?{value:E(x[D](S)),done:!1}:b?b(S):S}:b}},G=function(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=x[Symbol.asyncIterator],M;return k?k.call(x):(x=typeof w=="function"?w(x):x[Symbol.iterator](),M={},N("next"),N("throw"),N("return"),M[Symbol.asyncIterator]=function(){return this},M);function N(b){M[b]=x[b]&&function(S){return new Promise(function(A,H){S=x[b](S),D(A,H,S.done,S.value)})}}function D(b,S,A,H){Promise.resolve(H).then(function(g){b({value:g,done:A})},S)}},$=function(x,k){return Object.defineProperty?Object.defineProperty(x,"raw",{value:k}):x.raw=k,x};var fe=Object.create?function(x,k){Object.defineProperty(x,"default",{enumerable:!0,value:k})}:function(x,k){x.default=k};z=function(x){if(x&&x.__esModule)return x;var k={};if(x!=null)for(var M in x)M!=="default"&&Object.prototype.hasOwnProperty.call(x,M)&&X(k,x,M);return fe(k,x),k},W=function(x){return x&&x.__esModule?x:{default:x}},ue=function(x,k,M,N){if(M==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof k=="function"?x!==k||!N:!k.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return M==="m"?N:M==="a"?N.call(x):N?N.value:k.get(x)},oe=function(x,k,M,N,D){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!D)throw new TypeError("Private accessor was defined without a setter");if(typeof k=="function"?x!==k||!D:!k.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?D.call(x,M):D?D.value=M:k.set(x,M),M},J=function(x,k){if(k===null||typeof k!="object"&&typeof k!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof x=="function"?k===x:x.has(k)},V("__extends",t),V("__assign",n),V("__rest",r),V("__decorate",i),V("__param",o),V("__esDecorate",s),V("__runInitializers",a),V("__propKey",c),V("__setFunctionName",l),V("__metadata",u),V("__awaiter",m),V("__generator",h),V("__exportStar",d),V("__createBinding",X),V("__values",w),V("__read",I),V("__spread",L),V("__spreadArrays",y),V("__spreadArray",v),V("__await",E),V("__asyncGenerator",R),V("__asyncDelegator",U),V("__asyncValues",G),V("__makeTemplateObject",$),V("__importStar",z),V("__importDefault",W),V("__classPrivateFieldGet",ue),V("__classPrivateFieldSet",oe),V("__classPrivateFieldIn",J)})})(G2);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});var rd=xr,Z2=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,n=this.isLocked(),r=new Promise(function(i){return t._queue.push(i)});return n||this._dispatch(),r},e.prototype.runExclusive=function(t){return rd.__awaiter(this,void 0,void 0,function(){var n,r,i;return rd.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:n=o.sent(),r=n[0],i=n[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,t(r)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,n=this._queue.shift();if(n){var r=!1;this._currentReleaser=function(){r||(r=!0,t._value++,t._dispatch())},n([this._value--,this._currentReleaser])}},e}();Oi.default=Z2,Object.defineProperty(Ys,"__esModule",{value:!0});var id=xr,$2=Oi,Q2=function(){function e(){this._semaphore=new $2.default(1)}return e.prototype.acquire=function(){return id.__awaiter(this,void 0,void 0,function(){var t,n;return id.__generator(this,function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=r.sent(),n=t[1],[2,n]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Ys.default=Q2;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.withTimeout=void 0;var Pi=xr;function J2(e,t,n){var r=this;return n===void 0&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return Pi.__awaiter(r,void 0,void 0,function(){var s,a,c;return Pi.__generator(this,function(l){switch(l.label){case 0:return s=!1,setTimeout(function(){s=!0,o(n)},t),[4,e.acquire()];case 1:return a=l.sent(),s?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Pi.__awaiter(this,void 0,void 0,function(){var o,s;return Pi.__generator(this,function(a){switch(a.label){case 0:o=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return s=a.sent(),Array.isArray(s)?(o=s[1],[4,i(s[0])]):[3,4];case 3:return[2,a.sent()];case 4:return o=s,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}Ti.withTimeout=J2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Ys;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var n=Oi;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return n.default}});var r=Ti;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return r.withTimeout}})}(nd);const od=(e,t,n,r)=>function(...i){const o=t.promiseModule;return new o((s,a)=>{t.multiArgs?i.push((...c)=>{t.errorFirst?c[0]?a(c):(c.shift(),s(c)):s(c)}):t.errorFirst?i.push((c,l)=>{c?a(c):s(l)}):i.push(s),Reflect.apply(e,this===n?r:this,i)})},sd=new WeakMap;var Y2=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const n=typeof e;if(!(e!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":n}\``);const r=(s,a)=>{let c=sd.get(s);if(c||(c={},sd.set(s,c)),a in c)return c[a];const l=d=>typeof d=="string"||typeof a=="symbol"?a===d:d.test(a),u=Reflect.getOwnPropertyDescriptor(s,a),m=u===void 0||u.writable||u.configurable,h=(t.include?t.include.some(l):!t.exclude.some(l))&&m;return c[a]=h,h},i=new WeakMap,o=new Proxy(e,{apply(s,a,c){const l=i.get(s);if(l)return Reflect.apply(l,a,c);const u=t.excludeMain?s:od(s,t,o,s);return i.set(s,u),Reflect.apply(u,a,c)},get(s,a){const c=s[a];if(!r(s,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const u=od(c,t,o,s);return i.set(c,u),u}return c}});return o};const K2=un.default;var Ks=class extends K2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(t=>this.emit("update",t))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};const X2=Ks;var e3=class extends X2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}},kr={minBlockRef:t3,maxBlockRef:n3,sortBlockRefs:Xs,bnToHex:r3,blockRefIsNumber:i3,hexToInt:Li,incrementHexInt:o3,intToHex:ad,unsafeRandomBytes:s3};function t3(...e){return Xs(e)[0]}function n3(...e){const t=Xs(e);return t[t.length-1]}function Xs(e){return e.sort((t,n)=>t==="latest"||n==="earliest"?1:n==="latest"||t==="earliest"?-1:Li(t)-Li(n))}function r3(e){return"0x"+e.toString(16)}function i3(e){return e&&!["earliest","latest","pending"].includes(e)}function Li(e){return e==null?e:Number.parseInt(e,16)}function o3(e){if(e==null)return e;const t=Li(e);return ad(t+1)}function ad(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function s3(e){let t="0x";for(let n=0;n<e;n++)t+=cd(),t+=cd();return t}function cd(){return Math.floor(Math.random()*16).toString(16)}const a3=Iw,c3=Y2,u3=e3,{bnToHex:SS,hexToInt:Di,incrementHexInt:l3,minBlockRef:h3,blockRefIsNumber:d3}=kr;var f3=class extends u3{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new a3(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),t==="earliest"&&(t="0x0"),this.params.fromBlock=t;const n=h3(this.params.toBlock,e),r=Object.assign({},this.params,{toBlock:n}),i=await this._fetchLogs(r);this.addInitialResults(i)}async update({oldBlock:e,newBlock:t}){const n=t;let r;e?r=l3(e):r=t;const i=Object.assign({},this.params,{fromBlock:r,toBlock:n}),o=(await this._fetchLogs(i)).filter(s=>this.matchLog(s));this.addResults(o)}async _fetchLogs(e){return await c3(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(Di(this.params.fromBlock)>=Di(e.blockNumber)||d3(this.params.toBlock)&&Di(this.params.toBlock)<=Di(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return this.params.address&&t&&!this.params.address.includes(t)?!1:this.params.topics.every((n,r)=>{let i=e.topics[r];if(!i)return!1;i=i.toLowerCase();let o=Array.isArray(n)?n:[n];return o.includes(null)?!0:(o=o.map(s=>s.toLowerCase()),o.includes(i))})}},ea=p3;async function p3({provider:e,fromBlock:t,toBlock:n}){t||(t=n);const r=ud(t),i=ud(n)-r+1,o=Array(i).fill().map((s,a)=>r+a).map(y3);return await Promise.all(o.map(s=>b3(e,"eth_getBlockByNumber",[s,!1])))}function ud(e){return e==null?e:Number.parseInt(e,16)}function y3(e){return e==null?e:"0x"+e.toString(16)}function b3(e,t,n){return new Promise((r,i)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:n},(o,s)=>{if(o)return i(o);r(s.result)})})}const g3=Ks,m3=ea,{incrementHexInt:v3}=kr;var _3=class extends g3{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const n=t,r=v3(e),i=(await m3({provider:this.provider,fromBlock:r,toBlock:n})).map(o=>o.hash);this.addResults(i)}};const w3=Ks,S3=ea,{incrementHexInt:E3}=kr;var x3=class extends w3{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,n=E3(e),r=await S3({provider:this.provider,fromBlock:n,toBlock:t}),i=[];for(const o of r)i.push(...o.transactions);this.addResults(i)}};const k3=nd.Mutex,{createAsyncMiddleware:C3}=Gs,M3=Mi,I3=f3,A3=_3,j3=x3,{intToHex:ld,hexToInt:ta}=kr;var R3=N3;function N3({blockTracker:e,provider:t}){let n=0,r={};const i=new k3,o=O3({mutex:i}),s=M3({eth_newFilter:o(na(c)),eth_newBlockFilter:o(na(l)),eth_newPendingTransactionFilter:o(na(u)),eth_uninstallFilter:o(Bi(d)),eth_getFilterChanges:o(Bi(m)),eth_getFilterLogs:o(Bi(h))}),a=async({oldBlock:v,newBlock:E})=>{if(r.length===0)return;const R=await i.acquire();try{await Promise.all(Ln(r).map(async U=>{try{await U.update({oldBlock:v,newBlock:E})}catch(G){console.error(G)}}))}catch(U){console.error(U)}R()};return s.newLogFilter=c,s.newBlockFilter=l,s.newPendingTransactionFilter=u,s.uninstallFilter=d,s.getFilterChanges=m,s.getFilterLogs=h,s.destroy=()=>{L()},s;async function c(v){const E=new I3({provider:t,params:v});return await w(E),E}async function l(){const v=new A3({provider:t});return await w(v),v}async function u(){const v=new j3({provider:t});return await w(v),v}async function m(v){const E=ta(v),R=r[E];if(!R)throw new Error(`No filter for index "${E}"`);return R.getChangesAndClear()}async function h(v){const E=ta(v),R=r[E];if(!R)throw new Error(`No filter for index "${E}"`);return R.type==="log"?results=R.getAllResults():results=[],results}async function d(v){const E=ta(v),R=r[E],U=Boolean(R);return U&&await I(E),U}async function w(v){const E=Ln(r).length,R=await e.getLatestBlock();await v.initialize({currentBlock:R}),n++,r[n]=v,v.id=n,v.idHex=ld(n);const U=Ln(r).length;return y({prevFilterCount:E,newFilterCount:U}),n}async function I(v){const E=Ln(r).length;delete r[v];const R=Ln(r).length;y({prevFilterCount:E,newFilterCount:R})}async function L(){const v=Ln(r).length;r={},y({prevFilterCount:v,newFilterCount:0})}function y({prevFilterCount:v,newFilterCount:E}){if(v===0&&E>0){e.on("sync",a);return}if(v>0&&E===0){e.removeListener("sync",a);return}}}function na(e){return Bi(async(...t)=>{const n=await e(...t);return ld(n.id)})}function Bi(e){return C3(async(t,n)=>{const r=await e.apply(null,t.params);n.result=r})}function O3({mutex:e}){return t=>async(n,r,i,o)=>{(await e.acquire())(),t(n,r,i,o)}}function Ln(e,t){const n=[];for(let r in e)n.push(e[r]);return n}const T3=un.default,P3=Mi,{createAsyncMiddleware:hd}=Gs,L3=R3,{unsafeRandomBytes:D3,incrementHexInt:B3}=kr,F3=ea;var U3=W3;function W3({blockTracker:e,provider:t}){const n={},r=L3({blockTracker:e,provider:t});let i=!1;const o=new T3,s=P3({eth_subscribe:hd(a),eth_unsubscribe:hd(c)});return s.destroy=u,{events:o,middleware:s};async function a(m,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=m.params[0],w=D3(16);let I;switch(d){case"newHeads":I=L({subId:w});break;case"logs":const v=m.params[1],E=await r.newLogFilter(v);I=y({subId:w,filter:E});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}n[w]=I,h.result=w;return;function L({subId:v}){const E={type:d,destroy:async()=>{e.removeListener("sync",E.update)},update:async({oldBlock:R,newBlock:U})=>{const G=U,$=B3(R);(await F3({provider:t,fromBlock:$,toBlock:G})).map(V3).forEach(z=>{l(v,z)})}};return e.on("sync",E.update),E}function y({subId:v,filter:E}){return E.on("update",R=>l(v,R)),{type:d,destroy:async()=>await r.uninstallFilter(E.idHex)}}}async function c(m,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=m.params[0],w=n[d];if(!w){h.result=!1;return}delete n[d],await w.destroy(),h.result=!0}function l(m,h){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:m,result:h}})}function u(){o.removeAllListeners();for(const m in n)n[m].destroy(),delete n[m];i=!0}}function V3(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(_i,"__esModule",{value:!0}),_i.SubscriptionManager=void 0;const H3=j2,z3=U3,dd=()=>{};class q3{constructor(t){const n=new H3({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:i}=z3({blockTracker:n,provider:t});this.events=r,this.subscriptionMiddleware=i}async handleRequest(t){const n={};return await this.subscriptionMiddleware(t,n,dd,dd),n}destroy(){this.subscriptionMiddleware.destroy()}}_i.SubscriptionManager=q3;var ra=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cn,"__esModule",{value:!0}),cn.CoinbaseWalletProvider=void 0;const G3=ra(un),Z3=ra(Eo),Te=Vr,ia=hn,fd=dn,pd=tt,re=q,oa=ra(bw),$3=On,he=kh,Q3=_i,yd="DefaultChainId",bd="DefaultJsonRpcUrl";class J3 extends G3.default{constructor(t){var n,r;super(),this._filterPolyfill=new $3.FilterPolyfill(this),this._subscriptionManager=new Q3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(n=t.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this.isCoinbaseBrowser=(r=t.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this.qrUrl=t.qrUrl,this.supportsAddressSwitching=t.supportsAddressSwitching,this.isLedger=t.isLedger;const i=this.getChainId(),o=(0,re.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:o});const s=this._storage.getItem(pd.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const a=s.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,re.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,u=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(u,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,re.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(bd))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(bd,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,n){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=n,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,n){this.jsonRpcUrl=t;const r=this.getChainId();this._storage.setItem(yd,n.toString(10)),((0,re.ensureIntNumber)(n)!==r||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,n,r,i,o,s){return!!(await(await this.initializeRelay()).watchAsset(t,n,r,i,o,s==null?void 0:s.toString()).promise).result}async addEthereumChain(t,n,r,i,o,s){var a,c;if((0,re.ensureIntNumber)(t)===this.getChainId())return!1;const l=await this.initializeRelay(),u=l.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!u&&await l.requestEthereumAccounts().promise;const m=await l.addEthereumChain(t.toString(),n,o,r,i,s).promise;return((a=m.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],t),((c=m.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Te.ethErrors.provider.custom({code:n.errorCode});const r=n.result;r.isApproved&&r.rpcUrl.length>0&&this.updateProviderInfo(r.rpcUrl,t)}setAppInfo(t,n){this.initializeRelay().then(r=>r.setAppInfo(t,n))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(ia.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?fd.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(he.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(t,n){if(typeof t=="string"){const i=t,o=Array.isArray(n)?n:n!==void 0?[n]:[],s={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(s).then(a=>a.result)}if(typeof n=="function"){const i=t,o=n;return this._sendAsync(i,o)}if(Array.isArray(t))return t.map(i=>this._sendRequest(i));const r=t;return this._sendRequest(r)}async sendAsync(t,n){if(typeof n!="function")throw new Error("callback is required");if(Array.isArray(t)){const i=n;this._sendMultipleRequestsAsync(t).then(o=>i(null,o)).catch(o=>i(o,null));return}const r=n;return this._sendRequestAsync(t).then(i=>r(null,i)).catch(i=>r(i,null))}async request(t){if(!t||typeof t!="object"||Array.isArray(t))throw Te.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:n,params:r}=t;if(typeof n!="string"||n.length===0)throw Te.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Te.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const i=r===void 0?[]:r,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:o})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,re.ensureRegExpString)(t)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(t,n){const r=await(await this.initializeRelay()).genericRequest(t,n).promise;if(typeof r.result!="string")throw new Error("result was not a string");return r.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const n={jsonrpc:"2.0",id:t.id},{method:r}=t;if(n.result=this._handleSynchronousMethods(t),n.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return n}_setAddresses(t,n){if(!Array.isArray(t))throw new Error("addresses is not an array");const r=t.map(i=>(0,re.ensureAddressString)(i));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!n||(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(pd.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" "))))}_sendRequestAsync(t){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return n({jsonrpc:"2.0",id:t.id,result:i});const o=this._handleAsynchronousFilterMethods(t);if(o!==void 0){o.then(a=>n(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>r(a));return}const s=this._handleSubscriptionMethods(t);if(s!==void 0){s.then(a=>n({jsonrpc:"2.0",id:t.id,result:a.result})).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(t).then(i=>i&&n(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(n=>this._sendRequestAsync(n)))}_handleSynchronousMethods(t){const{method:n}=t,r=t.params||[];switch(n){case he.JSONRPCMethod.eth_accounts:return this._eth_accounts();case he.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case he.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case he.JSONRPCMethod.net_version:return this._net_version();case he.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:n}=t,r=t.params||[];switch(n){case he.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case he.JSONRPCMethod.eth_sign:return this._eth_sign(r);case he.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case he.JSONRPCMethod.personal_sign:return this._personal_sign(r);case he.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case he.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case he.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case he.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case he.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case he.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case he.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case he.JSONRPCMethod.eth_signTypedData_v4:case he.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case he.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(r);case he.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case he.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case he.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(t){const{method:n}=t,r=t.params||[];switch(n){case he.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case he.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case he.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case he.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case he.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(t){switch(t.method){case he.JSONRPCMethod.eth_subscribe:case he.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const n=(0,re.ensureAddressString)(t);return this._addresses.map(r=>(0,re.ensureAddressString)(r)).includes(n)}catch{}return!1}_ensureKnownAddress(t){var n;if(!this._isKnownAddress(t))throw(n=this.diagnostic)===null||n===void 0||n.log(ia.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const n=t.from?(0,re.ensureAddressString)(t.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=t.to?(0,re.ensureAddressString)(t.to):null,i=t.value!=null?(0,re.ensureBN)(t.value):new Z3.default(0),o=t.data?(0,re.ensureBuffer)(t.data):Buffer.alloc(0),s=t.nonce!=null?(0,re.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,re.ensureBN)(t.gasPrice):null,c=t.maxFeePerGas!=null?(0,re.ensureBN)(t.maxFeePerGas):null,l=t.maxPriorityFeePerGas!=null?(0,re.ensureBN)(t.maxPriorityFeePerGas):null,u=t.gas!=null?(0,re.ensureBN)(t.gas):null,m=this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:m}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Te.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Te.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,n,r,i){this._ensureKnownAddress(n);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(t,n,r,i).promise).result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(t,n,r){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,n,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,re.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(yd);if(!t)return(0,re.ensureIntNumber)(this._chainIdFromOpts);const n=parseInt(t,10);return(0,re.ensureIntNumber)(n)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(ia.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?fd.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let n;try{n=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const n=(0,re.ensureAddressString)(t[0]),r=(0,re.ensureBuffer)(t[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(t){const n=(0,re.ensureBuffer)(t[0]),r=(0,re.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(t){this._requireAuthorization();const n=(0,re.ensureBuffer)(t[0]),r=(0,re.ensureAddressString)(t[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(t){const n=(0,re.ensureBuffer)(t[0]),r=(0,re.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(t){this._requireAuthorization();const n=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(t){const n=(0,re.ensureBuffer)(t[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(n,this.getChainId()).promise).result}}async _eth_sendTransaction(t){this._requireAuthorization();const n=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Te.ethErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(t){this._requireAuthorization();const n=(0,re.ensureParsedJSONObject)(t[0]),r=(0,re.ensureAddressString)(t[1]);this._ensureKnownAddress(r);const i=oa.default.hashForSignTypedDataLegacy({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v3(t){this._requireAuthorization();const n=(0,re.ensureAddressString)(t[0]),r=(0,re.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(n);const i=oa.default.hashForSignTypedData_v3({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v4(t){this._requireAuthorization();const n=(0,re.ensureAddressString)(t[0]),r=(0,re.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(n);const i=oa.default.hashForSignTypedData_v4({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _cbwallet_arbitrary(t){const n=t[0],r=t[1];if(typeof r!="string")throw new Error("parameter must be a string");if(typeof n!="object"||n===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(n,r)}}async _wallet_addEthereumChain(t){var n,r,i,o;const s=t[0];if(((n=s.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw Te.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw Te.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(r=s.rpcUrls)!==null&&r!==void 0?r:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const n=t[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const n=Array.isArray(t)?t[0]:t;if(!n.type)throw Te.ethErrors.rpc.invalidParams({message:"Type is required"});if((n==null?void 0:n.type)!=="ERC20")throw Te.ethErrors.rpc.invalidParams({message:`Asset of type '${n.type}' is not supported`});if(!(n!=null&&n.options))throw Te.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(n!=null&&n.options.address))throw Te.ethErrors.rpc.invalidParams({message:"Address is required"});const r=this.getChainId(),{address:i,symbol:o,image:s,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,o,a,s,r)}}_eth_uninstallFilter(t){const n=(0,re.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(n)}async _eth_newFilter(t){const n=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(n)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const n=(0,re.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(n)}_eth_getFilterLogs(t){const n=(0,re.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(n)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((n,r)=>this._setAddresses(n,r)),t.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}cn.CoinbaseWalletProvider=J3;var Fi={},Ui={},Cr,K,gd,md,Mr,vd,_d,Wi={},wd=[],Y3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function St(e,t){for(var n in t)e[n]=t[n];return e}function Sd(e){var t=e.parentNode;t&&t.removeChild(e)}function sa(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Cr.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return Ir(e,s,r,i,null)}function Ir(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++gd};return i==null&&K.vnode!=null&&K.vnode(o),o}function K3(){return{current:null}}function Ar(e){return e.children}function jr(e,t){this.props=e,this.context=t}function Rr(e,t){if(t==null)return e.__?Rr(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Rr(e):null}function Ed(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ed(e)}}function aa(e){(!e.__d&&(e.__d=!0)&&Mr.push(e)&&!Vi.__r++||vd!==K.debounceRendering)&&((vd=K.debounceRendering)||setTimeout)(Vi)}function Vi(){for(var e;Vi.__r=Mr.length;)e=Mr.sort(function(t,n){return t.__v.__b-n.__v.__b}),Mr=[],e.some(function(t){var n,r,i,o,s,a;t.__d&&(s=(o=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=St({},o)).__v=o.__v+1,ca(a,o,i,n.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??Rr(o),o.__h),Rd(r,o),o.__e!=s&&Ed(o)))})}function xd(e,t,n,r,i,o,s,a,c,l){var u,m,h,d,w,I,L,y=r&&r.__k||wd,v=y.length;for(n.__k=[],u=0;u<t.length;u++)if((d=n.__k[u]=(d=t[u])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Ir(null,d,null,null,d):Array.isArray(d)?Ir(Ar,{children:d},null,null,null):d.__b>0?Ir(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(h=y[u])===null||h&&d.key==h.key&&d.type===h.type)y[u]=void 0;else for(m=0;m<v;m++){if((h=y[m])&&d.key==h.key&&d.type===h.type){y[m]=void 0;break}h=null}ca(e,d,h=h||Wi,i,o,s,a,c,l),w=d.__e,(m=d.ref)&&h.ref!=m&&(L||(L=[]),h.ref&&L.push(h.ref,null,d),L.push(m,d.__c||w,d)),w!=null?(I==null&&(I=w),typeof d.type=="function"&&d.__k===h.__k?d.__d=c=kd(d,c,e):c=Md(e,d,h,y,w,c),typeof n.type=="function"&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=Rr(h))}for(n.__e=I,u=v;u--;)y[u]!=null&&Od(y[u],y[u]);if(L)for(u=0;u<L.length;u++)Nd(L[u],L[++u],L[++u])}function kd(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t=typeof r.type=="function"?kd(r,t,n):Md(n,r,r,i,r.__e,t));return t}function Cd(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){Cd(n,t)}):t.push(e)),t}function Md(e,t,n,r,i,o){var s,a,c;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==i)break e;e.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function X3(e,t,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in t||Hi(e,o,null,n[o],r);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===t[o]||Hi(e,o,t[o],n[o],r)}function Id(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||Y3.test(t)?n:n+"px"}function Hi(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Id(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Id(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?jd:Ad,o):e.removeEventListener(t,o?jd:Ad,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function Ad(e){this.l[e.type+!1](K.event?K.event(e):e)}function jd(e){this.l[e.type+!0](K.event?K.event(e):e)}function ca(e,t,n,r,i,o,s,a,c){var l,u,m,h,d,w,I,L,y,v,E,R,U,G,$,z=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=t.__e=n.__e,t.__h=null,o=[a]),(l=K.__b)&&l(t);try{e:if(typeof z=="function"){if(L=t.props,y=(l=z.contextType)&&r[l.__c],v=l?y?y.props.value:l.__:r,n.__c?I=(u=t.__c=n.__c).__=u.__E:("prototype"in z&&z.prototype.render?t.__c=u=new z(L,v):(t.__c=u=new jr(L,v),u.constructor=z,u.render=t4),y&&y.sub(u),u.props=L,u.state||(u.state={}),u.context=v,u.__n=r,m=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),z.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=St({},u.__s)),St(u.__s,z.getDerivedStateFromProps(L,u.__s))),h=u.props,d=u.state,m)z.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(z.getDerivedStateFromProps==null&&L!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(L,v),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(L,u.__s,v)===!1||t.__v===n.__v){for(u.props=L,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(W){W&&(W.__=t)}),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(L,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,d,w)})}if(u.context=v,u.props=L,u.__v=t,u.__P=e,R=K.__r,U=0,"prototype"in z&&z.prototype.render){for(u.state=u.__s,u.__d=!1,R&&R(t),l=u.render(u.props,u.state,u.context),G=0;G<u._sb.length;G++)u.__h.push(u._sb[G]);u._sb=[]}else do u.__d=!1,R&&R(t),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++U<25);u.state=u.__s,u.getChildContext!=null&&(r=St(St({},r),u.getChildContext())),m||u.getSnapshotBeforeUpdate==null||(w=u.getSnapshotBeforeUpdate(h,d)),$=l!=null&&l.type===Ar&&l.key==null?l.props.children:l,xd(e,Array.isArray($)?$:[$],t,n,r,i,o,s,a,c),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),I&&(u.__E=u.__=null),u.__e=!1}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=e4(n.__e,t,n,r,i,o,s,c);(l=K.diffed)&&l(t)}catch(W){t.__v=null,(c||o!=null)&&(t.__e=a,t.__h=!!c,o[o.indexOf(a)]=null),K.__e(W,t,n)}}function Rd(e,t){K.__c&&K.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){K.__e(r,n.__v)}})}function e4(e,t,n,r,i,o,s,a){var c,l,u,m=n.props,h=t.props,d=t.type,w=0;if(d==="svg"&&(i=!0),o!=null){for(;w<o.length;w++)if((c=o[w])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){e=c,o[w]=null;break}}if(e==null){if(d===null)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),o=null,a=!1}if(d===null)m===h||a&&e.data===h||(e.data=h);else{if(o=o&&Cr.call(e.childNodes),l=(m=n.props||Wi).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(o!=null)for(m={},w=0;w<e.attributes.length;w++)m[e.attributes[w].name]=e.attributes[w].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(X3(e,h,m,i,a),u)t.__k=[];else if(w=t.props.children,xd(e,Array.isArray(w)?w:[w],t,n,r,i&&d!=="foreignObject",o,s,o?o[0]:n.__k&&Rr(n,0),a),o!=null)for(w=o.length;w--;)o[w]!=null&&Sd(o[w]);a||("value"in h&&(w=h.value)!==void 0&&(w!==e.value||d==="progress"&&!w||d==="option"&&w!==m.value)&&Hi(e,"value",w,m.value,!1),"checked"in h&&(w=h.checked)!==void 0&&w!==e.checked&&Hi(e,"checked",w,m.checked,!1))}return e}function Nd(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){K.__e(r,n)}}function Od(e,t,n){var r,i;if(K.unmount&&K.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Nd(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){K.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Od(r[i],t,n||typeof e.type!="function");n||e.__e==null||Sd(e.__e),e.__=e.__e=e.__d=void 0}function t4(e,t,n){return this.constructor(e,n)}function Td(e,t,n){var r,i,o;K.__&&K.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],ca(t,e=(!r&&n||t).__k=sa(Ar,null,[e]),i||Wi,Wi,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?Cr.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),Rd(o,e)}function Pd(e,t){Td(e,t,Pd)}function n4(e,t,n){var r,i,o,s=St({},e.props);for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];return arguments.length>2&&(s.children=arguments.length>3?Cr.call(arguments,2):n),Ir(e.type,s,r||e.key,i||e.ref,null)}function r4(e,t){var n={__c:t="__cC"+_d++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(aa)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Cr=wd.slice,K={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},gd=0,md=function(e){return e!=null&&e.constructor===void 0},jr.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=St({},this.state),typeof e=="function"&&(e=e(St({},n),this.props)),e&&St(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),aa(this))},jr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),aa(this))},jr.prototype.render=Ar,Mr=[],Vi.__r=0,_d=0;const i4=Object.freeze(Object.defineProperty({__proto__:null,Component:jr,Fragment:Ar,cloneElement:n4,createContext:r4,createElement:sa,createRef:K3,h:sa,hydrate:Pd,get isValidElement(){return md},get options(){return K},render:Td,toChildArray:Cd},Symbol.toStringTag,{value:"Module"})),We=Fr(i4);var zi={};function Ld(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ld(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Dd(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ld(e))&&(r&&(r+=" "),r+=t);return r}const o4=Object.freeze(Object.defineProperty({__proto__:null,clsx:Dd,default:Dd},Symbol.toStringTag,{value:"Module"})),qi=Fr(o4);var Dt,pe,ua,Bd,Dn=0,Fd=[],Gi=[],Ud=K.__b,Wd=K.__r,Vd=K.diffed,Hd=K.__c,zd=K.unmount;function rn(e,t){K.__h&&K.__h(pe,e,Dn||t),Dn=0;var n=pe.__H||(pe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Gi}),n.__[e]}function qd(e){return Dn=1,Gd(Qd,e)}function Gd(e,t,n){var r=rn(Dt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Qd(void 0,t),function(o){var s=r.__N?r.__N[0]:r.__[0],a=r.t(s,o);s!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=pe,!pe.u)){pe.u=!0;var i=pe.shouldComponentUpdate;pe.shouldComponentUpdate=function(o,s,a){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(u){return u.__c});if(c.every(function(u){return!u.__N}))return!i||i.call(this,o,s,a);var l=!1;return c.forEach(function(u){if(u.__N){var m=u.__[0];u.__=u.__N,u.__N=void 0,m!==u.__[0]&&(l=!0)}}),!(!l&&r.__c.props===o)&&(!i||i.call(this,o,s,a))}}return r.__N||r.__}function s4(e,t){var n=rn(Dt++,3);!K.__s&&da(n.__H,t)&&(n.__=e,n.i=t,pe.__H.__h.push(n))}function Zd(e,t){var n=rn(Dt++,4);!K.__s&&da(n.__H,t)&&(n.__=e,n.i=t,pe.__h.push(n))}function a4(e){return Dn=5,la(function(){return{current:e}},[])}function c4(e,t,n){Dn=6,Zd(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function la(e,t){var n=rn(Dt++,7);return da(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function u4(e,t){return Dn=8,la(function(){return e},t)}function l4(e){var t=pe.context[e.__c],n=rn(Dt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(pe)),t.props.value):e.__}function h4(e,t){K.useDebugValue&&K.useDebugValue(t?t(e):e)}function d4(e){var t=rn(Dt++,10),n=qd();return t.__=e,pe.componentDidCatch||(pe.componentDidCatch=function(r,i){t.__&&t.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function f4(){var e=rn(Dt++,11);if(!e.__){for(var t=pe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function p4(){for(var e;e=Fd.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Zi),e.__H.__h.forEach(ha),e.__H.__h=[]}catch(t){e.__H.__h=[],K.__e(t,e.__v)}}K.__b=function(e){pe=null,Ud&&Ud(e)},K.__r=function(e){Wd&&Wd(e),Dt=0;var t=(pe=e.__c).__H;t&&(ua===pe?(t.__h=[],pe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Gi,n.__N=n.i=void 0})):(t.__h.forEach(Zi),t.__h.forEach(ha),t.__h=[])),ua=pe},K.diffed=function(e){Vd&&Vd(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Fd.push(t)!==1&&Bd===K.requestAnimationFrame||((Bd=K.requestAnimationFrame)||y4)(p4)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Gi&&(n.__=n.__V),n.i=void 0,n.__V=Gi})),ua=pe=null},K.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Zi),n.__h=n.__h.filter(function(r){return!r.__||ha(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],K.__e(r,n.__v)}}),Hd&&Hd(e,t)},K.unmount=function(e){zd&&zd(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Zi(r)}catch(i){t=i}}),n.__H=void 0,t&&K.__e(t,n.__v))};var $d=typeof requestAnimationFrame=="function";function y4(e){var t,n=function(){clearTimeout(r),$d&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);$d&&(t=requestAnimationFrame(n))}function Zi(e){var t=pe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),pe=t}function ha(e){var t=pe;e.__c=e.__(),pe=t}function da(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Qd(e,t){return typeof t=="function"?t(e):t}const b4=Object.freeze(Object.defineProperty({__proto__:null,useCallback:u4,useContext:l4,useDebugValue:h4,useEffect:s4,useErrorBoundary:d4,useId:f4,useImperativeHandle:c4,useLayoutEffect:Zd,useMemo:la,useReducer:Gd,useRef:a4,useState:qd},Symbol.toStringTag,{value:"Module"})),Nr=Fr(b4);var lt={},$i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.LIB_VERSION=void 0,$i.LIB_VERSION="3.6.3";var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.CloseIcon=void 0;const Jd=We;function g4(e){return(0,Jd.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Jd.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Qi.CloseIcon=g4;var fa={};Object.defineProperty(fa,"__esModule",{value:!0}),fa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var pa={};Object.defineProperty(pa,"__esModule",{value:!0}),pa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.QRCodeIcon=void 0;const ht=We;function m4(e){return(0,ht.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},e),(0,ht.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,ht.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,ht.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,ht.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,ht.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,ht.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,ht.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,ht.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,ht.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Ji.QRCodeIcon=m4;var ya={};Object.defineProperty(ya,"__esModule",{value:!0});const v4=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;ya.default=v4;var ba={};Object.defineProperty(ba,"__esModule",{value:!0}),ba.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.StatusDotIcon=void 0;const Yd=We;function _4(e){return(0,Yd.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},e),(0,Yd.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Yi.StatusDotIcon=_4;var Ki={};function Kd(e){this.mode=Ve.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var r=[],i=this.data.charCodeAt(t);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Kd.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}};function dt(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}dt.prototype={addData:function(e){var t=new Kd(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=dt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=me.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var c=a*i,l=this.modules[o][a];l&&(r.beginFill(0,100),r.moveTo(c,s),r.lineTo(c+i,s),r.lineTo(c+i,s+i),r.lineTo(c,s+i),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=me.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(this.modules[r][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[r+o][i+s]=!0:this.modules[r+o][i+s]=!1}},setupTypeNumber:function(e){for(var t=me.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=me.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[r][s-a]==null){var c=!1;o<e.length&&(c=(e[o]>>>i&1)==1);var l=me.getMask(t,r,s-a);l&&(c=!c),this.modules[r][s-a]=c,i--,i==-1&&(o++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}},dt.PAD0=236,dt.PAD1=17,dt.createData=function(e,t,n){for(var r=ft.getRSBlocks(e,t),i=new Xd,o=0;o<n.length;o++){var s=n[o];i.put(s.mode,4),i.put(s.getLength(),me.getLengthInBits(s.mode,e)),s.write(i)}for(var a=0,o=0;o<r.length;o++)a+=r[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(dt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(dt.PAD1,8);return dt.createBytes(i,r)},dt.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,l=t[a].totalCount-c;r=Math.max(r,c),i=Math.max(i,l),o[a]=new Array(c);for(var u=0;u<o[a].length;u++)o[a][u]=255&e.buffer[u+n];n+=c;var m=me.getErrorCorrectPolynomial(l),h=new Bn(o[a],m.getLength()-1),d=h.mod(m);s[a]=new Array(m.getLength()-1);for(var u=0;u<s[a].length;u++){var w=u+d.getLength()-s[a].length;s[a][u]=w>=0?d.get(w):0}}for(var I=0,u=0;u<t.length;u++)I+=t[u].totalCount;for(var L=new Array(I),y=0,u=0;u<r;u++)for(var a=0;a<t.length;a++)u<o[a].length&&(L[y++]=o[a][u]);for(var u=0;u<i;u++)for(var a=0;a<t.length;a++)u<s[a].length&&(L[y++]=s[a][u]);return L};for(var Ve={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Bt={L:1,M:0,Q:3,H:2},Ft={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},me={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(e){for(var t=e<<10;me.getBCHDigit(t)-me.getBCHDigit(me.G15)>=0;)t^=me.G15<<me.getBCHDigit(t)-me.getBCHDigit(me.G15);return(e<<10|t)^me.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;me.getBCHDigit(t)-me.getBCHDigit(me.G18)>=0;)t^=me.G18<<me.getBCHDigit(t)-me.getBCHDigit(me.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return me.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ft.PATTERN000:return(t+n)%2==0;case Ft.PATTERN001:return t%2==0;case Ft.PATTERN010:return n%3==0;case Ft.PATTERN011:return(t+n)%3==0;case Ft.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ft.PATTERN101:return t*n%2+t*n%3==0;case Ft.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ft.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Bn([1],0),n=0;n<e;n++)t=t.multiply(new Bn([1,Me.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ve.MODE_NUMBER:return 10;case Ve.MODE_ALPHA_NUM:return 9;case Ve.MODE_8BIT_BYTE:return 8;case Ve.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ve.MODE_NUMBER:return 12;case Ve.MODE_ALPHA_NUM:return 11;case Ve.MODE_8BIT_BYTE:return 16;case Ve.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ve.MODE_NUMBER:return 14;case Ve.MODE_ALPHA_NUM:return 13;case Ve.MODE_8BIT_BYTE:return 16;case Ve.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||t<=r+a))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||a==0&&c==0||s==e.isDark(r+a,i+c)&&o++;o>5&&(n+=3+o-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var l=0;e.isDark(r,i)&&l++,e.isDark(r+1,i)&&l++,e.isDark(r,i+1)&&l++,e.isDark(r+1,i+1)&&l++,(l==0||l==4)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var u=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&u++;var m=Math.abs(100*u/t/t-50)/5;return n+=m*10,n}},Me={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Me.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Me.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},je=0;je<8;je++)Me.EXP_TABLE[je]=1<<je;for(var je=8;je<256;je++)Me.EXP_TABLE[je]=Me.EXP_TABLE[je-4]^Me.EXP_TABLE[je-5]^Me.EXP_TABLE[je-6]^Me.EXP_TABLE[je-8];for(var je=0;je<255;je++)Me.LOG_TABLE[Me.EXP_TABLE[je]]=je;function Bn(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}Bn.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Me.gexp(Me.glog(this.get(n))+Me.glog(e.get(r)));return new Bn(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Me.glog(this.get(0))-Me.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Me.gexp(Me.glog(e.get(r))+t);return new Bn(n,0).mod(e)}};function ft(e,t){this.totalCount=e,this.dataCount=t}ft.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ft.getRSBlocks=function(e,t){var n=ft.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=[],o=0;o<r;o++)for(var s=n[o*3+0],a=n[o*3+1],c=n[o*3+2],l=0;l<s;l++)i.push(new ft(a,c));return i},ft.getRsBlockTable=function(e,t){switch(t){case Bt.L:return ft.RS_BLOCK_TABLE[(e-1)*4+0];case Bt.M:return ft.RS_BLOCK_TABLE[(e-1)*4+1];case Bt.Q:return ft.RS_BLOCK_TABLE[(e-1)*4+2];case Bt.H:return ft.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function Xd(){this.buffer=[],this.length=0}Xd.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ga=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function ef(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(c){switch(c){case"L":return Bt.L;case"M":return Bt.M;case"Q":return Bt.Q;case"H":return Bt.H;default:throw new Error("Unknwon error correction level: "+c)}}function r(c,l){for(var u=i(c),m=1,h=0,d=0,w=ga.length;d<=w;d++){var I=ga[d];if(!I)throw new Error("Content too long: expected "+h+" but got "+u);switch(l){case"L":h=I[0];break;case"M":h=I[1];break;case"Q":h=I[2];break;case"H":h=I[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(u<=h)break;m++}if(m>ga.length)throw new Error("Content too long");return m}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var o=this.options.content,s=r(o,this.options.ecl),a=n(this.options.ecl);this.qrcode=new dt(s,a),this.qrcode.addData(o),this.qrcode.make()}ef.prototype.svg=function(e){var t=this.options||{},n=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var r=typeof t.pretty<"u"?!!t.pretty:!0,i=r?"  ":"",o=r?`\r
`:"",s=t.width,a=t.height,c=n.length,l=s/(c+2*t.padding),u=a/(c+2*t.padding),m=typeof t.join<"u"?!!t.join:!1,h=typeof t.swap<"u"?!!t.swap:!1,d=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,w=typeof t.predefined<"u"?!!t.predefined:!1,I=w?i+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"",L=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o,y="",v="",E=0;E<c;E++)for(var R=0;R<c;R++){var U=n[R][E];if(U){var G=R*l+t.padding*l,$=E*u+t.padding*u;if(h){var z=G;G=$,$=z}if(m){var W=l+G,ue=u+$;G=Number.isInteger(G)?Number(G):G.toFixed(2),$=Number.isInteger($)?Number($):$.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),ue=Number.isInteger(ue)?Number(ue):ue.toFixed(2),v+="M"+G+","+$+" V"+ue+" H"+W+" V"+$+" H"+G+" Z "}else w?y+=i+'<use x="'+G.toString()+'" y="'+$.toString()+'" href="#qrmodule" />'+o:y+=i+'<rect x="'+G.toString()+'" y="'+$.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}}m&&(y=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+v+'" />');let oe="";if(this.options.image!==void 0&&this.options.image.svg){const X=s*this.options.image.width/100,V=a*this.options.image.height/100,se=s/2-X/2,fe=a/2-V/2;oe+=`<svg x="${se}" y="${fe}" width="${X}" height="${V}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,oe+=this.options.image.svg+o,oe+="</svg>"}var J="";switch(e.container){case"svg":d&&(J+='<?xml version="1.0" standalone="yes"?>'+o),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,J+=I+L+y,J+=oe,J+="</svg>";break;case"svg-viewbox":d&&(J+='<?xml version="1.0" standalone="yes"?>'+o),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,J+=I+L+y,J+=oe,J+="</svg>";break;case"g":J+='<g width="'+s+'" height="'+a+'">'+o,J+=I+L+y,J+=oe,J+="</g>";break;default:J+=(I+L+y+oe).replace(/^\s+/,"");break}return J};var w4=ef,S4=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.QRCode=void 0;const E4=We,tf=Nr,x4=S4(w4),k4=e=>{const[t,n]=(0,tf.useState)("");return(0,tf.useEffect)(()=>{var r,i;const o=new x4.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(r=e.width)!==null&&r!==void 0?r:256,height:(i=e.height)!==null&&i!==void 0?i:256,padding:0,image:e.image}),s=Buffer.from(o.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${s}`)}),t?(0,E4.h)("img",{src:t,alt:"QR Code"}):null};Ki.QRCode=k4;var Xi={},ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var C4=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Spinner=void 0;const eo=We,M4=C4(ma),I4=e=>{var t;const n=(t=e.size)!==null&&t!==void 0?t:64,r=e.color||"#000";return(0,eo.h)("div",{class:"-cbwsdk-spinner"},(0,eo.h)("style",null,M4.default),(0,eo.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,eo.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};Xi.Spinner=I4;var va={};Object.defineProperty(va,"__esModule",{value:!0}),va.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Fn=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.CoinbaseAppSteps=lt.CoinbaseWalletSteps=lt.ConnectItem=lt.ConnectContent=void 0;const Ye=Fn(qi),Q=We,nf=Nr,A4=q,j4=$i,R4=Qi,N4=Fn(fa),O4=Fn(pa),rf=Ji,T4=Fn(ya),P4=Fn(ba),L4=Yi,D4=Ki,B4=Xi,F4=Fn(va),of={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:O4.default,steps:af},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:N4.default,steps:cf}},U4=e=>{switch(e){case"coinbase-app":return T4.default;case"coinbase-wallet-app":default:return P4.default}},_a=e=>e==="light"?"#FFFFFF":"#0A0B0D";function W4(e){const{theme:t}=e,[n,r]=(0,nf.useState)("coinbase-wallet-app"),i=(0,nf.useCallback)(l=>{r(l)},[]),o=(0,A4.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),s=of[n];if(!n)return null;const a=s.steps,c=n==="coinbase-app";return(0,Q.h)("div",{"data-testid":"connect-content",class:(0,Ye.default)("-cbwsdk-connect-content",t)},(0,Q.h)("style",null,F4.default),(0,Q.h)("div",{class:"-cbwsdk-connect-content-header"},(0,Q.h)("h2",{class:(0,Ye.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with one of our mobile apps"),e.onCancel&&(0,Q.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,Q.h)(R4.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Q.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,Q.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,Q.h)("div",null,Object.entries(of).map(([l,u])=>(0,Q.h)(sf,{key:l,title:u.title,description:u.description,icon:u.icon,selected:n===l,onClick:()=>i(l),theme:t}))),c&&(0,Q.h)("div",{class:(0,Ye.default)("-cbwsdk-connect-content-update-app",t)},"Don\u2019t see a ",(0,Q.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,Q.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,Q.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,Q.h)(D4.QRCode,{content:o,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:U4(n),width:25,height:25}}),(0,Q.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:j4.LIB_VERSION}),(0,Q.h)("input",{type:"hidden",value:o})),(0,Q.h)(a,{theme:t}),!e.isConnected&&(0,Q.h)("div",{"data-testid":"connecting-spinner",class:(0,Ye.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,Q.h)(B4.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,Q.h)("p",null,"Connecting...")))))}lt.ConnectContent=W4;function sf({title:e,description:t,icon:n,selected:r,theme:i,onClick:o}){return(0,Q.h)("div",{onClick:o,class:(0,Ye.default)("-cbwsdk-connect-item",i,{selected:r})},(0,Q.h)("div",null,(0,Q.h)("img",{src:n,alt:e})),(0,Q.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,Q.h)("h3",{class:"-cbwsdk-connect-item-title"},e),(0,Q.h)("p",{class:"-cbwsdk-connect-item-description"},t)))}lt.ConnectItem=sf;function af({theme:e}){return(0,Q.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Q.h)("li",{class:(0,Ye.default)("-cbwsdk-wallet-steps-item",e)},(0,Q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,Q.h)("li",{class:(0,Ye.default)("-cbwsdk-wallet-steps-item",e)},(0,Q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Q.h)("span",null,"Tap ",(0,Q.h)("strong",null,"Scan")," "),(0,Q.h)("span",{class:(0,Ye.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,Q.h)(rf.QRCodeIcon,{fill:_a(e)})))))}lt.CoinbaseWalletSteps=af;function cf({theme:e}){return(0,Q.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Q.h)("li",{class:(0,Ye.default)("-cbwsdk-wallet-steps-item",e)},(0,Q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,Q.h)("li",{class:(0,Ye.default)("-cbwsdk-wallet-steps-item",e)},(0,Q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Q.h)("span",null,"Tap ",(0,Q.h)("strong",null,"More")),(0,Q.h)("span",{class:(0,Ye.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,Q.h)(L4.StatusDotIcon,{fill:_a(e)})),(0,Q.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,Q.h)("strong",null,"Scan")),(0,Q.h)("span",{class:(0,Ye.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,Q.h)(rf.QRCodeIcon,{fill:_a(e)})))))}lt.CoinbaseAppSteps=cf;var to={},no={};Object.defineProperty(no,"__esModule",{value:!0}),no.ArrowLeftIcon=void 0;const uf=We;function V4(e){return(0,uf.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,uf.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}no.ArrowLeftIcon=V4;var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.LaptopIcon=void 0;const wa=We;function H4(e){return(0,wa.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,wa.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,wa.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ro.LaptopIcon=H4;var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.SafeIcon=void 0;const lf=We;function z4(e){return(0,lf.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,lf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}io.SafeIcon=z4;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var hf=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(to,"__esModule",{value:!0}),to.TryExtensionContent=void 0;const on=hf(qi),Se=We,Ea=Nr,q4=no,G4=ro,Z4=io,$4=hf(Sa);function Q4({theme:e}){const[t,n]=(0,Ea.useState)(!1),r=(0,Ea.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Ea.useCallback)(()=>{t?window.location.reload():(r(),n(!0))},[r,t]);return(0,Se.h)("div",{class:(0,on.default)("-cbwsdk-try-extension",e)},(0,Se.h)("style",null,$4.default),(0,Se.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Se.h)("h3",{class:(0,on.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,Se.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Se.h)("button",{class:(0,on.default)("-cbwsdk-try-extension-cta",e),onClick:i},t?"Refresh":"Install"),(0,Se.h)("div",null,!t&&(0,Se.h)(q4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,Se.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Se.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Se.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Se.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Se.h)("span",{class:(0,on.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Se.h)(G4.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Se.h)("div",{class:(0,on.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,Se.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Se.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Se.h)("span",{class:(0,on.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Se.h)(Z4.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Se.h)("div",{class:(0,on.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}to.TryExtensionContent=Q4;var xa={};Object.defineProperty(xa,"__esModule",{value:!0}),xa.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var df=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0}),zi.ConnectDialog=void 0;const ka=df(qi),sn=We,Ca=Nr,J4=lt,Y4=to,K4=df(xa),X4=e=>{const{isOpen:t,darkMode:n}=e,[r,i]=(0,Ca.useState)(!t),[o,s]=(0,Ca.useState)(!t);(0,Ca.useEffect)(()=>{const c=[window.setTimeout(()=>{s(!t)},10)];return t?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[e.isOpen]);const a=n?"dark":"light";return(0,sn.h)("div",{class:(0,ka.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,sn.h)("style",null,K4.default),(0,sn.h)("div",{class:(0,ka.default)("-cbwsdk-connect-dialog-backdrop",a,o&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,sn.h)("div",{class:"-cbwsdk-connect-dialog"},(0,sn.h)("div",{class:(0,ka.default)("-cbwsdk-connect-dialog-box",o&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,sn.h)(J4.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,sn.h)(Y4.TryExtensionContent,{theme:a}))))};zi.ConnectDialog=X4,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.LinkFlow=void 0;const Ma=We,ff=wn,e5=zi;class t5{constructor(t){this.extensionUI$=new ff.BehaviorSubject({}),this.subscriptions=new ff.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection,this.connected$=t.connected$,this.chainId$=t.chainId$}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(n=>{this.isConnected!==n&&(this.isConnected=n,this.render())})),this.subscriptions.add(this.chainId$.subscribe(n=>{this.chainId!==n&&(this.chainId=n,this.render())}))}detach(){var t;this.root&&(this.subscriptions.unsubscribe(),(0,Ma.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const t=this.extensionUI$.subscribe(()=>{this.root&&(0,Ma.render)((0,Ma.h)(e5.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(t)}}Ui.LinkFlow=t5;var pf={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",function(e){var t=ee&&ee.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const n=t(qi),r=We,i=Nr,o=t(Ia),s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(m){switch(m){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const d=this.nextItemKey++;return this.items.set(d,h),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,d])=>(0,r.h)(e.SnackbarInstance,Object.assign({},d,{key:h}))))),this.root)}}e.Snackbar=c;const l=m=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,o.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},m.children));e.SnackbarContainer=l;const u=({autoExpand:m,message:h,menuItems:d,appSrc:w})=>{const[I,L]=(0,i.useState)(!0),[y,v]=(0,i.useState)(m??!1);(0,i.useEffect)(()=>{const R=[window.setTimeout(()=>{L(!1)},1),window.setTimeout(()=>{v(!0)},1e4)];return()=>{R.forEach(window.clearTimeout)}});const E=()=>{v(!y)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",I&&"-cbwsdk-snackbar-instance-hidden",y&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:E},(0,r.h)("img",{src:a(w),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,r.h)("div",{class:"-gear-container"},!y&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:s,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((R,U)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:R.onClick,key:U},(0,r.h)("svg",{width:R.svgWidth,height:R.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":R.defaultFillRule,"clip-rule":R.defaultClipRule,d:R.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},R.info)))))};e.SnackbarInstance=u}(pf);var oo={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var n5=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oo,"__esModule",{value:!0}),oo.injectCssReset=void 0;const r5=n5(Aa);function i5(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(r5.default)),document.documentElement.appendChild(e)}oo.injectCssReset=i5,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.WalletSDKUI=void 0;const o5=Ui,s5=pf,a5=oo;class c5{constructor(t){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new s5.Snackbar({darkMode:t.darkMode}),this.linkFlow=new o5.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,connected$:t.connected$,chainId$:t.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",t.appendChild(n),this.linkFlow.attach(n),this.snackbar.attach(n),this.attached=!0,(0,a5.injectCssReset)()}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(t){}watchAsset(t){}switchEthereumChain(t){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(t){}signEthereumTransaction(t){}submitEthereumTransaction(t){}ethereumAddressFromSignedMessage(t){}showConnecting(t){let n;return t.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:n={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(n)}setAppSrc(t){this.appSrc=t}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(t){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}Fi.WalletSDKUI=c5;var so={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});var Un;(function(e){e.typeOfFunction="function",e.boolTrue=!0})(Un||(Un={}));function yf(e,t,n){if(!n||typeof n.value!==Un.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:Un.boolTrue,get:function(){var r=n.value.bind(this);return Object.defineProperty(this,t,{value:r,configurable:Un.boolTrue,writable:Un.boolTrue}),r}}}ao.bind=yf,ao.default=yf;var co={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.ClientMessagePublishEvent=Ke.ClientMessageSetSessionConfig=Ke.ClientMessageGetSessionConfig=Ke.ClientMessageIsLinked=Ke.ClientMessageHostSession=void 0;function u5(e){return Object.assign({type:"HostSession"},e)}Ke.ClientMessageHostSession=u5;function l5(e){return Object.assign({type:"IsLinked"},e)}Ke.ClientMessageIsLinked=l5;function h5(e){return Object.assign({type:"GetSessionConfig"},e)}Ke.ClientMessageGetSessionConfig=h5;function d5(e){return Object.assign({type:"SetSessionConfig"},e)}Ke.ClientMessageSetSessionConfig=d5;function f5(e){return Object.assign({type:"PublishEvent"},e)}Ke.ClientMessagePublishEvent=f5;var bf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RxWebSocket=e.ConnectionState=void 0;const t=wn,n=ei;var r;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(r=e.ConnectionState||(e.ConnectionState={}));class i{constructor(s,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new t.BehaviorSubject(r.DISCONNECTED),this.incomingDataSubject=new t.Subject,this.url=s.replace(/^http/,"ws")}connect(){return this.webSocket?(0,t.throwError)(new Error("webSocket object is not null")):new t.Observable(s=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){s.error(c);return}this.connectionStateSubject.next(r.CONNECTING),a.onclose=c=>{this.clearWebSocket(),s.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(r.DISCONNECTED)},a.onopen=c=>{s.next(),s.complete(),this.connectionStateSubject.next(r.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,n.take)(1))}disconnect(){const{webSocket:s}=this;if(s){this.clearWebSocket(),this.connectionStateSubject.next(r.DISCONNECTED);try{s.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,n.flatMap)(s=>{let a;try{a=JSON.parse(s)}catch{return(0,t.empty)()}return(0,t.of)(a)}))}sendData(s){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(s)}clearWebSocket(){const{webSocket:s}=this;s&&(this.webSocket=null,s.onclose=null,s.onerror=null,s.onmessage=null,s.onopen=null)}}e.RxWebSocket=i})(bf);var uo={};Object.defineProperty(uo,"__esModule",{value:!0}),uo.isServerMessageFail=void 0;function p5(e){return e&&e.type==="Fail"&&typeof e.id=="number"&&typeof e.sessionId=="string"&&typeof e.error=="string"}uo.isServerMessageFail=p5,Object.defineProperty(co,"__esModule",{value:!0}),co.WalletSDKConnection=void 0;const rt=wn,ce=ei,Or=dn,Wn=pr,Tr=Ke,Pr=hn,lo=bf,ja=uo,gf=1e4,y5=6e4;class b5{constructor(t,n,r,i,o=WebSocket){this.sessionId=t,this.sessionKey=n,this.diagnostic=i,this.subscriptions=new rt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Wn.IntNumber)(1),this.connectedSubject=new rt.BehaviorSubject(!1),this.linkedSubject=new rt.BehaviorSubject(!1),this.sessionConfigSubject=new rt.ReplaySubject(1);const s=new lo.RxWebSocket(r+"/rpc",o);this.ws=s,this.subscriptions.add(s.connectionState$.pipe((0,ce.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Pr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Or.Session.hash(t)})}),(0,ce.skip)(1),(0,ce.filter)(a=>a===lo.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ce.delay)(5e3),(0,ce.filter)(a=>!this.destroyed),(0,ce.flatMap)(a=>s.connect()),(0,ce.retry)()).subscribe()),this.subscriptions.add(s.connectionState$.pipe((0,ce.skip)(2),(0,ce.switchMap)(a=>(0,rt.iif)(()=>a===lo.ConnectionState.CONNECTED,this.authenticate().pipe((0,ce.tap)(c=>this.sendIsLinked()),(0,ce.tap)(c=>this.sendGetSessionConfig()),(0,ce.map)(c=>!0)),(0,rt.of)(!1))),(0,ce.distinctUntilChanged)(),(0,ce.catchError)(a=>(0,rt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(s.connectionState$.pipe((0,ce.skip)(1),(0,ce.switchMap)(a=>(0,rt.iif)(()=>a===lo.ConnectionState.CONNECTED,(0,rt.timer)(0,gf)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(s.incomingData$.pipe((0,ce.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(s.incomingJSONData$.pipe((0,ce.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Pr.EVENTS.LINKED,{sessionIdHash:Or.Session.hash(t),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(s.incomingJSONData$.pipe((0,ce.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Pr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Or.Session.hash(t),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(Pr.EVENTS.STARTED_CONNECTING,{sessionIdHash:Or.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var t;this.subscriptions.unsubscribe(),this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(Pr.EVENTS.DISCONNECTED,{sessionIdHash:Or.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ce.filter)(t=>t),(0,ce.take)(1),(0,ce.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ce.filter)(t=>t),(0,ce.take)(1),(0,ce.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ce.filter)(t=>{if(t.type!=="Event")return!1;const n=t;return typeof n.sessionId=="string"&&typeof n.eventId=="string"&&typeof n.event=="string"&&typeof n.data=="string"}),(0,ce.map)(t=>t))}setSessionMetadata(t,n){const r=(0,Tr.ClientMessageSetSessionConfig)({id:(0,Wn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[t]:n}});return this.onceConnected$.pipe((0,ce.flatMap)(i=>this.makeRequest(r)),(0,ce.map)(i=>{if((0,ja.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(t,n,r=!1){const i=(0,Tr.ClientMessagePublishEvent)({id:(0,Wn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:t,data:n,callWebhook:r});return this.onceLinked$.pipe((0,ce.flatMap)(o=>this.makeRequest(i)),(0,ce.map)(o=>{if((0,ja.isServerMessageFail)(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>gf*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(t,n=y5){const r=t.id;try{this.sendData(t)}catch(i){return(0,rt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ce.timeoutWith)(n,(0,rt.throwError)(new Error(`request ${r} timed out`))),(0,ce.filter)(i=>i.id===r),(0,ce.take)(1))}authenticate(){const t=(0,Tr.ClientMessageHostSession)({id:(0,Wn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(t).pipe((0,ce.map)(n=>{if((0,ja.isServerMessageFail)(n))throw new Error(n.error||"failed to authentcate")}))}sendIsLinked(){const t=(0,Tr.ClientMessageIsLinked)({id:(0,Wn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}sendGetSessionConfig(){const t=(0,Tr.ClientMessageGetSessionConfig)({id:(0,Wn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}}co.WalletSDKConnection=b5;var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.WalletUIError=void 0;class Lr extends Error{constructor(t,n){super(t),this.message=t,this.errorCode=n}}ho.WalletUIError=Lr,Lr.UserRejectedRequest=new Lr("User rejected request"),Lr.SwitchEthereumChainUnsupportedChainId=new Lr("Unsupported chainId",4902);var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.decrypt=Vn.encrypt=void 0;const g5=wn,fo=q;async function m5(e,t){if(t.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",(0,fo.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,i.encode(e)),s=16,a=o.slice(o.byteLength-s),c=o.slice(0,o.byteLength-s),l=new Uint8Array(a),u=new Uint8Array(c),m=new Uint8Array([...n,...l,...u]);return(0,fo.uint8ArrayToHex)(m)}Vn.encrypt=m5;function v5(e,t){if(t.length!==64)throw Error("secret must be 256 bits");return new g5.Observable(n=>{(async function(){const r=await crypto.subtle.importKey("raw",(0,fo.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,fo.hexStringToUint8Array)(e),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),c=new Uint8Array([...a,...s]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const u=await window.crypto.subtle.decrypt(l,r,c),m=new TextDecoder;n.next(m.decode(u)),n.complete()}catch(u){n.error(u)}})()})}Vn.decrypt=v5;var Ra={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Method=void 0,function(t){t.requestEthereumAccounts="requestEthereumAccounts",t.signEthereumMessage="signEthereumMessage",t.signEthereumTransaction="signEthereumTransaction",t.submitEthereumTransaction="submitEthereumTransaction",t.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",t.scanQRCode="scanQRCode",t.generic="generic",t.childRequestEthereumAccounts="childRequestEthereumAccounts",t.addEthereumChain="addEthereumChain",t.switchEthereumChain="switchEthereumChain",t.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",t.watchAsset="watchAsset",t.selectProvider="selectProvider"}(e.Web3Method||(e.Web3Method={}))})(Ra);var po={},yo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RelayMessageType=void 0,function(t){t.SESSION_ID_REQUEST="SESSION_ID_REQUEST",t.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.WEB3_REQUEST="WEB3_REQUEST",t.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",t.WEB3_RESPONSE="WEB3_RESPONSE"}(e.RelayMessageType||(e.RelayMessageType={}))})(yo),Object.defineProperty(po,"__esModule",{value:!0}),po.Web3RequestCanceledMessage=void 0;const _5=yo;function w5(e){return{type:_5.RelayMessageType.WEB3_REQUEST_CANCELED,id:e}}po.Web3RequestCanceledMessage=w5;var bo={};Object.defineProperty(bo,"__esModule",{value:!0}),bo.Web3RequestMessage=void 0;const S5=yo;function E5(e){return Object.assign({type:S5.RelayMessageType.WEB3_REQUEST},e)}bo.Web3RequestMessage=E5;var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.EthereumAddressFromSignedMessageResponse=ye.SubmitEthereumTransactionResponse=ye.SignEthereumTransactionResponse=ye.SignEthereumMessageResponse=ye.isRequestEthereumAccountsResponse=ye.SelectProviderResponse=ye.WatchAssetReponse=ye.RequestEthereumAccountsResponse=ye.SwitchEthereumChainResponse=ye.AddEthereumChainResponse=ye.ErrorResponse=void 0;const pt=Ra;function x5(e,t,n){return{method:e,errorMessage:t,errorCode:n}}ye.ErrorResponse=x5;function k5(e){return{method:pt.Web3Method.addEthereumChain,result:e}}ye.AddEthereumChainResponse=k5;function C5(e){return{method:pt.Web3Method.switchEthereumChain,result:e}}ye.SwitchEthereumChainResponse=C5;function M5(e){return{method:pt.Web3Method.requestEthereumAccounts,result:e}}ye.RequestEthereumAccountsResponse=M5;function I5(e){return{method:pt.Web3Method.watchAsset,result:e}}ye.WatchAssetReponse=I5;function A5(e){return{method:pt.Web3Method.selectProvider,result:e}}ye.SelectProviderResponse=A5;function j5(e){return e&&e.method===pt.Web3Method.requestEthereumAccounts}ye.isRequestEthereumAccountsResponse=j5;function R5(e){return{method:pt.Web3Method.signEthereumMessage,result:e}}ye.SignEthereumMessageResponse=R5;function N5(e){return{method:pt.Web3Method.signEthereumTransaction,result:e}}ye.SignEthereumTransactionResponse=N5;function O5(e){return{method:pt.Web3Method.submitEthereumTransaction,result:e}}ye.SubmitEthereumTransactionResponse=O5;function T5(e){return{method:pt.Web3Method.ethereumAddressFromSignedMessage,result:e}}ye.EthereumAddressFromSignedMessageResponse=T5;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isWeb3ResponseMessage=Hn.Web3ResponseMessage=void 0;const mf=yo;function P5(e){return Object.assign({type:mf.RelayMessageType.WEB3_RESPONSE},e)}Hn.Web3ResponseMessage=P5;function L5(e){return e&&e.type===mf.RelayMessageType.WEB3_RESPONSE}Hn.isWeb3ResponseMessage=L5;var D5=ee&&ee.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),B5=ee&&ee.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vf=ee&&ee.__decorate||function(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},F5=ee&&ee.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&D5(t,e,n);return B5(t,e),t},U5=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(so,"__esModule",{value:!0}),so.WalletSDKRelay=void 0;const _f=U5(ao),wf=Vr,Dr=wn,Ee=ei,Pe=hn,W5=co,Na=ho,V5=pr,be=q,Ut=F5(Vn),Wt=dn,go=tt,Ie=Ra,H5=po,z5=bo,He=ye,Fe=Hn;class it extends go.WalletSDKRelayAbstract{constructor(t){var n;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Dr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Dr.Subscription,this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:r,ui:i,connection:o}=this.subscribe();if(this._session=r,this.connection=o,this.relayEventManager=t.relayEventManager,t.diagnosticLogger&&t.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");t.eventListener?this.diagnostic={log:t.eventListener.onEvent}:this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(n=t.reloadOnDisconnect)!==null&&n!==void 0?n:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const t=Wt.Session.load(this.storage)||new Wt.Session(this.storage).save(),n=new W5.WalletSDKConnection(t.id,t.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(n.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(n.incomingEvent$.pipe((0,Ee.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(n.linked$.pipe((0,Ee.skip)(1),(0,Ee.tap)(i=>{var o;this.isLinked=i;const s=this.storage.getItem(go.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,s){const a=s.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(o=this.diagnostic)===null||o===void 0||o.log(Pe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(n.sessionConfig$.pipe((0,Ee.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const o=n.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:o,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(n.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ee.mergeMap)(i=>Ut.decrypt(i.metadata.WalletUsername,t.secret))).subscribe({next:i=>{this.storage.setItem(go.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ee.mergeMap)(i=>Ut.decrypt(i.metadata.AppVersion,t.secret))).subscribe({next:i=>{this.storage.setItem(go.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ee.mergeMap)(i=>(0,Dr.zip)(Ut.decrypt(i.metadata.ChainId,t.secret),Ut.decrypt(i.metadata.JsonRpcUrl,t.secret)))).pipe((0,Ee.distinctUntilChanged)()).subscribe({next:([i,o])=>{this.chainCallback&&this.chainCallback(i,o)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ee.mergeMap)(i=>Ut.decrypt(i.metadata.EthereumAddress,t.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),it.accountRequestCallbackIds.size>0&&(Array.from(it.accountRequestCallbackIds.values()).forEach(o=>{const s=(0,Fe.Web3ResponseMessage)({id:o,response:(0,He.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},s),{id:o}))}),it.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Ee.mergeMap)(i=>Ut.decrypt(i.metadata.AppSrc,t.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const r=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:t,connected$:n.connected$,chainId$:this.dappDefaultChainSubject});return n.connect(),{session:t,ui:r,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ee.timeout)(1e3),(0,Ee.catchError)(t=>(0,Dr.of)(null))).subscribe(t=>{var n,r,i;const o=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=Wt.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Wt.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,o&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},t=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,n){this.appName=t,this.appLogoUrl=n}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,n){this.storage.setItem(t,n)}signEthereumMessage(t,n,r,i){return this.sendRequest({method:Ie.Web3Method.signEthereumMessage,params:{message:(0,be.hexStringFromBuffer)(t,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,n,r){return this.sendRequest({method:Ie.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,be.hexStringFromBuffer)(t,!0),signature:(0,be.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(t){return this.sendRequest({method:Ie.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,be.bigIntStringFromBN)(t.weiValue),data:(0,be.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,be.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,be.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,be.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,be.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:Ie.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,be.bigIntStringFromBN)(t.weiValue),data:(0,be.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,be.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,be.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,be.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,be.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,n){return this.sendRequest({method:Ie.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,be.hexStringFromBuffer)(t,!0),chainId:n}})}scanQRCode(t){return this.sendRequest({method:Ie.Web3Method.scanQRCode,params:{regExp:t}})}getQRCodeUrl(){return(0,be.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,n){return this.sendRequest({method:Ie.Web3Method.generic,params:{action:n,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let n=null;const r=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,o),n==null||n()};return{promise:new Promise((o,s)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),a.errorMessage)return s(new Error(a.errorMessage));o(a)}),this.ui.isStandalone()?this.sendRequestStandalone(r,t):this.publishWeb3RequestEvent(r,t)}),cancel:i}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChainSubject.next(t)}publishWeb3RequestEvent(t,n){var r;const i=(0,z5.Web3RequestMessage)({id:t,request:n}),o=Wt.Session.load(this.storage);(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?Wt.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:s=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Pe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?Wt.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()})},error:s=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:s.message}}))}}))}publishWeb3RequestCanceledEvent(t){const n=(0,H5.Web3RequestCanceledMessage)(t);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",n,!1).subscribe())}publishEvent(t,n,r){const i=this.session.secret;return new Dr.Observable(o=>{Ut.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin})),i).then(s=>{o.next(s),o.complete()})}).pipe((0,Ee.mergeMap)(o=>this.connection.publishEvent(t,o,r)))}handleIncomingEvent(t){try{this.subscriptions.add(Ut.decrypt(t.data,this.session.secret).pipe((0,Ee.map)(n=>JSON.parse(n))).subscribe({next:n=>{const r=(0,Fe.isWeb3ResponseMessage)(n)?n:null;r&&this.handleWeb3ResponseMessage(r)},error:()=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(t){var n;const{response:r}=t;if((n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),(0,He.isRequestEthereumAccountsResponse)(r)){it.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},t),{id:i}))),it.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,n,r,i){this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:t,response:(0,He.ErrorResponse)(n,(r??Na.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(t){const n=this.relayEventManager.callbacks.get(t.id);n&&(n(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:Ie.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,be.randomBytesHex)(8),r=i=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,i)};return{promise:new Promise((i,o)=>{var s;this.relayEventManager.callbacks.set(n,c=>{if(this.ui.hideRequestEthereumAccounts(),c.errorMessage)return o(new Error(c.errorMessage));i(c)});const a=((s=window==null?void 0:window.navigator)===null||s===void 0?void 0:s.userAgent)||null;if(a&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)){let c;try{(0,be.isInIFrame)()&&window.top?c=window.top.location:c=window.location}catch{c=window.location}c.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(c.href)}`;return}if(this.ui.inlineAccountsResponse()){const c=l=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:n,response:(0,He.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:c})}else{const c=wf.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(c)})}it.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,t)}),cancel:r}}selectProvider(t){const n={method:Ie.Web3Method.selectProvider,params:{providerOptions:t}},r=(0,be.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,s)},o=new Promise((s,a)=>{this.relayEventManager.callbacks.set(r,u=>{if(u.errorMessage)return a(new Error(u.errorMessage));s(u)});const c=u=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:r,response:(0,He.SelectProviderResponse)(V5.ProviderType.Unselected)}))},l=u=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:r,response:(0,He.SelectProviderResponse)(u)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:t})});return{cancel:i,promise:o}}watchAsset(t,n,r,i,o,s){const a={method:Ie.Web3Method.watchAsset,params:{type:t,options:{address:n,symbol:r,decimals:i,image:o},chainId:s}};let c=null;const l=(0,be.randomBytesHex)(8),u=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const m=new Promise((h,d)=>{this.relayEventManager.callbacks.set(l,L=>{if(c==null||c(),L.errorMessage)return d(new Error(L.errorMessage));h(L)});const w=L=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:l,response:(0,He.WatchAssetReponse)(!1)}))},I=()=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:l,response:(0,He.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:I,onCancel:w,type:t,address:n,symbol:r,decimals:i,image:o,chainId:s}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:u,promise:m}}addEthereumChain(t,n,r,i,o,s){const a={method:Ie.Web3Method.addEthereumChain,params:{chainId:t,rpcUrls:n,blockExplorerUrls:i,chainName:o,iconUrls:r,nativeCurrency:s}};let c=null;const l=(0,be.randomBytesHex)(8),u=m=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,m),c==null||c()};return this.ui.inlineAddEthereumChain(t)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((m,h)=>{this.relayEventManager.callbacks.set(l,I=>{if(c==null||c(),I.errorMessage)return h(new Error(I.errorMessage));m(I)});const d=I=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:l,response:(0,He.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},w=I=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:l,response:(0,He.AddEthereumChainResponse)({isApproved:!0,rpcUrl:I})}))};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:d,onApprove:w,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:u}}switchEthereumChain(t,n){const r={method:Ie.Web3Method.switchEthereumChain,params:Object.assign({chainId:t},{address:n})},i=(0,be.randomBytesHex)(8),o=s=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,s)};return{promise:new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,u=>{if(u.errorMessage&&u.errorCode)return a(wf.ethErrors.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(u.errorMessage)return a(new Error(u.errorMessage));s(u)});const c=u=>{if(typeof u=="number"){const m=u;this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:i,response:(0,He.ErrorResponse)(Ie.Web3Method.switchEthereumChain,Na.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,m)}))}else u instanceof Na.WalletUIError?this.handleErrorResponse(i,Ie.Web3Method.switchEthereumChain,u,u.errorCode):this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:i,response:(0,He.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=u=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:i,response:(0,He.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:u})}))};this.ui.switchEthereumChain({onCancel:c,onApprove:l,chainId:r.params.chainId,address:r.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:o}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return Wt.Session.hash(this._session.id)}sendRequestStandalone(t,n){const r=o=>{this.handleErrorResponse(t,n.method,o)},i=o=>{this.handleWeb3ResponseMessage((0,Fe.Web3ResponseMessage)({id:t,response:o}))};switch(n.method){case Ie.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:n,onSuccess:i,onCancel:r});break;case Ie.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case Ie.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case Ie.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:n,onSuccess:i});break;default:r();break}}onSessionConfigChanged(t){}}it.accountRequestCallbackIds=new Set,vf([_f.default],it.prototype,"resetAndReload",null),vf([_f.default],it.prototype,"handleIncomingEvent",null),so.WalletSDKRelay=it;var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),mo.WalletSDKRelayEventManager=void 0;const q5=q;class G5{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,n=(0,q5.prepend0x)(t.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),t}}mo.WalletSDKRelayEventManager=G5;const Z5="@coinbase/wallet-sdk",$5="3.6.3",Q5="Coinbase Wallet JavaScript SDK",J5=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Y5="dist/index.js",K5="dist/index.d.ts",X5="https://github.com/coinbase/coinbase-wallet-sdk.git",eS="Coinbase, Inc.",tS="Apache-2.0",nS={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},rS={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},iS={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},oS={node:">= 10.0.0"},sS={name:Z5,version:$5,description:Q5,keywords:J5,main:Y5,types:K5,repository:X5,author:eS,license:tS,scripts:nS,dependencies:rS,devDependencies:iS,engines:oS};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.CoinbaseWalletSDK=void 0;const aS=Ur,cS=Wr,uS=cn,lS=Fi,hS=so,dS=mo,fS=q,pS={}.LINK_API_URL||"https://www.walletlink.org",Sf={}.SDK_VERSION||sS.version||"unknown";class vo{constructor(t){var n,r,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const o=t.linkAPIUrl||pS;let s;if(t.uiConstructor?s=t.uiConstructor:s=l=>new lS.WalletSDKUI(l),typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(n=t.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this._overrideIsCoinbaseBrowser=(r=t.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,t.diagnosticLogger&&t.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");t.eventListener?this._diagnosticLogger={log:t.eventListener.onEvent}:this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(i=t.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(o),c=`${a.protocol}//${a.host}`;this._storage=new cS.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",vo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new dS.WalletSDKRelayEventManager,this._relay=new hS.WalletSDKRelay({linkAPIUrl:o,version:Sf,darkMode:!!t.darkMode,uiConstructor:s,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI())}makeWeb3Provider(t="",n=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(t,n),this._reloadOnDisconnect===!1&&typeof r.disableReloadOnDisconnect=="function"&&r.disableReloadOnDisconnect(),r;const i=this.coinbaseBrowser;if(i)return i;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||o.setConnectDisabled(!0),new uS.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:n,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,n){var r;this._appName=t||"DApp",this._appLogoUrl=n||(0,fS.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(r=this._relay)===null||r===void 0||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const n=this.walletExtension;n?n.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,n;return(n=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&n!==void 0?n:null}getCoinbaseWalletLogo(t,n=240){return(0,aS.walletLogo)(t,n)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,n;try{const r=(t=window.ethereum)!==null&&t!==void 0?t:(n=window.top)===null||n===void 0?void 0:n.ethereum;return r&&"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}Zn.CoinbaseWalletSDK=vo,vo.VERSION=Sf,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=Zn,n=cn;var r=Zn;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}});var i=cn;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=n.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=n.CoinbaseWalletProvider)}(xo);let Ef;Ef=yS(xo),xf=Mf({__proto__:null,default:Ef},[xo])});export{gS as __tla,xf as i};
