!function($){var defaults={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper"},$window=$(window),$document=$(document),sticked=[],windowHeight=$window.height(),scroller=function(){for(var scrollTop=$window.scrollTop(),documentHeight=$document.height(),dwh=documentHeight-windowHeight,extra=scrollTop>dwh?dwh-scrollTop:0,i=0;i<sticked.length;i++){var s=sticked[i],elementTop,etse;if(scrollTop<=s.stickyWrapper.offset().top-s.topSpacing-extra)null!==s.currentTop&&(s.stickyElement.css("position","").css("top","").removeClass(s.className),s.stickyElement.parent().removeClass(s.className),s.currentTop=null);else{var newTop=documentHeight-s.stickyElement.outerHeight()-s.topSpacing-s.bottomSpacing-scrollTop-extra;newTop<0?newTop+=s.topSpacing:newTop=s.topSpacing,s.currentTop!=newTop&&(s.stickyElement.css("position","fixed").css("top",newTop).addClass(s.className),s.stickyElement.parent().addClass(s.className),s.currentTop=newTop)}}},resizer=function(){windowHeight=$window.height()},methods={init:function(options){var o=$.extend(defaults,options);return this.each((function(){var stickyElement=$(this);stickyId=stickyElement.attr("id"),wrapper=$("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(o.wrapperClassName),stickyElement.wrapAll(wrapper);var stickyWrapper=stickyElement.parent();stickyWrapper.css("height",stickyElement.outerHeight()),sticked.push({topSpacing:o.topSpacing,bottomSpacing:o.bottomSpacing,stickyElement:stickyElement,currentTop:null,stickyWrapper:stickyWrapper,className:o.className})}))},update:scroller};window.addEventListener?(window.addEventListener("scroll",scroller,!1),window.addEventListener("resize",resizer,!1)):window.attachEvent&&(window.attachEvent("onscroll",scroller),window.attachEvent("onresize",resizer)),$.fn.sticky=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.sticky"):methods.init.apply(this,arguments)},$((function(){setTimeout(scroller,0)}))}(jQuery);